<head><script type="module">/*! For license information please see index.js.LICENSE.txt */
import{createPinia as e,defineStore as t}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var a={667(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,o]of t)a[e]=o;return a}}},o={};const n=Vue,r=e=>{for(const t in e)if(t.startsWith('aria-')||'role'===t||'title'===t)return!0;return!1},l=e=>''===e,s=(...e)=>e.filter((e,t,a)=>Boolean(e)&&''!==e.trim()&&a.indexOf(e)===t).join(' ').trim(),c=e=>e.replace(/([a-z0-9])([A-Z])/g,'$1-$2').toLowerCase(),i=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)};var d={xmlns:'http://www.w3.org/2000/svg',width:24,height:24,viewBox:'0 0 24 24',fill:'none',stroke:'currentColor','stroke-width':2,'stroke-linecap':'round','stroke-linejoin':'round'};const u=({name:e,iconNode:t,absoluteStrokeWidth:a,'absolute-stroke-width':o,strokeWidth:u,'stroke-width':m,size:p=d.width,color:f=d.stroke,...g},{slots:y})=>(0,n.h)('svg',{...d,...g,width:p,height:p,stroke:f,'stroke-width':l(a)||l(o)||!0===a||!0===o?24*Number(u||m||d['stroke-width'])/Number(p):u||m||d['stroke-width'],class:s('lucide',g.class,...e?[`lucide-${c(i(e))}-icon`,`lucide-${c(e)}`]:['lucide-icon']),...!y.default&&!r(g)&&{'aria-hidden':'true'}},[...t.map(e=>(0,n.h)(...e)),...y.default?[y.default()]:[]]),m=(e,t)=>(a,{slots:o,attrs:r})=>(0,n.h)(u,{...r,...a,iconNode:t,name:e},o),p=m('settings',[['path',{d:'M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915',key:'1i5ecw'}],['circle',{cx:'12',cy:'12',r:'3',key:'1v7zrd'}]]),f=m('scroll',[['path',{d:'M19 17V5a2 2 0 0 0-2-2H4',key:'zz82l3'}],['path',{d:'M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3',key:'1ph1d7'}]]),g=m('book',[['path',{d:'M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20',key:'k3hazp'}]]),y=m('box',[['path',{d:'M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z',key:'hh9hay'}],['path',{d:'m3.3 7 8.7 5 8.7-5',key:'g66t2b'}],['path',{d:'M12 22V12',key:'d0xqtd'}]]),b=m('map',[['path',{d:'M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z',key:'169xi5'}],['path',{d:'M15 5.764v15',key:'1pn4in'}],['path',{d:'M9 3.236v15',key:'1uimfh'}]]),v=m('maximize',[['path',{d:'M8 3H5a2 2 0 0 0-2 2v3',key:'1dcmit'}],['path',{d:'M21 8V5a2 2 0 0 0-2-2h-3',key:'1e4gt3'}],['path',{d:'M3 16v3a2 2 0 0 0 2 2h3',key:'wsl5sc'}],['path',{d:'M16 21h3a2 2 0 0 0 2-2v-3',key:'18trek'}]]),h=m('book-open',[['path',{d:'M12 7v14',key:'1akyts'}],['path',{d:'M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z',key:'ruj8y'}]]),x=m('file-text',[['path',{d:'M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z',key:'1oefj6'}],['path',{d:'M14 2v5a1 1 0 0 0 1 1h5',key:'wfsgrz'}],['path',{d:'M10 9H8',key:'b1mrlr'}],['path',{d:'M16 13H8',key:'t4e002'}],['path',{d:'M16 17H8',key:'z1uh3a'}]]),k=m('send',[['path',{d:'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',key:'1ffxy3'}],['path',{d:'m21.854 2.147-10.94 10.939',key:'12cjpa'}]]),N=m('chevron-down',[['path',{d:'m6 9 6 6 6-6',key:'qrunsl'}]]),E=m('activity',[['path',{d:'M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2',key:'169zse'}]]),C=m('dices',[['rect',{width:'12',height:'12',x:'2',y:'10',rx:'2',ry:'2',key:'6agr2n'}],['path',{d:'m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6',key:'1o487t'}],['path',{d:'M6 18h.01',key:'uhywen'}],['path',{d:'M10 14h.01',key:'ssrbsk'}],['path',{d:'M15 6h.01',key:'cblpky'}],['path',{d:'M18 9h.01',key:'2061c0'}]]),V=m('coins',[['circle',{cx:'8',cy:'8',r:'6',key:'3yglwk'}],['path',{d:'M18.09 10.37A6 6 0 1 1 10.34 18',key:'t5s6rm'}],['path',{d:'M7 6h1v4',key:'1obek4'}],['path',{d:'m16.71 13.88.7.71-2.82 2.82',key:'1rbuyh'}]]);var w,M,B,S;!function(e){e.PHYSICAL='物理',e.MAGIC='魔法',e.FUNCTION='功能',e.DODGE='闪避'}(w||(w={})),function(e){e.BARRIER='结界',e.ARMOR='护甲',e.BIND='束缚',e.DEVOUR='吞食',e.POISON='中毒',e.POISON_AMOUNT='中毒量',e.BURN='燃烧',e.BLEED='流血',e.VULNERABLE='易伤',e.REGEN='生命回复',e.IGNITE_AURA='施加燃烧',e.STUN='眩晕',e.CHARGE='蓄力',e.COLD='寒冷',e.NON_LIVING='非生物',e.MANA_DRAIN='法力枯竭',e.MANA_SPRING='魔力源泉',e.SWARM='群集',e.INDOMITABLE='不屈'}(M||(M={})),function(e){e.EXPLORE='EXPLORE',e.COMBAT='COMBAT'}(B||(B={})),function(e){e.TURN_START='TURN_START',e.DRAW_PHASE='DRAW_PHASE',e.INTENT_PREVIEW='INTENT_PREVIEW',e.PLAYER_INPUT='PLAYER_INPUT',e.RESOLUTION='RESOLUTION',e.DISCARD_PHASE='DISCARD_PHASE',e.TURN_END='TURN_END',e.WIN='WIN',e.LOSE='LOSE'}(S||(S={}));const D={id:'basic_physical',name:'普通物理攻击',type:w.PHYSICAL,category:'基础',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'造成1倍点数的伤害'},A={id:'basic_physical_plus_2',name:'普通物理攻击+2',type:w.PHYSICAL,category:'基础',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:2},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'点数+2，造成1倍最终点数的伤害'},T={id:'basic_physical_plus_4',name:'普通物理攻击+4',type:w.PHYSICAL,category:'基础',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:4},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'点数+4，造成1倍最终点数的伤害'},R={id:'basic_magic',name:'普通魔法攻击',type:w.MAGIC,category:'基础',rarity:'普通',manaCost:2,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:1.5,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'消耗2MP，造成1.5倍点数的伤害'},I={id:'focus_magic_attack',name:'聚焦魔法攻击',type:w.MAGIC,category:'基础',rarity:'普通',manaCost:3,calculation:{multiplier:1.5,addition:0},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'消耗3MP，骰子点数*1.5，造成1倍最终点数的伤害'},L={id:'basic_shield',name:'普通护盾',type:w.FUNCTION,category:'基础',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.ARMOR,target:'self',valueMode:'point_scale',scale:1}],description:'获得1倍点数的护甲'},O={id:'basic_dodge',name:'普通闪避',type:w.DODGE,category:'基础',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'若敌方攻击点数高于我方，则敌方攻击无效'},P={id:'burn_spark_mark',name:'火花烙印',type:w.FUNCTION,category:'燃烧',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:-2},damageLogic:{mode:'fixed',value:0},traits:{combo:!0,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.BURN,target:'enemy',valueMode:'fixed',fixedValue:1}],description:'敌方燃烧+1，我方点数-2，连击'},U={id:'burn_tar_splash',name:'焦油泼洒',type:w.FUNCTION,category:'燃烧',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!0,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.BURN,target:'enemy',valueMode:'fixed',fixedValue:1},{kind:'apply_buff',effectType:M.BURN,target:'self',valueMode:'fixed',fixedValue:2}],description:'敌方燃烧+1，自身燃烧+2，连击'},G={id:'burn_scorch_wind',name:'焚风术',type:w.MAGIC,category:'燃烧',rarity:'普通',manaCost:2,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:.5,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'对敌方造成0.5倍最终点数伤害并叠加目标当前燃烧层数'},H={id:'burn_scorch',name:'烧伤',type:w.MAGIC,category:'燃烧',rarity:'普通',manaCost:2,calculation:{multiplier:1,addition:-2},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.VULNERABLE,target:'enemy',valueMode:'fixed',fixedValue:1}],description:'点数-2，造成1倍最终点数伤害并施加易伤+1'},F={id:'burn_flame_strike',name:'烈焰打击',type:w.PHYSICAL,category:'燃烧',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.BURN,target:'enemy',valueMode:'fixed',fixedValue:1}],description:'造成1倍最终点数伤害并附加燃烧+1'},j={id:'burn_soul_bolt',name:'灼魂飞弹',type:w.MAGIC,category:'燃烧',rarity:'普通',manaCost:2,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.BURN,target:'enemy',valueMode:'fixed',fixedValue:2}],description:'造成1倍最终点数伤害并附加燃烧+2'},Y={id:'burn_body_lunge',name:'焚身突刺',type:w.PHYSICAL,category:'燃烧',rarity:'普通',manaCost:0,calculation:{multiplier:2,addition:0},damageLogic:{mode:'relative',scale:.6,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.BURN,target:'enemy',valueMode:'fixed',fixedValue:1}],description:'点数*2，造成0.6倍最终点数伤害并附加燃烧+1'},W={id:'burn_detonation',name:'爆燃术',type:w.MAGIC,category:'燃烧',rarity:'普通',manaCost:6,calculation:{multiplier:.8,addition:0},damageLogic:{mode:'fixed',value:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.BURN,target:'enemy',valueMode:'point_scale',scale:1}],description:'点数*0.8，造成目标燃烧层数伤害，并施加1倍最终点数的燃烧'},q={id:'burn_inferno_judgement',name:'炎狱判决',type:w.MAGIC,category:'燃烧',rarity:'普通',manaCost:4,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'敌方每有2层燃烧点数额外+1，随后造成1倍最终点数伤害'},Z={id:'burn_hell_waves',name:'炼狱波及',type:w.FUNCTION,category:'燃烧',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.BURN,target:'enemy',valueMode:'fixed',fixedValue:2},{kind:'apply_buff',effectType:M.BURN,target:'self',valueMode:'fixed',fixedValue:2},{kind:'apply_buff',effectType:M.BARRIER,target:'self',valueMode:'fixed',fixedValue:1}],description:'双方燃烧+2，自身结界+1'},K={id:'burn_char_convert',name:'炭化转化',type:w.FUNCTION,category:'燃烧',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'清除自身燃烧并按层数回复魔力'},J={id:'enemy_moth_aphro_powder',name:'催情鳞粉',type:w.PHYSICAL,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:.5,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.VULNERABLE,target:'enemy',valueMode:'fixed',fixedValue:1}],description:'造成0.5倍最终点数伤害，并施加易伤+1'},X={id:'enemy_moth_sensitive_mark',name:'敏感化标记',type:w.PHYSICAL,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:.5,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.COLD,target:'enemy',valueMode:'point_scale',scale:1}],description:'造成0.5倍最终点数伤害，并施加1倍最终点数的寒冷'},Q={id:'enemy_moth_pheromone',name:'荧光信息素',type:w.FUNCTION,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.CHARGE,target:'self',valueMode:'point_scale',scale:1}],description:'自身增加1倍最终点数的蓄力'},ee={id:'enemy_moth_swarm_burst',name:'群体效应',type:w.MAGIC,category:'敌人',rarity:'普通',manaCost:6,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'消耗6MP，造成1倍最终点数伤害；自身每有1层群集额外造成一次同等伤害'},te={id:'enemy_root_tremor_sense',name:'震动感知',type:w.FUNCTION,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.ARMOR,target:'self',valueMode:'point_scale',scale:2}],description:'为自身增加2倍最终点数的护甲'},ae={id:'enemy_root_lube_secretion',name:'润滑分泌',type:w.FUNCTION,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.POISON,target:'enemy',valueMode:'point_scale',scale:.5}],description:'为敌方增加0.5倍最终点数的中毒'},oe={id:'enemy_root_infiltrate_climb',name:'渗透攀爬',type:w.PHYSICAL,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'apply_buff',effectType:M.BIND,target:'enemy',restrictedTypes:[w.PHYSICAL,w.DODGE],valueMode:'fixed',fixedValue:1}],description:'造成1倍最终点数伤害，并为敌方附加1回合束缚'},ne={id:'enemy_charge',name:'冲撞',type:w.PHYSICAL,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:1},damageLogic:{mode:'relative',scale:1,scaleAddition:0},hitCount:1,traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'点数+1，造成1倍最终点数的伤害'},re={id:'enemy_slime_dodge',name:'粘液闪避',type:w.DODGE,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'若敌方攻击点数高于我方，则敌方攻击无效'},le={id:'enemy_heal',name:'回复',type:w.FUNCTION,category:'敌人',rarity:'普通',manaCost:0,calculation:{multiplier:1,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[{kind:'heal',target:'self',valueMode:'point_scale',scale:1}],description:'回复1倍点数的生命值'},se=new Map([[D.name,D],[A.name,A],[T.name,T],[R.name,R],[I.name,I],[L.name,L],[O.name,O],[P.name,P],[U.name,U],[G.name,G],[H.name,H],[F.name,F],[j.name,j],[Y.name,Y],[W.name,W],[q.name,q],[Z.name,Z],[K.name,K],[J.name,J],[X.name,X],[Q.name,Q],[ee.name,ee],[te.name,te],[ae.name,ae],[oe.name,oe],[ne.name,ne],[re.name,re],[le.name,le]]);function ce(e){return se.get(e)}function ie(e,t){return e.deck.find(e=>e.name===t)??e.deck[0]}const de={name:'游荡粘液球',stats:{hp:12,maxHp:12,mp:0,minDice:2,maxDice:5,effects:[{type:M.REGEN,stacks:1,polarity:'buff'}]},deck:[ce('冲撞'),ce('粘液闪避'),ce('回复')],selectCard(e){if(e.enemyStats.hp/e.enemyStats.maxHp<=.4&&!e.flags.hasUsedHeal)return e.flags.hasUsedHeal=!0,ie(e,'回复');return ie(e,function(e){const t=e.reduce((e,t)=>e+t.weight,0);let a=Math.random()*t;for(const t of e)if(a-=t.weight,a<=0)return t.value;return e[e.length-1].value}([{value:'冲撞',weight:70},{value:'粘液闪避',weight:30}]))}},ue={name:'荧光蛾',stats:{hp:5,maxHp:5,mp:1,minDice:1,maxDice:4,effects:[{type:M.MANA_SPRING,stacks:2,polarity:'buff'},{type:M.SWARM,stacks:3,polarity:'buff'}]},deck:[ce('催情鳞粉'),ce('敏感化标记'),ce('荧光信息素'),ce('群体效应')],selectCard(e){if(e.enemyStats.mp>=6)return ie(e,'群体效应');const t=['催情鳞粉','敏感化标记','荧光信息素'];return ie(e,t[Math.floor(Math.random()*t.length)])}},me={name:'根须潜行者',stats:{hp:8,maxHp:8,mp:0,minDice:2,maxDice:5,effects:[{type:M.SWARM,stacks:2,polarity:'buff'}]},deck:[ce('震动感知'),ce('润滑分泌'),ce('渗透攀爬')],selectCard(e){const t=['震动感知','润滑分泌','渗透攀爬'];return ie(e,t[Math.floor(Math.random()*t.length)])}},pe=new Map([[de.name,de],[ue.name,ue],[me.name,me]]);function fe(e){return pe.get(e)}const ge=(e,t)=>e.effects.find(e=>e.type===t)?.stacks??0,ye=[{id:'lucky_coin_small',name:'幸运硬币（小）',rarity:'普通',category:'基础',effect:'最小骰子点数 +1',description:'战斗开始时，最小骰子点数 +1。',hooks:{onBattleStart:({count:e,self:t,addLog:a})=>{t.minDice+=e,a(`[幸运硬币（小）] 最小骰子点数 +${e}。`)}}},{id:'lucky_coin_large',name:'幸运硬币（大）',rarity:'普通',category:'基础',effect:'最大骰子点数 +1',description:'战斗开始时，最大骰子点数 +1。',hooks:{onBattleStart:({count:e,self:t,addLog:a})=>{t.maxDice+=e,a(`[幸运硬币（大）] 最大骰子点数 +${e}。`)}}},{id:'red_notebook',name:'红色笔记',rarity:'普通',category:'基础',effect:'打出物理卡牌时最终点数 +1',description:'每次打出物理卡牌时，最终点数 +1。',hooks:{modifyFinalPoint:({card:e,currentPoint:t,count:a})=>e.type!==w.PHYSICAL?t:t+a}},{id:'blue_notebook',name:'蓝色笔记',rarity:'普通',category:'基础',effect:'打出魔法卡牌时最终点数 +1',description:'每次打出魔法卡牌时，最终点数 +1。',hooks:{modifyFinalPoint:({card:e,currentPoint:t,count:a})=>e.type!==w.MAGIC?t:t+a}},{id:'yellow_notebook',name:'黄色笔记',rarity:'普通',category:'基础',effect:'打出功能卡牌时最终点数 +1',description:'每次打出功能卡牌时，最终点数 +1。',hooks:{modifyFinalPoint:({card:e,currentPoint:t,count:a})=>e.type!==w.FUNCTION?t:t+a}},{id:'green_notebook',name:'绿色笔记',rarity:'普通',category:'基础',effect:'打出闪避卡牌时最终点数 -1',description:'每次打出闪避卡牌时，最终点数 -1。',hooks:{modifyFinalPoint:({card:e,currentPoint:t,count:a})=>e.type!==w.DODGE?t:t-a}},{id:'mana_residue',name:'魔力残渣',rarity:'普通',category:'基础',effect:'回合结束时，若自身魔力等于 0，则魔力 +1',description:'每回合结束时，若魔力为 0，则回复 1 点魔力。',hooks:{onTurnEnd:({count:e,side:t,self:a,restoreMana:o,addLog:n})=>{if(0!==a.mp)return;const r=o(t,e);r>0&&n(`[魔力残渣] 魔力为 0，回复 ${r} 点魔力。`)}}},{id:'sanctuary_amulet',name:'庇护符',rarity:'普通',category:'基础',effect:'战斗开始时，获得一层“不屈”',description:'战斗开始时，获得 1 层不屈。',hooks:{onBattleStart:({count:e,side:t,addStatusEffect:a,addLog:o})=>{a(t,M.INDOMITABLE,e,{source:'relic:sanctuary_amulet'})&&o(`[庇护符] 获得 ${e} 层不屈。`)}}},{id:'simple_charm',name:'简易护符',rarity:'普通',category:'基础',effect:'每回合开始时，给自身增加 1 点护甲',description:'每回合开始时，获得 1 点护甲。',hooks:{onTurnStart:({count:e,side:t,addArmor:a,addLog:o})=>{const n=a(t,e);n>0&&o(`[简易护符] 获得 ${n} 点护甲。`)}}},{id:'reset_button',name:'重置按钮',rarity:'普通',category:'基础',effect:'每场战斗增加 6 次重掷自身骰子的机会',description:'战斗开始时获得 6 次重掷机会；有次数时点击自己的骰子可重掷。',hooks:{onBattleStart:({count:e,side:t,addRerollCharges:a,getRerollCharges:o,addLog:n})=>{const r=6*e;a(t,r),n(`[重置按钮] 获得 ${r} 次重掷（当前 ${o(t)}）。`)},onDiceClick:({count:e,side:t,minDice:a,maxDice:o,roll:n,consumeRerollCharge:r,getRerollCharges:l,addLog:s})=>{if(e<=0)return null;if(!r(t,1))return null;const c=n(a,o);return s(`[重置按钮] 触发重掷，剩余 ${l(t)} 次。`),c}}},{id:'energy_candy',name:'能量糖果',rarity:'普通',category:'基础',effect:'每当洗牌（弃牌堆重入抽牌堆）时，回复 1 点魔力',description:'每次洗牌时，回复 1 点魔力。',hooks:{onDeckShuffle:({count:e,side:t,restoreMana:a,addLog:o})=>{const n=a(t,e);n>0&&o(`[能量糖果] 洗牌触发，回复 ${n} 点魔力。`)}}},{id:'simple_shield',name:'简易护盾',rarity:'普通',category:'基础',effect:'战斗开始时获得 10 点护甲',description:'战斗开始时，获得 10 点护甲。',hooks:{onBattleStart:({count:e,side:t,addArmor:a,addLog:o})=>{const n=a(t,10*e);n>0&&o(`[简易护盾] 获得 ${n} 点护甲。`)}}},{id:'pure_water',name:'洁净之水',rarity:'普通',category:'基础',effect:'战斗开始时回复 8 点血量，多余回复转化为等量护甲',description:'战斗开始时，回复 8 点生命；溢出治疗转化为等量护甲。',hooks:{onBattleStart:({count:e,side:t,heal:a,addLog:o})=>{const{healed:n,overflow:r}=a(t,8*e,{overflowToArmor:!0});o(`[洁净之水] 回复 ${n} 点生命，转化 ${r} 点护甲。`)}}},{id:'oily_grease',name:'易燃油脂',rarity:'普通',category:'燃烧',effect:'战斗中首次命中敌人时为敌人施加 2 层燃烧',description:'本场战斗首次命中敌人时，为敌人施加 2 层燃烧。',hooks:{onAfterHitDealt:({count:e,side:t,targetSide:a,actualDamage:o,state:n,addStatusEffect:r,addLog:l})=>{if(a===t)return;if(o<=0)return;if(!0===n.triggered)return;n.triggered=!0;const s=2*e;r(a,M.BURN,s,{source:'relic:oily_grease'})&&l(`[易燃油脂] 首次命中触发，对敌人施加 ${s} 层燃烧。`)}}},{id:'sunglasses',name:'墨镜',rarity:'稀有',category:'燃烧',effect:'自身免疫眩晕，开局时为对手施加一回合眩晕',description:'自身不会被施加眩晕；战斗开始时使对手眩晕 1 回合。',hooks:{onBattleStart:({count:e,side:t,addStatusEffect:a,addLog:o})=>{a('player'===t?'enemy':'player',M.STUN,Math.max(1,e),{source:'relic:sunglasses'})&&o('[墨镜] 战斗开始使对手进入眩晕。')},onBeforeApplyEffect:({side:e,targetSide:t,effectType:a,addLog:o})=>{if(t===e&&a===M.STUN)return o('[墨镜] 免疫眩晕。'),!1}}},{id:'flame_ring',name:'火焰圆环',rarity:'稀有',category:'燃烧',effect:'自身受到敌人物理攻击时，对来源施加 1 层燃烧',description:'每次受到敌人物理攻击时，对来源施加 1 层燃烧。',hooks:{onAfterHitTaken:({count:e,side:t,sourceSide:a,targetSide:o,card:n,addStatusEffect:r,addLog:l})=>{o===t&&a!==t&&n.type===w.PHYSICAL&&r(a,M.BURN,e,{source:'relic:flame_ring'})&&l(`[火焰圆环] 反击施加 ${e} 层燃烧。`)}}},{id:'fire_slime',name:'火焰史莱姆',rarity:'稀有',category:'燃烧',effect:'自己收到的燃烧伤害恒定为 2（优先于烈阳护符）',description:'自身受到燃烧伤害时，伤害固定为 2，并覆盖烈阳护符对自身的下限。',hooks:{onBeforeBurnDamage:e=>{e.targetSide===e.side&&2!==e.damage&&(e.damage=2)}}},{id:'ember_seed',name:'余烬火种',rarity:'稀有',category:'燃烧',effect:'敌人最少拥有与余烬火种数量相同的燃烧层数',description:'战斗期间会维持敌人燃烧层数下限，最低值等于余烬火种数量。',hooks:{onBattleStart:({count:e,side:t,opponent:a,addStatusEffect:o,addLog:n})=>{const r='player'===t?'enemy':'player',l=ge(a,M.BURN),s=Math.max(1,e),c=s-l;c>0&&o(r,M.BURN,c,{source:'relic:ember_seed'})&&n(`[余烬火种] 维持敌方至少 ${s} 层燃烧。`)},onTurnStart:({count:e,side:t,opponent:a,addStatusEffect:o,addLog:n})=>{const r='player'===t?'enemy':'player',l=ge(a,M.BURN),s=Math.max(1,e),c=s-l;c>0&&o(r,M.BURN,c,{source:'relic:ember_seed'})&&n(`[余烬火种] 维持敌方至少 ${s} 层燃烧。`)}}},{id:'phoenix_feather',name:'不死鸟之羽',rarity:'稀有',category:'燃烧',effect:'若玩家受到燃烧伤害，下一张打出的卡牌点数 +1',description:'玩家受到燃烧伤害后，下一张打出的卡牌点数 +1。',hooks:{onAfterBurnDamageTaken:({count:e,side:t,targetSide:a,damage:o,state:n,addLog:r})=>{if(a!==t)return;if(o<=0)return;const l=Number(n.nextCardPointBonus??0),s=1*e;n.nextCardPointBonus=l+s,r(`[不死鸟之羽] 充能：下一张卡牌点数 +${l+s}。`)},modifyFinalPoint:({side:e,currentPoint:t,state:a,isPreview:o,addLog:n})=>{if('player'!==e)return t;const r=Math.max(0,Math.floor(Number(a.nextCardPointBonus??0)));return r<=0?t:(o||(a.nextCardPointBonus=0,n(`[不死鸟之羽] 触发，点数 +${r}。`)),t+r)}}},{id:'rekindle_core',name:'复燃核心',rarity:'稀有',category:'燃烧',effect:'若玩家受到燃烧伤害，自身回复 1 点魔力',description:'每次玩家受到燃烧伤害时，回复 1 点魔力。',hooks:{onAfterBurnDamageTaken:({count:e,side:t,targetSide:a,damage:o,restoreMana:n,addLog:r})=>{if(a!==t)return;if(o<=0)return;const l=n(t,e);l>0&&r(`[复燃核心] 触发，回复 ${l} 点魔力。`)}}},{id:'everlasting_fuel',name:'不灭薪柴',rarity:'传奇',category:'燃烧',effect:'结算燃烧伤害时，改为造成等量真实伤害',description:'燃烧伤害改为真实伤害（无视护甲与结界）。',hooks:{onBeforeBurnDamage:e=>{e.damage<=0||(e.isTrueDamage=!0)}}},{id:'sun_charm',name:'烈阳护符',rarity:'传奇',category:'燃烧',effect:'双方收到的燃烧伤害最少为当前回合数',description:'双方受到燃烧伤害时，伤害至少为护符数量*当前回合数。',hooks:{onBeforeBurnDamage:e=>{if(e.targetSide===e.side&&e.hasRelic('fire_slime'))return;const t=Math.max(1,e.turn*Math.max(1,e.count));e.damage>=t||(e.damage=t)}}}],be=new Map(ye.map(e=>[e.id,e])),ve=new Map(ye.map(e=>[e.name,e]));function he(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.warn(`Fullscreen error: ${e.message}`)})}function xe(e,t){const a=t.replace(/[.*+?^${}()|[\]\\]/g,'\\$&'),o=new RegExp(`(?:^|[\\r\\n]|>)\\s*<${a}(?:\\s[^>]*)?>([\\s\\S]*?)</${a}>`,'ig');let n;for(;null!==(n=o.exec(e));){const e=n[0],t=e.indexOf('>');if(t>=0){const a=e.slice(t+1).trimStart()[0];if(','===a||'，'===a)continue}return n[1].trim()}return''}function ke(e,t){for(const a of t){const t=xe(e,a);if(t)return t}return''}function Ne(e){const t=/<\s*(\/?)\s*(think|thinking)\b[^>]*>/gi;let a,o='',n=0,r=0;for(;null!==(a=t.exec(e));){const l='/'===a[1],s=a.index,c=t.lastIndex;0!==n||l||(o+=e.slice(r,s)),l?n>0&&(n-=1):n+=1,r=c}return 0===n&&(o+=e.slice(r)),o.trim()}function Ee(e){return e.replace(/<!--[\s\S]*?(?:-->|$)/g,'').trim()}function Ce(e){return e?e.split('\n').map(e=>e.trim()).filter(e=>e.length>0):[]}function Ve(e){const t=Ne(e),a=Ee(ke(t,['maintext','maintxt','content','正文'])),o=xe(t,'option'),n=xe(t,'sum'),r=ke(t,['UpdateVariable','update']),l=xe(r,'JSONPatch'),s=r||l,c=Ce(o),i=c.some(e=>/^E\.\s/i.test(e)),d=c.some(e=>/leave/i.test(e));return{mainText:a,options:c.filter(e=>!/^E\.\s/i.test(e)&&!/leave/i.test(e)),summary:n,variableUpdate:s,jsonPatch:l,rawText:t,hasOptionE:i,hasLeave:d}}function we(e){return xe(Ne(e),'sum')}const Me=t('game',()=>{const e=(0,n.ref)(''),t=(0,n.ref)([]),a=(0,n.ref)(''),o=(0,n.ref)(!1),r=(0,n.ref)(''),l=(0,n.ref)(null),s=(0,n.ref)(!1),c=(0,n.ref)(!1),i=(0,n.ref)(!1),d=(0,n.ref)(''),u=(0,n.ref)(!1),m=(0,n.ref)(''),p=(0,n.ref)({}),f=(0,n.ref)([]),g=(0,n.ref)(!1),y=(0,n.ref)(null);function b(){const o=getLastMessageId();if(o<0)return;const n=getChatMessages(`0-${o}`,{role:'assistant'});if(n.length>0){const o=n[n.length-1].message;e.value=Ee(ke(Ne(o),['maintext','maintxt','content','正文'])),t.value=function(e){return Ce(xe(Ne(e),'option')).filter(e=>!/^E\.\s/i.test(e)&&!/leave/i.test(e))}(o),a.value=we(o),c.value=function(e){return Ce(xe(Ne(e),'option')).some(e=>/^E\.\s/i.test(e))}(o),i.value=function(e){return Ce(xe(Ne(e),'option')).some(e=>/leave/i.test(e))}(o),d.value=function(e){return ke(Ne(e),['UpdateVariable','update'])}(o)}}function v(){try{const e=getLastMessageId();if(e<0)return;const t=Mvu.getMvuData({type:'message',message_id:e}),a=_.get(t,'stat_data');a&&'object'==typeof a&&(p.value=a,console.info('[GameStore] stat_data loaded from message',e))}catch(e){console.warn('[GameStore] Failed to load stat_data:',e)}}function h(o){e.value=o.mainText,t.value=o.options,a.value=o.summary,c.value=o.hasOptionE,i.value=o.hasLeave,d.value=o.variableUpdate}function x(e){try{if(!e)return;const t=_.get(e,'stat_data');t&&'object'==typeof t&&(p.value=t,console.info('[GameStore] Local stat_data refreshed:',JSON.stringify(t.$统计)))}catch(e){console.warn('[GameStore] refreshLocalStatData error:',e)}}return{mainText:e,options:t,currentSummary:a,isGenerating:o,streamingText:r,error:l,isInitialized:s,statData:p,saveEntries:f,isSaveLoadOpen:g,isEditing:u,editingText:m,hasOptionE:c,hasLeave:i,variableUpdateText:d,initialize:async function(){try{await waitGlobalInitialized('Mvu'),console.info('[GameStore] MVU initialized');getLastMessageId()>=0&&(b(),v()),s.value=!0,console.info('[GameStore] Initialized successfully')}catch(e){const t=e instanceof Error?e.message:String(e);console.error('[GameStore] Init error:',t),l.value=`初始化失败: ${t}`}},sendAction:async function(e){if(!o.value&&e.trim()){l.value=null,o.value=!0,r.value='';try{const t=Mvu.getMvuData({type:'message',message_id:getLastMessageId()}),a=function(e,t){const a=_.cloneDeep(e??{});if(!t)return a;a.stat_data&&'object'==typeof a.stat_data||(a.stat_data={});const o=a.stat_data;void 0!==t.area&&(o._当前区域=t.area),o._当前房间类型=t.roomType,void 0!==t.enemyName&&(o._对手名称=t.enemyName),o.$统计&&'object'==typeof o.$统计||(o.$统计={});const n=o.$统计;if(t.resetRoomCounter&&(n.当前层已过房间=0),t.incrementKeys)for(const e of t.incrementKeys)n[e]=(Number(n[e])||0)+1;return a}(t,y.value);console.info('[GameStore] Creating user message:',e),await createChatMessages([{role:'user',message:e,data:a}],{refresh:'none'}),y.value=null;const o=eventOn(iframe_events.STREAM_TOKEN_RECEIVED_FULLY,(e,t)=>{r.value=e});console.info('[GameStore] Generating LLM response...');const n=await generate({user_input:e,should_stream:!0});console.info('[GameStore] LLM response received, length:',n.length),o.stop(),r.value='';h(Ve(n));let l=await Mvu.parseMessage(n,_.cloneDeep(a));l?!l.stat_data&&a?.stat_data&&(l.stat_data=_.cloneDeep(a.stat_data)):l=_.cloneDeep(a),l&&(delete l.display_data,delete l.delta_data),console.info('[GameStore] Creating assistant message with MVU data'),await createChatMessages([{role:'assistant',message:n,data:l}],{refresh:'none'}),x(l),console.info('[GameStore] Action completed successfully')}catch(e){const t=e instanceof Error?e.message:String(e);console.error('[GameStore] sendAction error:',t),l.value=`生成失败: ${t}`}finally{o.value=!1}}},setPendingPortalChanges:function(e){y.value=e},loadStatData:v,loadSaveEntries:function(){const e=[],t=getLastMessageId();if(t<0)return void(f.value=e);const a=getChatMessages(`0-${t}`,{role:'assistant'});for(const t of a){const a=we(t.message);a&&e.push({messageId:t.message_id,summary:a})}f.value=e},rollbackTo:async function(e){try{const t=getLastMessageId();if(e>=t)return void console.warn('[GameStore] Cannot rollback: target is current or future');const a=[];for(let o=e+1;o<=t;o++)a.push(o);console.info(`[GameStore] Rolling back: deleting messages ${e+1} to ${t}`),await deleteChatMessages(a,{refresh:'none'}),b();try{const t=Mvu.getMvuData({type:'message',message_id:e}),a=_.get(t,'stat_data');a&&'object'==typeof a&&(p.value=a,console.info('[GameStore] Rollback: loaded stat_data from message',e))}catch(e){console.warn('[GameStore] Rollback: failed to load stat_data from target, falling back',e),v()}g.value=!1,toastr.success('回档成功！'),console.info('[GameStore] Rollback completed')}catch(e){const t=e instanceof Error?e.message:String(e);console.error('[GameStore] Rollback error:',t),l.value=`回档失败: ${t}`}},rerollCurrent:async function(){if(!o.value)try{const e=getLastMessageId();if(e<1)return void console.warn('[GameStore] Cannot reroll: not enough messages');o.value=!0,l.value=null,r.value='';const t=[...getChatMessages(`0-${e}`)].reverse().find(e=>'user'===e.role),a=t?t.message:'';console.info('[GameStore] Reroll: deleting message',e),await deleteChatMessages([e],{refresh:'none'});const n=Mvu.getMvuData({type:'message',message_id:getLastMessageId()}),s=eventOn(iframe_events.STREAM_TOKEN_RECEIVED_FULLY,e=>{r.value=e});console.info('[GameStore] Reroll: regenerating...');const c=await generate({user_input:a,should_stream:!0});s.stop(),r.value='';h(Ve(c));const i=await Mvu.parseMessage(c,_.cloneDeep(n));await createChatMessages([{role:'assistant',message:c,data:i}],{refresh:'none'}),x(i),toastr.success('重新生成完成！'),console.info('[GameStore] Reroll completed')}catch(e){const t=e instanceof Error?e.message:String(e);console.error('[GameStore] Reroll error:',t),l.value=`重新生成失败: ${t}`}finally{o.value=!1}},startEdit:function(){if(u.value||o.value)return;const e=getLastMessageId();if(e<0)return;const t=getChatMessages(`${e}-${e}`);0!==t.length&&(m.value=t[0].message,u.value=!0)},saveEdit:async function(){if(u.value)try{const e=getLastMessageId();if(e<0)return;const t=Mvu.getMvuData({type:'message',message_id:e}),a=e>0?Mvu.getMvuData({type:'message',message_id:e-1}):Mvu.getMvuData({type:'message',message_id:0});let o=await Mvu.parseMessage(m.value,_.cloneDeep(a));o&&t?(!o.stat_data&&t.stat_data&&(o.stat_data=t.stat_data),!o.display_data&&t.display_data&&(o.display_data=t.display_data)):!o&&t&&(o=t),await setChatMessages([{message_id:e,message:m.value}],{refresh:'none'}),o&&await Mvu.replaceMvuData(o,{type:'message',message_id:e});h(Ve(m.value)),x(o),u.value=!1,m.value='',toastr.success('编辑已保存！'),console.info('[GameStore] Edit saved')}catch(e){const t=e instanceof Error?e.message:String(e);console.error('[GameStore] Save edit error:',t),l.value=`编辑保存失败: ${t}`}},cancelEdit:function(){u.value=!1,m.value=''},updateStatDataFields:async function(e){try{const t=getLastMessageId();if(t<0)return l.value='当前没有可写入的楼层。',!1;const a=Mvu.getMvuData({type:'message',message_id:t}),o=_.cloneDeep(a??{});return o.stat_data&&'object'==typeof o.stat_data||(o.stat_data={}),Object.assign(o.stat_data,_.cloneDeep(e)),await Mvu.replaceMvuData(o,{type:'message',message_id:t}),x(o),!0}catch(e){const t=e instanceof Error?e.message:String(e);return console.error('[GameStore] updateStatDataFields error:',t),l.value=`写入变量失败: ${t}`,!1}}}}),Be=m('shield-check',[['path',{d:'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',key:'oel41y'}],['path',{d:'m9 12 2 2 4-4',key:'dzmm74'}]]),Se=m('shield',[['path',{d:'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',key:'oel41y'}]]),De=m('link-2',[['path',{d:'M9 17H7A5 5 0 0 1 7 7h2',key:'8i5ue5'}],['path',{d:'M15 7h2a5 5 0 1 1 0 10h-2',key:'1b9ql8'}],['line',{x1:'8',x2:'16',y1:'12',y2:'12',key:'1jonct'}]]),_e=m('skull',[['path',{d:'m12.5 17-.5-1-.5 1h1z',key:'3me087'}],['path',{d:'M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z',key:'1o5pge'}],['circle',{cx:'15',cy:'12',r:'1',key:'1tmaij'}],['circle',{cx:'9',cy:'12',r:'1',key:'1vctgf'}]]),Ae=m('bug',[['path',{d:'M12 20v-9',key:'1qisl0'}],['path',{d:'M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z',key:'uouzyp'}],['path',{d:'M14.12 3.88 16 2',key:'qol33r'}],['path',{d:'M21 21a4 4 0 0 0-3.81-4',key:'1b0z45'}],['path',{d:'M21 5a4 4 0 0 1-3.55 3.97',key:'5cxbf6'}],['path',{d:'M22 13h-4',key:'1jl80f'}],['path',{d:'M3 21a4 4 0 0 1 3.81-4',key:'1fjd4g'}],['path',{d:'M3 5a4 4 0 0 0 3.55 3.97',key:'1d7oge'}],['path',{d:'M6 13H2',key:'82j7cp'}],['path',{d:'m8 2 1.88 1.88',key:'fmnt4t'}],['path',{d:'M9 7.13V6a3 3 0 1 1 6 0v1.13',key:'1vgav8'}]]),Te=m('droplet',[['path',{d:'M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z',key:'c7niix'}]]),Re=m('flame',[['path',{d:'M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4',key:'1slcih'}]]),Ie=m('triangle-alert',[['path',{d:'m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',key:'wmoenq'}],['path',{d:'M12 9v4',key:'juzpu7'}],['path',{d:'M12 17h.01',key:'p32p05'}]]),Le=m('heart',[['path',{d:'M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5',key:'mvr1a0'}]]),$e=m('sparkles',[['path',{d:'M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z',key:'1s2grr'}],['path',{d:'M20 2v4',key:'1rf3ol'}],['path',{d:'M22 4h-4',key:'gwowj6'}],['circle',{cx:'4',cy:'20',r:'2',key:'6kqj1y'}]]),Oe=m('ban',[['path',{d:'M4.929 4.929 19.07 19.071',key:'196cmz'}],['circle',{cx:'12',cy:'12',r:'10',key:'1mglay'}]]),ze=m('zap',[['path',{d:'M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z',key:'1xq2db'}]]),Pe=m('snowflake',[['path',{d:'m10 20-1.25-2.5L6 18',key:'18frcb'}],['path',{d:'M10 4 8.75 6.5 6 6',key:'7mghy3'}],['path',{d:'m14 20 1.25-2.5L18 18',key:'1chtki'}],['path',{d:'m14 4 1.25 2.5L18 6',key:'1b4wsy'}],['path',{d:'m17 21-3-6h-4',key:'15hhxa'}],['path',{d:'m17 3-3 6 1.5 3',key:'11697g'}],['path',{d:'M2 12h6.5L10 9',key:'kv9z4n'}],['path',{d:'m20 10-1.5 2 1.5 2',key:'1swlpi'}],['path',{d:'M22 12h-6.5L14 15',key:'1mxi28'}],['path',{d:'m4 10 1.5 2L4 14',key:'k9enpj'}],['path',{d:'m7 21 3-6-1.5-3',key:'j8hb9u'}],['path',{d:'m7 3 3 6h4',key:'1otusx'}]]),Ue=m('bone',[['path',{d:'M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z',key:'w610uw'}]]),Ge=m('battery',[['path',{d:'M 22 14 L 22 10',key:'nqc4tb'}],['rect',{x:'2',y:'6',width:'16',height:'12',rx:'2',key:'13zb55'}]]),He=m('waves',[['path',{d:'M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1',key:'knzxuh'}],['path',{d:'M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1',key:'2jd2cc'}],['path',{d:'M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1',key:'rd2r6e'}]]),Fe=m('settings-2',[['path',{d:'M14 17H5',key:'gfn3mx'}],['path',{d:'M19 7h-9',key:'6i9tg'}],['circle',{cx:'17',cy:'17',r:'3',key:'18b49y'}],['circle',{cx:'7',cy:'7',r:'3',key:'dfmy0x'}]]),je=m('layers',[['path',{d:'M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z',key:'zw3jo'}],['path',{d:'M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12',key:'1wduqc'}],['path',{d:'M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17',key:'kqbvx6'}]]),Ye=m('trash-2',[['path',{d:'M10 11v6',key:'nco0om'}],['path',{d:'M14 11v6',key:'outv1u'}],['path',{d:'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6',key:'miytrc'}],['path',{d:'M3 6h18',key:'d0wm0j'}],['path',{d:'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2',key:'e791ji'}]]),We=m('x',[['path',{d:'M18 6 6 18',key:'1bl5f8'}],['path',{d:'m6 6 12 12',key:'d8bk6v'}]]),qe={[M.BARRIER]:{type:M.BARRIER,name:'结界',polarity:'buff',timings:['onBeforeDamage'],stackable:!0,maxStacks:0,description:'抵挡任何来源的伤害判定。触发后层数-1'},[M.ARMOR]:{type:M.ARMOR,name:'护甲',polarity:'buff',timings:['onBeforeDamage','onTurnEnd'],stackable:!0,maxStacks:0,description:'在最终伤害结算阶段减去等量数值'},[M.BIND]:{type:M.BIND,name:'束缚',polarity:'debuff',timings:['onCardPlay','onTurnEnd'],stackable:!0,maxStacks:0,description:'无法使用物理与闪避卡牌。每回合结束层数-1'},[M.DEVOUR]:{type:M.DEVOUR,name:'吞食',polarity:'debuff',timings:['onCardPlay'],stackable:!1,maxStacks:1,description:'点数限制：若骰子基础点数≤3，禁用物理/魔法/闪避卡牌。'},[M.POISON]:{type:M.POISON,name:'中毒',polarity:'debuff',timings:['onTurnEnd'],stackable:!0,maxStacks:0,description:'每回合结束时，增加等量层数的中毒量，中毒层数-1'},[M.POISON_AMOUNT]:{type:M.POISON_AMOUNT,name:'中毒量',polarity:'special',timings:['onTurnStart'],stackable:!0,maxStacks:0,description:'回合开始时若中毒量≥当前生命值，则造成等量真实伤害并清空中毒量'},[M.BURN]:{type:M.BURN,name:'燃烧',polarity:'debuff',timings:['onTurnStart','onClash'],stackable:!0,maxStacks:0,description:'每回合减少等量层数的生命。己方拼点成功时消失'},[M.BLEED]:{type:M.BLEED,name:'流血',polarity:'debuff',timings:['onClash','onTurnStart'],stackable:!0,maxStacks:0,description:'拼点时造成等量层数的真实伤害。每回合-1'},[M.VULNERABLE]:{type:M.VULNERABLE,name:'易伤',polarity:'debuff',timings:['onBeforeDamage'],stackable:!0,maxStacks:0,description:'每次受到伤害的伤害增加等量层数'},[M.REGEN]:{type:M.REGEN,name:'生命回复',polarity:'buff',timings:['onTurnStart'],stackable:!0,maxStacks:0,description:'每回合开始时回复等量层数的生命'},[M.IGNITE_AURA]:{type:M.IGNITE_AURA,name:'施加燃烧',polarity:'mixed',timings:['onTurnStart'],stackable:!0,maxStacks:0,description:'每回合开始时为战斗双方施加一层燃烧'},[M.STUN]:{type:M.STUN,name:'眩晕',polarity:'debuff',timings:['onTurnStart','onTurnEnd'],stackable:!1,maxStacks:1,description:'无法执行任何出牌或拼点行动。一回合后消失'},[M.CHARGE]:{type:M.CHARGE,name:'蓄力',polarity:'buff',timings:['onDiceRoll'],stackable:!0,maxStacks:0,description:'下一次投掷骰子时增加等量层数的点数并清空全部层数'},[M.COLD]:{type:M.COLD,name:'寒冷',polarity:'debuff',timings:['onBeforeAttack','onAfterAttack'],stackable:!0,maxStacks:0,description:'降低造成的伤害数值。攻击结算后层数减半'},[M.NON_LIVING]:{type:M.NON_LIVING,name:'非生物',polarity:'trait',timings:['passive'],stackable:!1,maxStacks:1,description:'完全免疫流血与中毒效果'},[M.MANA_DRAIN]:{type:M.MANA_DRAIN,name:'法力枯竭',polarity:'debuff',timings:['onTurnStart'],stackable:!0,maxStacks:0,description:'每回合开始时强制将当前法力值清零。每回合-1'},[M.MANA_SPRING]:{type:M.MANA_SPRING,name:'魔力源泉',polarity:'buff',timings:['onTurnStart'],stackable:!0,maxStacks:0,description:'每回合开始时自身增加等量层数的魔力'},[M.SWARM]:{type:M.SWARM,name:'群集',polarity:'buff',timings:['onAfterDamage'],stackable:!0,maxStacks:0,description:'生命值≤0时，消耗1层并恢复至生命上限'},[M.INDOMITABLE]:{type:M.INDOMITABLE,name:'不屈',polarity:'buff',timings:['onAfterDamage'],stackable:!0,maxStacks:0,description:'生命值≤0时，消耗1层并恢复至1点生命'}};function Ze(e,t){return e.effects.find(e=>e.type===t)}function Ke(e,t){return e.effects.some(e=>e.type===t&&e.stacks>0)}function Je(e,t){const a=Ze(e,t);return a?a.stacks:0}function Xe(e,t,a=1,o){if(Ke(e,M.NON_LIVING)&&(t===M.POISON||t===M.BLEED))return!1;const n=qe[t],r=Ze(e,t);if(r)return n.stackable&&(r.stacks+=a,n.maxStacks>0&&(r.stacks=Math.min(r.stacks,n.maxStacks))),t===M.BIND&&o?.restrictedTypes&&(r.restrictedTypes=o.restrictedTypes),t===M.BIND&&o?.lockDecayThisTurn&&(r.lockDecayThisTurn=!0),!0;const l={type:t,stacks:n.maxStacks>0?Math.min(a,n.maxStacks):a,polarity:n.polarity,lockDecayThisTurn:t===M.BIND?!!o?.lockDecayThisTurn:void 0,restrictedTypes:o?.restrictedTypes,source:o?.source};return e.effects.push(l),!0}function Qe(e,t){e.effects=e.effects.filter(e=>e.type!==t)}function et(e,t,a=1){const o=Ze(e,t);o&&(o.stacks-=a,o.stacks<=0&&Qe(e,t))}function tt(e){const t={hpChange:0,mpChange:0,trueDamage:0,isStunned:!1,logs:[],applyToOpponent:[]};Ke(e,M.MANA_DRAIN)&&(t.mpChange=-e.mp,t.logs.push('[法力枯竭] 法力值被清零。'),et(e,M.MANA_DRAIN));const a=Je(e,M.POISON_AMOUNT);a>0&&a>=e.hp&&(t.trueDamage+=a,Qe(e,M.POISON_AMOUNT),t.logs.push(`[中毒量] 中毒量(${a}) ≥ 当前生命(${e.hp})，造成 ${a} 真实伤害并清空中毒量！`));const o=Je(e,M.BURN);if(o>0){let a=o;const n=Je(e,M.VULNERABLE);n>0&&(a+=n,t.logs.push(`[易伤] 燃烧伤害 +${n}。`)),t.hpChange-=a,t.logs.push(`[燃烧] 损失 ${a} 点生命。`)}Ke(e,M.BLEED)&&(et(e,M.BLEED),t.logs.push('[流血] 层数衰减。'));const n=Je(e,M.REGEN);n>0&&(t.hpChange+=n,t.logs.push(`[生命回复] 回复 ${n} 点生命。`));Je(e,M.IGNITE_AURA)>0&&(Xe(e,M.BURN,1),t.applyToOpponent.push({type:M.BURN,stacks:1}),t.logs.push('[施加燃烧] 为战斗双方各施加 1 层燃烧。')),Ke(e,M.STUN)&&(t.isStunned=!0,t.logs.push('[眩晕] 本回合无法行动！'));const r=Je(e,M.MANA_SPRING);return r>0&&(t.mpChange+=r,t.logs.push(`[魔力源泉] 魔力 +${r}。`)),t}function at(e){const t=[],a=Je(e,M.POISON);a>0&&(Xe(e,M.POISON_AMOUNT,a),et(e,M.POISON,1),t.push(`[中毒] 本回合中毒量 +${a}，中毒层数衰减 1。`));const o=Ze(e,M.BIND);o&&o.stacks>0&&(o.lockDecayThisTurn?(o.lockDecayThisTurn=!1,o.stacks<=1?t.push('[束缚] 新施加且层数为1，本回合不衰减。'):(et(e,M.BIND),t.push('[束缚] 新施加但层数大于1，本回合仍衰减。'))):(et(e,M.BIND),t.push('[束缚] 层数衰减。')));const n=Ze(e,M.ARMOR);return n&&n.stacks>0&&(n.stacks=Math.floor(n.stacks/2),n.stacks<=0&&Qe(e,M.ARMOR),t.push('[护甲] 层数减半。')),Ke(e,M.STUN)&&(Qe(e,M.STUN),t.push('[眩晕] 效果消失。')),t}function ot(e,t,a){if(Ke(e,M.STUN))return{allowed:!1,reason:'眩晕状态，无法行动。'};const o=Ze(e,M.BIND);if(o){if((o.restrictedTypes&&o.restrictedTypes.length>0?o.restrictedTypes:['物理','闪避']).includes(t.type))return{allowed:!1,reason:`束缚中，无法使用${t.type}类型卡牌。`}}return Ke(e,M.DEVOUR)&&a<=3&&('物理'===t.type||'闪避'===t.type)?{allowed:!1,reason:`吞食效果生效（骰子≤3），无法使用${t.type}卡牌。`}:'魔法'===t.type&&t.manaCost>e.mp?{allowed:!1,reason:`法力不足（需要${t.manaCost}，当前${e.mp}）。`}:{allowed:!0}}function nt(e){const t=[];let a=function(e,t){const a=t.damageLogic;switch(a.mode){case'relative':return e*(a.scale??1)+(a.scaleAddition??0);case'fixed':return a.value??0;case'mixed':return(a.baseValue??0)+e*(a.scale??1)+(a.scaleAddition??0);default:return 0}}(e.finalPoint,e.card);t.push(`原始伤害: ${Math.floor(a)}`);const o=e.isTrueDamage??!1,n=e.attackerEffects.find(e=>e.type===M.COLD)?.stacks??0;if(n>0&&(a-=n,t.push(`[寒冷] -${n}`)),o)return t.push('真实伤害，无视防御。'),{damage:Math.max(0,Math.floor(a)),isTrueDamage:!0,logs:t};const r=e.defenderEffects.find(e=>e.type===M.VULNERABLE)?.stacks??0;r>0&&(a+=r,t.push(`[易伤] +${r}`)),e.defenderEffects.some(e=>e.type===M.BARRIER&&e.stacks>0)&&t.push('[结界] 对方有结界，本次非真实伤害将被抵挡。');const l=e.defenderEffects.find(e=>e.type===M.ARMOR)?.stacks??0;return l>0&&t.push(`[护甲] 对方有 ${l} 层护甲`),{damage:Math.max(0,Math.floor(a)),isTrueDamage:!1,logs:t}}function rt(e){const t=[];if(e.hp>0)return{revived:!1,logs:t};if(Je(e,M.SWARM)>0)return et(e,M.SWARM,1),e.hp=e.maxHp,t.push(`[群集] 触发复苏，消耗1层并恢复至${e.maxHp}生命。`),{revived:!0,logs:t};return Je(e,M.INDOMITABLE)>0?(et(e,M.INDOMITABLE,1),e.hp=1,t.push('[不屈] 触发，消耗1层并恢复至1点生命。'),{revived:!0,logs:t}):{revived:!1,logs:t}}function lt(e,t){const a=[],o=Ze(e,M.COLD);if(!o||o.stacks<=0)return a;const n=o.stacks;return o.stacks=Math.floor(o.stacks/2),o.stacks<=0?(Qe(e,M.COLD),a.push(`[寒冷] ${n} -> 0（已消失）`)):a.push(`[寒冷] ${n} -> ${o.stacks}`),a}function st(e,t,a){const o=[];if(!a){if(Ke(e,M.BARRIER)&&t>0)return et(e,M.BARRIER),o.push('[结界] 层数-1。'),{actualDamage:0,logs:o};const a=Ze(e,M.ARMOR);if(a&&a.stacks>0&&t>0){const n=Math.min(a.stacks,t);a.stacks-=n,t-=n,a.stacks<=0&&Qe(e,M.ARMOR),o.push(`[护甲] 消耗${n}，剩余伤害${t}。`)}}const n=Math.min(t,e.hp);e.hp-=n,o.push(`受到${n}点伤害(HP: ${e.hp}/${e.maxHp})。`);const r=rt(e);return o.push(...r.logs),{actualDamage:n,logs:o}}const ct=m('sword',[['path',{d:'m11 19-6-6',key:'s7kpr'}],['path',{d:'m5 21-2-2',key:'1kw20b'}],['path',{d:'m8 16-4 4',key:'1oqv8h'}],['path',{d:'M9.5 17.5 21 6V3h-3L6.5 14.5',key:'pkxemp'}]]),it=m('refresh-ccw',[['path',{d:'M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8',key:'14sxne'}],['path',{d:'M3 3v5h5',key:'1xhq8a'}],['path',{d:'M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16',key:'1hlbsb'}],['path',{d:'M16 16h5v5',key:'ccwih5'}]]),dt=m('footprints',[['path',{d:'M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z',key:'1dudjm'}],['path',{d:'M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z',key:'l2t8xc'}],['path',{d:'M16 17h4',key:'1dejxt'}],['path',{d:'M4 13h4',key:'1bwh8b'}]]),ut={class:'absolute top-0 left-0 w-full p-2 flex justify-between items-start z-10'},mt={class:'bg-black/60 p-1 rounded-full border border-white/10'},pt={class:'absolute top-8 left-2 right-2 h-24 bg-black/50 rounded-lg border border-white/5 flex items-center justify-center overflow-hidden'},ft={class:'absolute font-heading text-white/20 text-4xl select-none'},gt={class:'absolute bottom-0 left-0 w-full p-3 z-10 flex flex-col justify-end'},yt={class:'text-dungeon-paper font-heading font-bold text-sm tracking-wide mb-1 text-center drop-shadow-md'},bt={class:'bg-[#0d0d10]/85 border border-white/10 p-2 rounded-lg text-[10px] text-gray-300 font-ui leading-tight min-h-[50px] flex items-center justify-center text-center'},vt={class:'mt-1 text-center text-white/50 font-bold text-[10px] font-ui tracking-wider'},ht=(0,n.defineComponent)({__name:'DungeonCard',props:{card:{},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},faceDown:{type:Boolean,default:!1},isEnemy:{type:Boolean,default:!1},className:{default:''}},emits:['click'],setup(e){const t=e,a=(0,n.computed)(()=>{switch(t.card.type){case w.PHYSICAL:return'border-red-900 bg-red-950/30';case w.MAGIC:return'border-purple-900 bg-purple-950/30';case w.FUNCTION:return'border-yellow-800 bg-yellow-950/30';case w.DODGE:return'border-emerald-900 bg-emerald-950/30';default:return'border-gray-700 bg-gray-800'}}),o=(0,n.computed)(()=>{switch(t.card.type){case w.PHYSICAL:return ct;case w.MAGIC:return $e;case w.FUNCTION:return it;case w.DODGE:return dt;default:return ct}}),r=(0,n.computed)(()=>{switch(t.card.type){case w.PHYSICAL:return'text-red-400';case w.MAGIC:return'text-purple-400';case w.FUNCTION:return'text-yellow-400';case w.DODGE:return'text-emerald-400';default:return'text-gray-400'}}),l=((0,n.computed)(()=>{const e=t.card.damageLogic;switch(e.mode){case'relative':return`倍率 ${e.scale??1}x`;case'fixed':return e.value?`固伤 ${e.value}`:'特殊';case'mixed':return`${e.baseValue??0}+${e.scale??1}x`;default:return'特殊'}}),(0,n.computed)(()=>{switch(t.card.type){case w.PHYSICAL:return'bg-gradient-to-tr from-red-900 to-black';case w.MAGIC:return'bg-gradient-to-tr from-purple-900 to-black';case w.FUNCTION:return'bg-gradient-to-tr from-yellow-900 to-black';case w.DODGE:return'bg-gradient-to-tr from-emerald-900 to-black';default:return'bg-gradient-to-tr from-gray-800 to-black'}}));return(t,s)=>((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createCommentVNode)(' Face Down Card '),e.faceDown?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:(0,n.normalizeClass)(['w-40 h-60 rounded-xl bg-[#252030] border-2 border-[#3a3040] shadow-xl relative overflow-hidden group transition-transform duration-300 hover:-translate-y-2',e.className])},[...s[1]||(s[1]=[(0,n.createElementVNode)('div',{class:'absolute inset-2 flex items-center justify-center border border-[#4a2e1a] opacity-50'},[(0,n.createElementVNode)('div',{class:'size-16 rounded-full border-2 border-[#5c3a21] opacity-30'})],-1)])],2)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(' Face Up Card '),(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['relative w-40 h-60 rounded-xl shadow-2xl transition-all duration-300 transform bg-[#16121e] border-2 cursor-pointer',[(0,n.unref)(a),e.selected?'ring-4 ring-dungeon-gold -translate-y-6 scale-105 z-20':'hover:-translate-y-2 hover:z-10',e.disabled?'opacity-80 !cursor-default':'',e.className]]),onClick:s[0]||(s[0]=a=>!e.disabled&&t.$emit('click'))},[(0,n.createCommentVNode)(' Header '),(0,n.createElementVNode)('div',ut,[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['w-6 h-6 rounded-full bg-purple-700/80 text-white font-bold text-[10px] flex items-center justify-center border border-purple-400/40 shadow-md',e.card.type!==(0,n.unref)(w).MAGIC||0===e.card.manaCost?'opacity-0':''])},(0,n.toDisplayString)(e.card.manaCost),3),(0,n.createElementVNode)('div',mt,[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)((0,n.unref)(o)),{class:(0,n.normalizeClass)(['size-5',(0,n.unref)(r)])},null,8,['class']))])]),(0,n.createCommentVNode)(' Image Placeholder '),(0,n.createElementVNode)('div',pt,[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['size-full opacity-60',(0,n.unref)(l)])},null,2),(0,n.createElementVNode)('span',ft,(0,n.toDisplayString)(e.card.name[0]),1)]),(0,n.createCommentVNode)(' Content '),(0,n.createElementVNode)('div',gt,[(0,n.createElementVNode)('h3',yt,(0,n.toDisplayString)(e.card.name),1),(0,n.createElementVNode)('div',bt,(0,n.toDisplayString)(e.card.description),1),(0,n.createElementVNode)('div',vt,(0,n.toDisplayString)(e.card.type),1)])],2)],2112))],2112))}}),xt={viewBox:'0 0 100 100',class:'absolute inset-0 size-full',style:{filter:'drop-shadow(0 5px 5px rgba(0, 0, 0, 0.6))'}},kt=['fill','stroke'],Nt=['stroke'],Et=(0,n.defineComponent)({__name:'DungeonDice',props:{value:{},rolling:{type:Boolean},color:{default:'gold'},size:{default:'md'},className:{default:''},rollingMin:{default:1},rollingMax:{default:6},numberClass:{default:''}},setup(e){const t=e,a=(0,n.ref)(1);let o=null;const r=`grad-${t.color}-${Math.random().toString(36).substr(2,9)}`,l=(0,n.computed)(()=>({sm:'w-12 h-12',md:'w-20 h-20',lg:'w-32 h-32'}[t.size])),s=(0,n.computed)(()=>({sm:'text-xl',md:'text-3xl',lg:'text-6xl'}[t.size])),c=(0,n.computed)(()=>'gold'===t.color?'#4d331f':'#2a0505'),i=(0,n.computed)(()=>'gold'===t.color?'text-[#2c1a0e]':'text-[#2c0e0e]'),d=(0,n.computed)(()=>t.numberClass||i.value),u=()=>{const{min:e,max:a}=(()=>{const e=Math.floor(Math.min(t.rollingMin,t.rollingMax)),a=Math.floor(Math.max(t.rollingMin,t.rollingMax));return{min:Number.isFinite(e)?e:1,max:Number.isFinite(a)?a:6}})();return a<=e?e:Math.floor(Math.random()*(a-e+1))+e};return(0,n.watch)(()=>[t.rolling,t.value,t.rollingMin,t.rollingMax],([e])=>{o&&(clearInterval(o),o=null),e?o=setInterval(()=>{a.value=u()},80):a.value=t.value},{immediate:!0}),(0,n.onUnmounted)(()=>{o&&clearInterval(o)}),(t,o)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{class:(0,n.normalizeClass)(['relative flex items-center justify-center drop-shadow-xl transition-all duration-300',[e.rolling?'animate-bounce':'',e.className]])},[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['relative flex items-center justify-center',(0,n.unref)(l)])},[((0,n.openBlock)(),(0,n.createElementBlock)('svg',xt,[(0,n.createElementVNode)('defs',null,[(0,n.createElementVNode)('linearGradient',{id:r,x1:'0%',y1:'0%',x2:'100%',y2:'100%'},['gold'===e.color?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[o[0]||(o[0]=(0,n.createElementVNode)('stop',{offset:'0%','stop-color':'#f9e6a0'},null,-1)),o[1]||(o[1]=(0,n.createElementVNode)('stop',{offset:'50%','stop-color':'#d4af37'},null,-1)),o[2]||(o[2]=(0,n.createElementVNode)('stop',{offset:'100%','stop-color':'#8a7122'},null,-1))],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[o[3]||(o[3]=(0,n.createElementVNode)('stop',{offset:'0%','stop-color':'#fca5a5'},null,-1)),o[4]||(o[4]=(0,n.createElementVNode)('stop',{offset:'50%','stop-color':'#ef4444'},null,-1)),o[5]||(o[5]=(0,n.createElementVNode)('stop',{offset:'100%','stop-color':'#7f1d1d'},null,-1))],64))])]),(0,n.createElementVNode)('polygon',{points:'50 2, 93 25, 93 75, 50 98, 7 75, 7 25',fill:`url(#${r})`,stroke:(0,n.unref)(c),'stroke-width':'3'},null,8,kt),(0,n.createElementVNode)('polygon',{points:'50 8, 87 29, 87 71, 50 92, 13 71, 13 29',fill:'none',stroke:(0,n.unref)(c),'stroke-width':'1',opacity:'0.4'},null,8,Nt)])),(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['relative z-10 font-heading font-bold drop-shadow-sm',[(0,n.unref)(d),(0,n.unref)(s)]])},(0,n.toDisplayString)((0,n.unref)(a)),3)],2)],2))}}),Ct={class:'absolute inset-0 z-0'},Vt=['src'],wt={class:'absolute top-4 left-4 z-50 pointer-events-auto flex flex-col gap-2 scale-[1.1] origin-top-left'},Mt={key:0,class:'mt-1 w-52 bg-[#1a1520]/95 border border-white/10 rounded-xl p-3 text-xs text-dungeon-paper shadow-xl backdrop-blur-md'},Bt={class:'flex flex-col gap-3'},St={class:'flex items-center gap-2 cursor-pointer select-none'},Dt={class:'absolute top-4 left-1/2 -translate-x-1/2 z-40 pointer-events-none scale-[1.1] origin-top'},_t={class:'flex flex-col items-center'},At={class:'text-lg font-heading font-bold text-white/90'},Tt={class:'absolute inset-0 z-10 pointer-events-none'},Rt={class:'absolute top-[3%] right-[2%] md:top-[5%] md:right-[3%] w-96 h-[32rem] flex flex-col items-center justify-end group transition-transform duration-1000 scale-[1.1] origin-top-right'},It={key:0,class:'absolute -left-48 top-8'},Lt={class:'relative'},$t={class:'rotate-[-3deg] shadow-[0_0_20px_rgba(200,120,0,0.15)]'},Ot={key:0,class:'absolute left-1/2 top-[4.6rem] -translate-x-1/2 rounded-md border border-white/15 bg-black/60 px-2 py-1 text-[10px] whitespace-nowrap pointer-events-none'},zt={class:'text-white/70'},Pt={class:'font-bold text-[#b08a2e]'},Ut={class:'relative w-full h-full'},Gt={class:'absolute bottom-0 left-1/2 -translate-x-1/2 scale-[1.2] origin-bottom w-64 h-80 flex items-end justify-center overflow-hidden'},Ht=['src'],Ft={class:'relative overflow-visible mt-3 w-72 scale-[1.2] origin-top bg-[#18141e]/90 border border-white/8 p-3 rounded-xl shadow-lg backdrop-blur-sm z-10 pointer-events-auto'},jt={class:'flex justify-between text-sm text-white/90 font-bold mb-1.5'},Yt={class:'pointer-events-none absolute inset-0 z-30 overflow-visible'},Wt={key:0,class:'flex items-center gap-3 mb-1'},qt=['aria-label'],Zt={class:'text-[10px] text-yellow-300 font-bold'},Kt=['aria-label'],Jt={class:'text-[10px] text-green-300 font-bold'},Xt={class:'flex items-center gap-2 mb-1.5'},Qt={class:'relative flex-1 h-2.5 bg-[#1a0a0a] rounded-full overflow-hidden border border-red-900/20'},ea={class:'text-[10px] text-white/70 w-14 text-right'},ta={class:'flex items-center gap-2 mb-1.5'},aa={class:'flex-1 h-2 bg-[#0a0a1a] rounded-full overflow-hidden border border-blue-900/20'},oa={class:'text-[10px] text-white/60 w-14 text-right'},na={class:'flex items-center gap-2 mb-1'},ra={class:'text-[10px] text-red-300'},la={key:1,class:'flex flex-wrap gap-1.5 mt-1.5 pointer-events-auto'},sa=['aria-label','onMouseenter','onFocus','onTouchstartPassive'],ca={key:0,class:'effect-stack-badge'},ia={class:'absolute bottom-[18%] left-[3%] md:bottom-[22%] md:left-[6%] w-64 h-80 flex flex-col items-center justify-end z-20 translate-y-28 md:translate-y-32 scale-[1.1] origin-bottom-left'},da=['title'],ua={key:0,class:'absolute left-1/2 top-[4.6rem] -translate-x-1/2 rounded-md border border-white/15 bg-black/60 px-2 py-1 text-[10px] whitespace-nowrap pointer-events-none'},ma={class:'text-white/70'},pa={class:'font-bold text-red-800'},fa={class:'relative w-full h-full'},ga={class:'absolute bottom-4 left-1/2 -translate-x-1/2 scale-[1.2] origin-bottom w-64 h-80 flex items-end justify-center overflow-hidden'},ya={key:0,class:'size-20 bg-dungeon-gold/15 blur-2xl rounded-full absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2'},ba={class:'relative overflow-visible mt-2 w-60 scale-[1.2] origin-bottom bg-[#18141e]/90 border border-white/8 p-2.5 rounded-xl shadow-xl backdrop-blur-sm z-10 pointer-events-auto'},va={class:'pointer-events-none absolute inset-0 z-30 overflow-visible'},ha={key:0,class:'flex items-center gap-3 mb-1'},xa=['aria-label'],ka={class:'text-[10px] text-yellow-300 font-bold'},Na=['aria-label'],Ea={class:'text-[10px] text-green-300 font-bold'},Ca={class:'flex items-center gap-2 mb-1.5'},Va={class:'relative flex-1 h-2.5 bg-[#1a0a0a] rounded-full overflow-hidden border border-red-900/20'},wa={class:'text-[10px] text-white/70 w-14 text-right'},Ma={class:'flex items-center gap-2 mb-1.5'},Ba={class:'flex-1 h-2 bg-[#0a0a1a] rounded-full overflow-hidden border border-blue-900/20'},Sa={class:'text-[10px] text-white/60 w-14 text-right'},Da={class:'flex items-center gap-2 mb-1'},_a={class:'text-[10px] text-dungeon-gold'},Aa={key:1,class:'flex flex-wrap gap-1.5 mt-1.5 pointer-events-auto'},Ta=['aria-label','onMouseenter','onFocus','onTouchstartPassive'],Ra={key:0,class:'effect-stack-badge'},Ia={class:'absolute inset-0 z-[45] pointer-events-none overflow-hidden'},La={class:'absolute inset-0 z-30 flex flex-col pointer-events-none'},$a={class:'flex-1 flex items-center justify-center relative'},Oa={key:0,class:'relative w-full h-64 flex items-center justify-center z-50'},za={class:'pointer-events-none min-h-[200px] w-full flex items-end justify-center pb-6 px-4 space-x-4 relative'},Pa={class:'flex space-x-4 items-end mb-2 z-40 scale-[1.1] origin-bottom pointer-events-auto'},Ua=['onMouseenter','onTouchstartPassive'],Ga={class:'absolute right-6 bottom-6 flex flex-col items-end gap-2.5 z-50 scale-[1.1] origin-bottom-right pointer-events-auto'},Ha=['disabled'],Fa={class:'flex space-x-3'},ja={class:'relative group'},Ya={class:'text-[9px] text-white/40 mt-0.5'},Wa={class:'relative group'},qa={class:'text-[9px] text-white/40 mt-0.5'},Za={class:'absolute right-0 top-14 z-40 pointer-events-auto select-none scale-[1.1] origin-top-right'},Ka={class:'flex items-start'},Ja=['title'],Xa={key:0,class:'w-80 max-h-44 overflow-y-auto space-y-1 border border-r-0 border-white/10 bg-[#18141e]/90 backdrop-blur-sm p-1 text-[10px] font-mono text-gray-300'},Qa=['innerHTML'],eo={key:0,class:'absolute inset-0 z-[70] flex items-center justify-center pointer-events-none'},to={class:'effect-tooltip-name'},ao={class:'effect-tooltip-desc'},oo={key:0,class:'effect-tooltip-stacks'},no={class:'flex justify-between items-center mb-4 border-b border-dungeon-brown pb-2'},ro={class:'font-heading text-xl text-dungeon-gold'},lo={class:'overflow-y-auto grid grid-cols-4 gap-4 p-2'},so='dungeon.combat.speed_up',co=(0,n.defineComponent)({__name:'CombatView',props:{initialPlayerStats:{},enemyName:{},playerDeck:{},playerRelics:{default:()=>({})},testStartAt999:{type:Boolean,default:!1}},emits:['endCombat','openDeck','openRelics'],setup(e,{emit:t}){const a=e,o=t,r=fe(a.enemyName),l=r?.name??a.enemyName,s=(0,n.computed)(()=>`https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E9%AD%94%E7%89%A9/${encodeURIComponent(l)}.png`),c=(0,n.ref)(!1),i=(0,n.ref)(!1),d=Me(),u=(0,n.ref)(!1),m=(0,n.ref)(!1),p=(0,n.computed)(()=>d.statData._当前区域||''),g=(0,n.computed)(()=>d.statData._当前房间类型||''),b=(0,n.computed)(()=>{if(!p.value||m.value)return'';const e='领主'===g.value&&!u.value?`${p.value}_领主`:p.value;return`https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E8%83%8C%E6%99%AF/${encodeURIComponent(e)}.png`});function v(){'领主'!==g.value||u.value?m.value=!0:u.value=!0}const h=(0,n.reactive)({}),x=e=>{const t=(e=>({...e,effects:e.effects.map(e=>({...e,restrictedTypes:e.restrictedTypes?[...e.restrictedTypes]:void 0}))}))(e);return a.testStartAt999?{...t,hp:999,maxHp:999,mp:999}:t},k=(0,n.ref)(x(a.initialPlayerStats)),N=(0,n.ref)(x(r?r.stats:{hp:1,maxHp:1,mp:0,minDice:1,maxDice:1,effects:[]})),E=e=>qe[e]?.name??String(e),C=e=>qe[e]?.description??'',V=(e,t)=>({type:e,stacks:Math.max(1,Math.floor(t)),polarity:qe[e]?.polarity??'special'}),B={[M.BARRIER]:Be,[M.ARMOR]:Se,[M.BIND]:De,[M.DEVOUR]:_e,[M.POISON]:Ae,[M.POISON_AMOUNT]:Te,[M.BURN]:Re,[M.BLEED]:Te,[M.VULNERABLE]:Ie,[M.REGEN]:Le,[M.IGNITE_AURA]:$e,[M.STUN]:Oe,[M.CHARGE]:ze,[M.COLD]:Pe,[M.NON_LIVING]:Ue,[M.MANA_DRAIN]:Ge,[M.MANA_SPRING]:He,[M.SWARM]:Ae,[M.INDOMITABLE]:Le},D=e=>B[e]??$e,A=e=>{switch(e){case'buff':return'bg-emerald-900/65 border-emerald-400/50 text-emerald-200';case'debuff':return'bg-red-900/65 border-red-400/55 text-red-200';case'trait':default:return'bg-slate-800/70 border-slate-400/45 text-slate-200';case'mixed':return'bg-indigo-900/70 border-indigo-400/55 text-indigo-200';case'special':return'bg-amber-900/70 border-amber-400/55 text-amber-200'}},T=(0,n.computed)(()=>{const e=k.value.effects.find(e=>e.type===M.ARMOR);return e?.stacks??0}),R=(0,n.computed)(()=>{const e=N.value.effects.find(e=>e.type===M.ARMOR);return e?.stacks??0}),I=(0,n.computed)(()=>{const e=k.value.effects.find(e=>e.type===M.POISON_AMOUNT);return e?.stacks??0}),L=(0,n.computed)(()=>{const e=N.value.effects.find(e=>e.type===M.POISON_AMOUNT);return e?.stacks??0}),O=(0,n.computed)(()=>k.value.maxHp<=0?0:Math.max(0,Math.min(I.value/k.value.maxHp*100,100))),P=(0,n.computed)(()=>N.value.maxHp<=0?0:Math.max(0,Math.min(L.value/N.value.maxHp*100,100))),U=(0,n.computed)(()=>k.value.effects.filter(e=>e.type!==M.ARMOR&&e.type!==M.POISON_AMOUNT)),G=(0,n.computed)(()=>N.value.effects.filter(e=>e.type!==M.ARMOR&&e.type!==M.POISON_AMOUNT)),H=e=>({...e,calculation:{...e.calculation},damageLogic:{...e.damageLogic},traits:{...e.traits},cardEffects:e.cardEffects.map(e=>({...e,restrictedTypes:e.restrictedTypes?[...e.restrictedTypes]:void 0,cleanseTypes:e.cleanseTypes?[...e.cleanseTypes]:void 0}))}),F=e=>e.map(H),j=r?F(r.deck):[],Y={id:'pass',name:'跳过',type:w.FUNCTION,category:'基础',rarity:'普通',manaCost:0,calculation:{multiplier:0,addition:0},damageLogic:{mode:'fixed',value:0},traits:{combo:!1,reroll:'none',draw:!1},cardEffects:[],description:'无行动'},W=(0,n.ref)({turn:1,phase:S.TURN_START,actionsRemaining:1,playerBaseDice:1,enemyBaseDice:1,playerHand:[],playerDeck:F(a.playerDeck).sort(()=>Math.random()-.5),discardPile:[],enemyDeck:[...j],enemyDiscard:[],enemyIntentCard:null,enemyPredictedPoint:0,playerSelectedCard:null,lastPlayedCard:null,logs:[`战斗开始！遭遇了 <span class="text-red-500 font-bold">${l}</span>`]}),q=(0,n.ref)(!1),Z=(0,n.ref)(!1),K=(0,n.ref)(null),J=(0,n.ref)(!1),X=(0,n.ref)(!1),Q=(0,n.ref)(null),ee=(0,n.ref)(!1),te=(0,n.ref)(!1),ae=(0,n.ref)(!0),oe=(0,n.ref)(null),ne=(0,n.ref)(!1),re=(0,n.ref)(!1),le=(0,n.ref)(null),se=(0,n.ref)(null),ce=(0,n.computed)(()=>te.value?2:1),ie=(0,n.computed)(()=>({'--combat-speed-multiplier':String(ce.value)})),de=(0,n.ref)([]),ue=(0,n.ref)(null),me=(0,n.ref)(null),pe=(0,n.computed)(()=>ue.value??W.value.playerBaseDice),ge=(0,n.computed)(()=>me.value??W.value.enemyBaseDice),ye=(0,n.computed)(()=>vt.value>0&&W.value.phase===S.PLAYER_INPUT&&!q.value&&!Z.value&&!ne.value),xe=(0,n.computed)(()=>vt.value<=0?'无可用重掷次数':`可点击重掷（剩余${vt.value}次）`),ke=(0,n.computed)(()=>null!==ue.value&&ue.value!==W.value.playerBaseDice),Ne=(0,n.computed)(()=>null!==me.value&&me.value!==W.value.enemyBaseDice),Ee=(0,n.ref)(null),Ce=(0,n.ref)(null);let Ve=null,we=null,Ze=null,Ke=null,ct=0,it=0,dt=0,ut=0,mt=0,pt=0;const ft=new WeakMap,gt=(0,n.ref)(new Set),yt={globalMultiplier:1,globalAddition:0},bt=function(e){if(!e||'object'!=typeof e)return[];const t=new Map;for(const[a,o]of Object.entries(e)){const e=Math.max(0,Math.floor(Number(o??0)));if(!a||e<=0)continue;const n=be.get(a)??ve.get(a);if(!n)continue;const r=t.get(n.id);r?r.count+=e:t.set(n.id,{relic:n,count:e})}return Array.from(t.values()).sort((e,t)=>e.relic.name.localeCompare(t.relic.name,'zh-Hans-CN'))}(a.playerRelics),vt=(0,n.ref)(0),xt=(0,n.reactive)({}),kt=e=>'player'===e?k.value:N.value,Nt=e=>(xt[e]||(xt[e]={}),xt[e]),co=e=>bt.some(t=>t.relic.id===e&&t.count>0),io=e=>bt.find(t=>t.relic.id===e)?.count??0,uo=(e,t)=>{'player'===e&&(vt.value=Math.max(0,vt.value+Math.floor(t)))},mo=(e,t=1)=>{if('player'!==e)return!1;const a=Math.max(1,Math.floor(t));return!(vt.value<a)&&(vt.value-=a,!0)},po=e=>'player'!==e?0:vt.value,fo=e=>{for(const t of bt)e(t,t.relic,Nt(t.relic.id))},go=e=>{ln(`<span class="text-amber-300 text-[9px]">[圣遗物] ${e}</span>`)},yo=(e,t)=>{const a=Math.max(0,Math.floor(t));if(a<=0)return 0;const o=Xe(kt(e),M.ARMOR,a,{source:'relic'})?a:0;return o>0&&rn(e,o,'shield','+'),o},bo=(e,t)=>{const a=Math.max(0,Math.floor(t));if(a<=0)return 0;const o=kt(e),n=o.mp;o.mp=Math.max(0,o.mp+a);const r=o.mp-n;return r>0&&rn(e,r,'mana','+'),r},vo=(e,t,a)=>{const o=Math.max(0,Math.floor(t));if(o<=0)return{healed:0,overflow:0};const n=kt(e),r=n.hp;n.hp=Math.max(0,Math.min(n.maxHp,n.hp+o));const l=n.hp-r,s=Math.max(0,o-l);return l>0&&rn(e,l,'heal','+'),a?.overflowToArmor&&s>0&&yo(e,s),{healed:l,overflow:s}},ho=(e,t,a,o)=>{const n=Math.max(0,Math.floor(a));if(n<=0)return!1;if(!((e,t,a,o)=>{let n=!0;const r=kt(e);return fo((l,s,c)=>{if(!n)return;const i=s.hooks?.onBeforeApplyEffect;i&&!1===i({count:l.count,side:'player',self:k.value,opponent:N.value,state:c,addLog:go,hasRelic:co,getRelicCount:io,addStatusEffect:(e,t,a,o)=>ho(e,t,a,o),addArmor:yo,restoreMana:bo,heal:vo,addRerollCharges:uo,getRerollCharges:po,targetSide:e,target:r,effectType:t,stacks:a,source:o?.source,restrictedTypes:o?.restrictedTypes})&&(n=!1)}),n})(e,t,n,o))return!1;return Xe(kt(e),t,n,{restrictedTypes:o?.restrictedTypes,source:o?.source,lockDecayThisTurn:o?.lockDecayThisTurn})},xo=(e,t,a)=>({count:t,side:'player',self:k.value,opponent:N.value,state:a,addLog:go,hasRelic:co,getRelicCount:io,addStatusEffect:(t,a,o,n)=>ho(t,a,o,{source:n?.source??`relic:${e.id}`,restrictedTypes:n?.restrictedTypes,lockDecayThisTurn:n?.lockDecayThisTurn}),addArmor:yo,restoreMana:bo,heal:vo,addRerollCharges:uo,getRerollCharges:po}),ko=e=>{fo((t,a,o)=>{const n=a.hooks?.[e];n&&n(xo(a,t.count,o))})},No=(e,t,a,o)=>{let n=Math.max(0,Math.floor(a)),r=!1;const l=kt(e);return fo((a,s,c)=>{const i=s.hooks?.onBeforeBurnDamage;if(!i)return;const d={...xo(s,a.count,c),targetSide:e,target:l,turn:o,burnStacks:t,damage:n,isTrueDamage:r};i(d),n=Math.max(0,Math.floor(d.damage)),r=!!d.isTrueDamage}),{damage:n,isTrueDamage:r}},Eo=(e,t,a,o,n)=>{const r=kt(e);fo((l,s,c)=>{const i=s.hooks?.onAfterBurnDamageTaken;if(!i)return;i({...xo(s,l.count,c),targetSide:e,target:r,turn:n,burnStacks:t,damage:Math.max(0,Math.floor(a)),isTrueDamage:o})})},Co=(e,t,a,o,n,r,l,s)=>{const c=kt(e),i=kt(t);fo((d,u,m)=>{const p={...xo(u,d.count,m),sourceSide:e,targetSide:t,source:c,target:i,card:a,finalPoint:o,hitIndex:n,hitCount:r,attemptedDamage:Math.max(0,Math.floor(l)),actualDamage:Math.max(0,Math.floor(s))};u.hooks?.onAfterHitDealt?.(p),u.hooks?.onAfterHitTaken?.(p)})},Vo=e=>Math.max(60,Math.floor(e/ce.value)),wo=e=>new Promise(t=>setTimeout(t,Vo(e))),Mo=e=>({transitionDuration:`${Vo(e)}ms`}),Bo=(e,t)=>({...e,transitionDuration:`${Vo(t)}ms`}),So=(0,n.computed)(()=>{const e=Ee.value,t=!!e?.entered;return{left:t?'29%':'50%',top:t?'23%':'84%',transform:`translate(-50%, -50%) scale(${t?1:.96})`,opacity:t?'1':'0',transitionProperty:'left, top, transform, opacity',transitionDuration:`${Vo(540)}ms`,transitionTimingFunction:'cubic-bezier(0.22, 0.9, 0.2, 1)'}}),Do=(0,n.computed)(()=>{if(!Ce.value)return'';return`${'player'===Ce.value.source?'resolved-card-visual-inner--player':'resolved-card-visual-inner--enemy'} ${'attack'===Ce.value.variant?'resolved-card-visual-inner--attack':'self'===Ce.value.variant?'resolved-card-visual-inner--self':'resolved-card-visual-inner--fade'}`}),_o=(0,n.computed)(()=>!!W.value.enemyIntentCard&&(!re.value&&!(Ce.value&&'enemy'===Ce.value.source))),Ao={physical:'text-red-400 drop-shadow-[0_0_8px_rgba(248,113,113,0.85)]',magic:'text-red-400 drop-shadow-[0_0_8px_rgba(248,113,113,0.85)]',shield:'text-gray-300 drop-shadow-[0_0_8px_rgba(209,213,219,0.85)]',heal:'text-green-400 drop-shadow-[0_0_8px_rgba(74,222,128,0.85)]',mana:'text-blue-400 drop-shadow-[0_0_8px_rgba(96,165,250,0.85)]',true:'text-zinc-500 drop-shadow-[0_0_8px_rgba(39,39,42,0.9)]'},To=e=>de.value.filter(t=>t.side===e),Ro=e=>{let t=ft.get(e);return t||(it+=1,t=`hand-${it}`,ft.set(e,t)),t},Io=e=>gt.value.has(Ro(e)),Lo=(e,t)=>'self'===t?e:'player'===e?'enemy':'player',$o=(e,t,a)=>{const o=Je(e,M.CHARGE);if(o<=0)return a;Qe(e,M.CHARGE);const n=Math.max(0,Math.floor(a+o));return ln(`<span class="text-cyan-300">${t}[蓄力] +${o}，原始骰子 ${a} → ${n}</span>`),n},Oo=()=>{ue.value=null,me.value=null,Ve&&(clearTimeout(Ve),Ve=null),we&&(clearTimeout(we),we=null)},zo=()=>{Ee.value=null},Po=()=>{mt+=1,zo(),Ce.value=null,X.value=!1,Z.value=!1,K.value=null},Uo=(e,t,a,o=!1)=>{const n='player'===e?k.value:N.value,r='player'===e?N.value:k.value;let l=function(e){const{baseDice:t,card:a,relicModifiers:o}=e;let n=t*a.calculation.multiplier+a.calculation.addition;return n*=o.globalMultiplier,n+=o.globalAddition,Math.max(0,Math.floor(n))}({baseDice:a,card:t,entityEffects:n.effects,relicModifiers:yt});return'burn_inferno_judgement'===t.id&&(l+=Math.floor(Je(r,M.BURN)/2)),'player'===e&&fo((e,s,c)=>{const i=s.hooks?.modifyFinalPoint;if(!i)return;const d={count:e.count,side:'player',card:t,baseDice:a,currentPoint:l,self:n,opponent:r,state:c,isPreview:o,addLog:go,hasRelic:co,getRelicCount:io};l=i(d)}),Math.max(0,Math.floor(l))},Go=(e,t,a)=>Uo(e,t,a,!0),Ho=()=>{ue.value=null},Fo=()=>{Ve&&(clearTimeout(Ve),Ve=null),ue.value=null},jo=(e,t)=>{const a=Math.floor(Math.min(e,t)),o=Math.floor(Math.max(e,t));return o<=a?a:Math.floor(Math.random()*(o-a+1))+a},Yo=()=>{if(!ye.value)return;let e=null;if(fo((t,a,o)=>{if(null!==e)return;const n=a.hooks?.onDiceClick;if(!n)return;const r={count:t.count,side:'player',currentDice:W.value.playerBaseDice,minDice:k.value.minDice,maxDice:k.value.maxDice,state:o,roll:jo,consumeRerollCharge:mo,getRerollCharges:po,addLog:go};e=n(r)}),null===e)return;const t=W.value.playerBaseDice,a=$o(k.value,'我方',Math.max(0,Math.floor(e)));W.value.playerBaseDice=a,ue.value=null,ln(`<span class="text-amber-200">我方骰子重掷：${t} → ${a}</span>`)},Wo=()=>{if(W.value.phase!==S.PLAYER_INPUT||q.value||Z.value||!W.value.enemyIntentCard)return;const e=(()=>{const e=W.value.enemyIntentCard;return e?Go('enemy',e,W.value.enemyBaseDice):null})();null!==e&&(me.value=e)},qo=()=>{Z.value||(me.value=null)},Zo=()=>{Wo()},Ko=()=>{qo()},Jo=()=>{we&&(clearTimeout(we),we=null),we=setTimeout(()=>{Wo()},260)},Xo=()=>{we&&(clearTimeout(we),we=null),qo()},Qo=()=>{Ze&&(clearTimeout(Ze),Ze=null),Ke&&(clearTimeout(Ke),Ke=null)},en=(e,t,a='center')=>{const o=le.value?.getBoundingClientRect();if(!o)return;const n=e.getBoundingClientRect(),r=Math.max(8,n.top-o.top-8),l='right'===a?Math.max(8,Math.min(n.right-o.left+10,o.width-256-8)):Math.max(100,Math.min(n.left+n.width/2-o.left,o.width-100));se.value={x:l,y:r,name:E(t.type),description:C(t.type),stacks:t.stacks,align:a}},tn=(e,t,a='center')=>{const o=e.currentTarget;o&&(Qo(),en(o,t,a))},an=()=>{Qo(),se.value=null},on=(e,t,a='center')=>{const o=e.currentTarget;o&&(Qo(),Ze=setTimeout(()=>{en(o,t,a),Ke=setTimeout(()=>{se.value=null,Ke=null},Vo(1800))},Vo(320)))},nn=()=>{Ze&&(clearTimeout(Ze),Ze=null)},rn=(e,t,a,o='+')=>{const n=Math.max(0,Math.floor(t));if(n<=0)return;const r=++ct,l=Vo(1350);de.value.push({id:r,side:e,text:`${o}${n}`,colorClass:Ao[a],leftOffset:Math.floor(120*(Math.random()-.5)),topOffset:24+Math.floor(20*Math.random()),duration:l}),setTimeout(()=>{de.value=de.value.filter(e=>e.id!==r)},l)},ln=e=>{W.value.logs=[e,...W.value.logs].slice(0,240)};if(bt.length>0){const e=bt.map(e=>e.count>1?`${e.relic.name}x${e.count}`:e.relic.name).join('、');ln(`<span class="text-amber-300">本场圣遗物：${e}</span>`)}ko('onBattleStart'),(0,n.onMounted)(()=>{te.value='1'===localStorage.getItem(so)}),(0,n.onUnmounted)(()=>{Ve&&(clearTimeout(Ve),Ve=null),we&&(clearTimeout(we),we=null),Qo()}),(0,n.watch)(te,e=>{localStorage.setItem(so,e?'1':'0')});const sn=(e,t,a)=>{let o=[...t],n=[...a];const r=[];for(let t=0;t<e;t++){if(0===o.length){if(0===n.length)break;o=[...n].sort(()=>Math.random()-.5),n=[],ln('<span class="text-yellow-500">弃牌堆已洗入牌库。</span>'),ko('onDeckShuffle')}const e=o.pop();e&&r.push(e)}return{drawn:r,newDeck:o,newDiscard:n}},cn=e=>{const t=W.value.playerSelectedCard,a=t===e;return[a?'-translate-y-12 scale-110 z-50 ring-2 ring-dungeon-gold rounded-lg shadow-[0_0_30px_#d4af37]':'',t&&!a?'opacity-30 scale-90 translate-y-8 grayscale':'hover:scale-110 hover:-translate-y-4 hover:z-50',W.value.phase===S.PLAYER_INPUT||a?'cursor-pointer':'opacity-50 grayscale cursor-not-allowed']};(0,n.watch)(()=>W.value.phase,e=>{if(!ne.value&&e===S.TURN_START){if(W.value.turn>1)for(const[e,t,a]of[['player','我方',k],['enemy','敌方',N]]){const o=e,n='player'===e?'enemy':'player',r=tt(a.value);let l=[...r.logs],s=0,c=0,i=!1;for(const e of r.applyToOpponent)ho(n,e.type,e.stacks,{source:'effect:ignite_aura'});const d=r.logs.find(e=>e.includes('[燃烧]'));if(d){const t=d.match(/损失\s+(\d+)\s+点生命/),n=t?Number(t[1]):0,u=Je(a.value,M.BURN);if(l=l.filter(e=>e!==d),n>0){const t=No(o,u,n,W.value.turn);r.hpChange+=n,t.damage>0?t.isTrueDamage?(rn(e,t.damage,'true','-'),s=t.damage,c+=t.damage,i=!0,r.trueDamage+=t.damage,l.push(`[燃烧] 受到 ${t.damage} 点真实伤害。`)):Je(a.value,M.BARRIER)>0?(et(a.value,M.BARRIER,1),l.push(`[结界] 抵挡了 ${t.damage} 点燃烧伤害。`)):(s=t.damage,r.hpChange-=t.damage,rn(e,t.damage,'magic','-'),l.push(`[燃烧] 损失 ${t.damage} 点生命。`)):l.push('[燃烧] 伤害为 0。')}}if(0!==r.hpChange){const t=a.value.hp;a.value.hp=Math.max(0,Math.min(a.value.maxHp,a.value.hp+r.hpChange));const o=a.value.hp-t;o>0&&rn(e,o,'heal','+')}if(0!==r.mpChange){const t=a.value.mp;a.value.mp=Math.max(0,a.value.mp+r.mpChange);const o=a.value.mp-t;o>0&&rn(e,o,'mana','+')}if(r.trueDamage>0){a.value.hp=Math.max(0,a.value.hp-r.trueDamage);const t=Math.max(0,r.trueDamage-c);t>0&&rn(e,t,'true','-')}s>0&&Eo(o,Je(a.value,M.BURN),s,i,W.value.turn);const u=rt(a.value);for(const e of u.logs)ln(`<span class="text-violet-300 text-[9px]">${t}: ${e}</span>`);for(const e of l)ln(`<span class="text-gray-400 text-[9px]">${t}: ${e}</span>`)}setTimeout(()=>{ne.value||ne.value||(Oo(),Po(),W.value.phase=S.DRAW_PHASE,W.value.playerSelectedCard=null,W.value.enemyIntentCard=null,re.value=!1,q.value=!0,K.value=null,Z.value=!1,ko('onTurnStart'),setTimeout(()=>{if(ne.value)return;const e=Math.floor(Math.random()*(k.value.maxDice-k.value.minDice+1))+k.value.minDice,t=Math.floor(Math.random()*(N.value.maxDice-N.value.minDice+1))+N.value.minDice,a=$o(k.value,'我方',e),o=$o(N.value,'敌方',t);q.value=!1,W.value.playerBaseDice=a,W.value.enemyBaseDice=o,W.value.phase=S.DRAW_PHASE,ln(`掷骰结果：我方 [${a}] vs 敌方 [${o}]`)},Vo(1500)))},Vo(1e3))}},{immediate:!0}),(0,n.watch)([()=>W.value.phase,q],([e,t])=>{if(!ne.value&&e===S.DRAW_PHASE&&!t){const e=function(){if(Je(N.value,M.STUN)>0)return ln('<span class="text-gray-400">敌方处于眩晕，跳过回合。</span>'),Y;if(0===W.value.enemyDeck.length){if(0===W.value.enemyDiscard.length)return Y;W.value.enemyDeck=[...W.value.enemyDiscard].sort(()=>Math.random()-.5),W.value.enemyDiscard=[]}let e;if(r){const t={enemyStats:N.value,playerStats:k.value,deck:W.value.enemyDeck,turn:W.value.turn,flags:h};e=r.selectCard(t)}else{const t=Math.floor(Math.random()*W.value.enemyDeck.length);e=W.value.enemyDeck[t]}const t=ot(N.value,e,W.value.enemyBaseDice);return t.allowed?e:(ln(`<span class="text-gray-400">敌方无法出牌：${t.reason??'本回合跳过。'}</span>`),Y)}(),{drawn:t,newDeck:a,newDiscard:o}=sn(3,W.value.playerDeck,W.value.discardPile);W.value.enemyIntentCard=e,re.value=!1,W.value.playerHand=t,W.value.playerDeck=a,W.value.discardPile=o,W.value.phase=S.PLAYER_INPUT}});const dn=(e,t)=>{if(W.value.phase!==S.PLAYER_INPUT)return;if(t<0||t>=W.value.playerHand.length)return;if(W.value.playerHand[t]!==e)return;const a=ot(k.value,e,W.value.playerBaseDice);if(!a.allowed)return(e=>{const t=Ro(e),a=new Set(gt.value);a.delete(t),gt.value=a,requestAnimationFrame(()=>{const e=new Set(gt.value);e.add(t),gt.value=e,setTimeout(()=>{const e=new Set(gt.value);e.delete(t),gt.value=e},Vo(360))})})(e),void ln(`<span class="text-red-400">${a.reason??'当前无法使用该卡牌。'}</span>`);e.type===w.MAGIC&&(k.value.mp-=e.manaCost);const[o]=W.value.playerHand.splice(t,1);o&&(Oo(),(e=>{if(ne.value)return;const t=mt,a=++dt;Ee.value={id:a,card:e,entered:!1},requestAnimationFrame(()=>{t!==mt||ne.value||Ee.value?.id===a&&(Ee.value.entered=!0)})})(o),W.value.discardPile.push(o),W.value.playerSelectedCard=o,W.value.phase=S.RESOLUTION)},un=()=>{W.value.phase===S.PLAYER_INPUT&&W.value.enemyIntentCard&&(Oo(),zo(),W.value.playerSelectedCard=Y,W.value.phase=S.RESOLUTION,ln('<span class="text-gray-400">你选择了跳过当前回合。</span>'))},mn=async(e,t,a,o)=>{if(ne.value)return;let n=t;n.type===w.MAGIC&&n.id!==Y.id&&(N.value.mp>=n.manaCost?N.value.mp-=n.manaCost:(n=Y,ln('<span class="text-gray-400">敌方魔力不足，本回合视为跳过。</span>')));const r=(l=e.type,s=n.type,l===w.PHYSICAL&&s===w.PHYSICAL||l===w.MAGIC&&s===w.MAGIC||l===w.DODGE&&(s===w.PHYSICAL||s===w.MAGIC)||s===w.DODGE&&(l===w.PHYSICAL||l===w.MAGIC));var l,s;const c=e.id===Y.id,i=n.id===Y.id,d=Go('player',e,a),u=Go('enemy',n,o),m=(e,t)=>{const a='player'===e?k.value:N.value,o='player'===e?'我方':'敌方',n=Je(a,M.BURN);n<=0||(Qe(a,M.BURN),ln(`<span class="text-orange-300">${t} ${o}燃烧清空（${n}层）。</span>`))};i&&m('player','敌方跳过回合。'),c&&m('enemy','我方跳过回合。');let p=!0,f=!0,g='',y=null;r?(ue.value=d,me.value=u,Z.value=!0,await wo(600),J.value=!0,setTimeout(()=>J.value=!1,Vo(500)),e.type===n.type?d>u?(f=!1,y='player',g='拼点胜利！'):u>d?(p=!1,y='enemy',g='拼点失败！'):(p=!1,f=!1,y='tie',g='势均力敌！'):e.type===w.DODGE?u>d?(f=!1,y='player',g='闪避成功！'):(p=!1,y='enemy',g='闪避失败！'):n.type===w.DODGE&&(d>u?(p=!1,y='enemy',g='攻击被闪避！'):(f=!1,y='player',g='敌方闪避失败！')),'player'===y?K.value='enemy':'enemy'===y?K.value='player':'tie'===y&&(K.value='both'),g&&ln(`<span class="text-gray-300">${g}</span>`),'enemy'===y&&(uo('player',1),ln('<span class="text-amber-300">拼点失败：重掷次数 +1</span>')),'player'===y?m('player','拼点胜利。'):'enemy'===y&&m('enemy','拼点胜利。'),await wo(650),Z.value=!1,Oo()):(await wo(500),ln('<span class="text-gray-400">双方卡牌互不干扰，直接结算。</span>'),p=!0,f=!0);const b=async(e,t,a)=>{if(ne.value)return;const o='player'===e?k.value:N.value,n='player'===e?N.value:k.value,r='player'===e?'我方':'敌方',l='player'===e?'enemy':'player';if('enemy'===e&&t.id!==Y.id&&(re.value=!0),'player'===e&&zo(),await(async(e,t)=>{if(t.id===Y.id||ne.value)return;const a=mt,o=t.type===w.PHYSICAL||t.type===w.MAGIC?'attack':t.type===w.DODGE?'fade':'self',n=++ut;if(Ce.value={id:n,source:e,card:t,variant:o},'attack'===o){const e=Vo(720);setTimeout(()=>{a!==mt||ne.value||(X.value=!0,setTimeout(()=>{a===mt&&(X.value=!1)},Vo(220)))},e)}const r='attack'===o?930:570;await wo(r),a!==mt||ne.value||Ce.value?.id===n&&(Ce.value=null)})(e,t),ne.value)return;const s=Uo(e,t,a),c=()=>{if(t.type!==w.FUNCTION||t.id===Y.id)return;const a=Math.max(0,Math.floor(s));'player'===e?W.value.playerBaseDice!==a&&(W.value.playerBaseDice=a,ln(`<span class="text-dungeon-gold/80">我方当前点数调整为 ${a}</span>`)):W.value.enemyBaseDice!==a&&(W.value.enemyBaseDice=a)},i=()=>{let a=!1;for(const l of t.cardEffects){const c=l.target??'self',i='self'===c?o:n,d=Lo(e,c);if('heal'===l.kind){const e='point_scale'===l.valueMode?Math.floor(s*(l.scale??1)):Math.floor(l.fixedValue??0),o=i.hp;i.hp=Math.min(i.maxHp,i.hp+e);const n=i.hp-o;n>0&&rn(d,n,'heal','+'),ln(`<span class="text-green-400">${r}【${t.name}】回复了 ${e} 点生命</span>`),a=!0}else if('apply_buff'===l.kind){const e='point_scale'===l.valueMode?Math.floor(s*(l.scale??1)):Math.floor(l.fixedValue??1);ho(d,l.effectType,e,{restrictedTypes:l.restrictedTypes,source:t.id,lockDecayThisTurn:l.effectType===M.BIND}),l.effectType===M.ARMOR&&rn(d,e,'shield','+'),ln(`<span class="text-yellow-400">${r}【${t.name}】获得了 ${e} 层${qe[l.effectType]?.name??l.effectType}</span>`),a=!0}else if('restore_mana'===l.kind){const e='point_scale'===l.valueMode?Math.floor(s*(l.scale??1)):Math.floor(l.fixedValue??0),o=i.mp;i.mp=Math.max(0,i.mp+e);const n=i.mp-o;n>0&&rn(d,n,'mana','+'),ln(`<span class="text-blue-400">${r}【${t.name}】回复了 ${e} 点魔力</span>`),a=!0}else if('cleanse'===l.kind){const e=l.cleanseTypes&&l.cleanseTypes.length>0?l.cleanseTypes:i.effects.map(e=>e.type);for(const t of e)Qe(i,t);ln(`<span class="text-cyan-300">${r}【${t.name}】清除了负面效果</span>`),a=!0}}return a};if(t.type===w.FUNCTION){if('burn_char_convert'===t.id){const a=Je(o,M.BURN);return c(),void(a>0?(Qe(o,M.BURN),o.mp+=a,rn(e,a,'mana','+'),ln(`<span class="text-blue-400">${r}【${t.name}】清除了 ${a} 层燃烧并回复了 ${a} 点魔力</span>`)):ln(`<span class="text-gray-400">${r}【${t.name}】未检测到燃烧层数</span>`))}c();i()||('c5'===t.id&&(o.mp+=5,rn(e,5,'mana','+')),ln(`${r}使用了【${t.name}】`))}else if(t.type!==w.DODGE){const a=Je(n,M.BURN),c=Math.max(1,Math.floor(t.hitCount??1))+('enemy_moth_swarm_burst'===t.id?Math.max(0,Je(o,M.SWARM)):0);c>1&&ln(`<span class="text-violet-300">${r}【${t.name}】进行 ${c} 段攻击</span>`);for(let i=0;i<c;i++){let d=t;const u='burn_scorch_wind'===t.id?Math.floor(.5*s)+a:'burn_detonation'===t.id?Math.floor(a):null;null!==u&&(d={...t,damageLogic:{mode:'fixed',value:Math.floor(u)}});const{damage:m,isTrueDamage:p,logs:f}=nt({finalPoint:s,card:d,attackerEffects:o.effects,defenderEffects:n.effects,relicModifiers:yt}),{actualDamage:g,logs:y}=st(n,m,p),b=c>1?`第${i+1}段`:'',v=p?'text-zinc-500':'text-red-400';if(ln(`${r}【${t.name}】${b}点数${s}，造成 <span class="${v} font-bold">${g}</span> 点伤害`),g>0){const e=p?'true':t.type===w.MAGIC?'magic':'physical';rn(l,g,e,'-')}const h=lt(o);for(const e of h)ln(`<span class="text-sky-300 text-[9px]">${r}: ${e}</span>`);for(const e of[...f,...y])ln(`<span class="text-gray-500 text-[9px]">${e}</span>`);if(Co(e,l,t,s,i+1,c,m,g),n.hp<=0)break}i()}},v=[];let h=null;if(p&&v.push({source:'player',card:e,type:e.type,baseDice:a}),f){const t={source:'enemy',card:n,type:n.type,baseDice:o};e.traits.combo?h=t:v.push(t)}const x=e=>e===w.FUNCTION?3:e===w.MAGIC?2:e===w.PHYSICAL?1:0;v.sort((e,t)=>x(t.type)-x(e.type));for(const e of v){if(ne.value)break;if(await b(e.source,e.card,e.baseDice),ne.value)break;await wo(630)}if(Po(),ne.value)return;if(e.traits.combo){if(e.traits.draw){const{drawn:e,newDeck:t,newDiscard:a}=sn(1,W.value.playerDeck,W.value.discardPile);W.value.playerDeck=t,W.value.discardPile=a,W.value.playerHand=[...W.value.playerHand,...e]}if(W.value.playerHand.length>0&&k.value.hp>0&&N.value.hp>0)return W.value.playerSelectedCard=null,W.value.phase=S.PLAYER_INPUT,void ln('<span class="text-dungeon-gold/80">连击触发：可继续出牌</span>');if(h&&k.value.hp>0&&N.value.hp>0){if(ne.value)return;if(await b(h.source,h.card,h.baseDice),ne.value)return;await wo(630)}}if(k.value.hp<=0||N.value.hp<=0)return;const E=at(k.value),C=at(N.value);for(const e of[...E,...C])ln(`<span class="text-gray-500 text-[9px]">${e}</span>`);ko('onTurnEnd'),W.value.discardPile=[...W.value.discardPile,...W.value.playerHand],W.value.playerHand=[],W.value.turn+=1,W.value.phase=S.TURN_START};(0,n.watch)(()=>W.value.phase,e=>{ne.value||e===S.RESOLUTION&&W.value.playerSelectedCard&&W.value.enemyIntentCard&&!Z.value&&mn(W.value.playerSelectedCard,W.value.enemyIntentCard,W.value.playerBaseDice,W.value.enemyBaseDice)});return(0,n.watch)([()=>k.value.hp,()=>N.value.hp],([e,t])=>{if(ne.value)return;let a=null;e<=0?a=!1:t<=0&&(a=!0),null!==a&&(ne.value=!0,(async e=>{const t=++pt;await wo(500),t===pt&&(await wo(500),t===pt&&(Po(),oe.value=e?'win':'lose',W.value.phase=e?S.WIN:S.LOSE,await wo(1500),t===pt&&o('endCombat',e,k.value)))})(a))}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{ref_key:'combatRootEl',ref:le,class:(0,n.normalizeClass)(['combat-root w-full h-full bg-[#1a1a22] text-dungeon-paper font-ui relative overflow-hidden select-none',[(0,n.unref)(J)?'animate-shake':'',(0,n.unref)(X)?'animate-impact-shake':'']]),style:(0,n.normalizeStyle)((0,n.unref)(ie))},[(0,n.createCommentVNode)(' Background '),(0,n.createElementVNode)('div',Ct,[(0,n.createCommentVNode)(' Dynamic background image '),(0,n.unref)(b)?((0,n.openBlock)(),(0,n.createElementBlock)('img',{key:0,src:(0,n.unref)(b),class:'absolute inset-0 w-full h-full object-cover',alt:'',onError:v},null,40,Vt)):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' Fallback gradient '),t[25]||(t[25]=(0,n.createElementVNode)('div',{class:'absolute inset-0 bg-[radial-gradient(circle_at_50%_30%,_rgba(40,35,50,0.5),_#0e0e14_90%)]'},null,-1)),(0,n.createCommentVNode)(' Darken overlay for readability '),t[26]||(t[26]=(0,n.createElementVNode)('div',{class:'absolute inset-0 bg-black/40'},null,-1))]),t[48]||(t[48]=(0,n.createElementVNode)('div',{class:'absolute inset-0 opacity-20 z-0 mix-blend-overlay bg-[length:200px] bg-repeat',style:{'background-image':'url(\'https://www.transparenttextures.com/patterns/dark-matter.png\')'}},null,-1)),(0,n.createCommentVNode)(' Top Left: Settings '),(0,n.createElementVNode)('div',wt,[(0,n.createElementVNode)('button',{class:'w-10 h-10 bg-[#252030]/90 border border-white/10 rounded-xl text-dungeon-gold flex items-center justify-center hover:bg-[#352a40] hover:border-white/20 active:scale-95 transition-all shadow-lg',onClick:t[0]||(t[0]=e=>ee.value=!(0,n.unref)(ee))},[(0,n.createVNode)((0,n.unref)(Fe),{class:'size-5'}),t[27]||(t[27]=(0,n.createElementVNode)('span',{class:'sr-only'},'设置',-1))]),(0,n.createElementVNode)('button',{class:'w-10 h-10 bg-[#252030]/90 border border-white/10 rounded-xl text-dungeon-gold flex items-center justify-center hover:bg-[#352a40] hover:border-white/20 active:scale-95 transition-all shadow-lg',onClick:t[1]||(t[1]=e=>o('openDeck'))},[(0,n.createVNode)((0,n.unref)(f),{class:'size-5'}),t[28]||(t[28]=(0,n.createElementVNode)('span',{class:'sr-only'},'卡组',-1))]),(0,n.createElementVNode)('button',{class:'w-10 h-10 bg-[#252030]/90 border border-white/10 rounded-xl text-dungeon-gold flex items-center justify-center hover:bg-[#352a40] hover:border-white/20 active:scale-95 transition-all shadow-lg',onClick:t[2]||(t[2]=e=>o('openRelics'))},[(0,n.createVNode)((0,n.unref)(y),{class:'size-5'}),t[29]||(t[29]=(0,n.createElementVNode)('span',{class:'sr-only'},'物品',-1))]),(0,n.unref)(ee)?((0,n.openBlock)(),(0,n.createElementBlock)('div',Mt,[(0,n.createElementVNode)('div',Bt,[(0,n.createElementVNode)('label',St,[(0,n.withDirectives)((0,n.createElementVNode)('input',{'onUpdate:modelValue':t[3]||(t[3]=e=>(0,n.isRef)(te)?te.value=e:null),type:'checkbox',class:'accent-dungeon-gold'},null,512),[[n.vModelCheckbox,(0,n.unref)(te)]]),t[30]||(t[30]=(0,n.createElementVNode)('span',null,'战斗加速（2x）',-1))]),(0,n.createElementVNode)('button',{class:'h-8 rounded-lg border border-white/20 bg-[#252030]/80 px-2 text-xs text-dungeon-gold hover:border-dungeon-gold/60 hover:bg-[#352a40] transition-colors',onClick:t[4]||(t[4]=(...e)=>(0,n.unref)(he)&&(0,n.unref)(he)(...e))},' 切换全屏 ')])])):(0,n.createCommentVNode)('v-if',!0)]),(0,n.createCommentVNode)(' Top Center: Turn Counter '),(0,n.createElementVNode)('div',Dt,[(0,n.createElementVNode)('div',_t,[t[31]||(t[31]=(0,n.createElementVNode)('span',{class:'text-xs text-white/60 tracking-widest'},'回合',-1)),(0,n.createElementVNode)('span',At,(0,n.toDisplayString)((0,n.unref)(W).turn),1)])]),(0,n.createCommentVNode)(' Battlefield Layer '),(0,n.createElementVNode)('div',Tt,[(0,n.createCommentVNode)(' Enemy Position: Top Right '),(0,n.createElementVNode)('div',Rt,[(0,n.createCommentVNode)(' Enemy Intent Card '),(0,n.unref)(_o)&&(0,n.unref)(W).enemyIntentCard?((0,n.openBlock)(),(0,n.createElementBlock)('div',It,[(0,n.createElementVNode)('div',Lt,[t[32]||(t[32]=(0,n.createElementVNode)('div',{class:'absolute -top-5 left-0 text-amber-200/80 text-[10px] px-2 py-0.5 rounded'},' 敌方意图 ',-1)),(0,n.createElementVNode)('div',$t,[(0,n.createVNode)(ht,{card:(0,n.unref)(W).enemyIntentCard,'is-enemy':'',disabled:''},null,8,['card'])])])])):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' Enemy Dice '),(0,n.unref)(Z)?(0,n.createCommentVNode)('v-if',!0):((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:1,class:'absolute -left-24 bottom-20 z-20 animate-float pointer-events-auto',onMouseenter:Zo,onMouseleave:Ko,onTouchstartPassive:Jo,onTouchend:Xo,onTouchcancel:Xo},[(0,n.createVNode)(Et,{value:(0,n.unref)(ge),rolling:(0,n.unref)(q),'rolling-min':(0,n.unref)(N).minDice,'rolling-max':(0,n.unref)(N).maxDice,'number-class':(0,n.unref)(Ne)?'text-[#b08a2e]':'',color:'red',size:'md'},null,8,['value','rolling','rolling-min','rolling-max','number-class']),(0,n.unref)(Ne)?((0,n.openBlock)(),(0,n.createElementBlock)('div',Ot,[(0,n.createElementVNode)('span',zt,'原始 '+(0,n.toDisplayString)((0,n.unref)(W).enemyBaseDice),1),t[33]||(t[33]=(0,n.createElementVNode)('span',{class:'mx-1 text-white/45'},'→',-1)),(0,n.createElementVNode)('span',Pt,'最终 '+(0,n.toDisplayString)((0,n.unref)(ge)),1)])):(0,n.createCommentVNode)('v-if',!0)],32)),(0,n.createCommentVNode)(' Enemy Portrait '),(0,n.createElementVNode)('div',Ut,[(0,n.createElementVNode)('div',Gt,[(0,n.createCommentVNode)(' Placeholder icon (shown when portrait fails to load) '),(0,n.unref)(i)?((0,n.openBlock)(),(0,n.createBlock)((0,n.unref)(_e),{key:0,class:'w-48 h-48 text-red-900/20 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2'})):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(' Enemy portrait image '),(0,n.createElementVNode)('img',{src:(0,n.unref)(s),class:'w-full h-full object-contain object-bottom',alt:'enemy portrait',onError:t[5]||(t[5]=e=>i.value=!0)},null,40,Ht)],2112))])]),(0,n.createCommentVNode)(' Enemy Status Bar '),(0,n.createElementVNode)('div',Ft,[(0,n.createElementVNode)('div',jt,[(0,n.createElementVNode)('span',null,(0,n.toDisplayString)((0,n.unref)(l)),1)]),(0,n.createElementVNode)('div',Yt,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(To('enemy'),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.id,class:(0,n.normalizeClass)(['combat-float-number absolute text-xl font-extrabold tracking-wide',e.colorClass]),style:(0,n.normalizeStyle)({left:`calc(50% + ${e.leftOffset}px)`,top:`${e.topOffset}px`,animationDuration:`${e.duration}ms`})},(0,n.toDisplayString)(e.text),7))),128))]),(0,n.createCommentVNode)(' Armor Shield '),(0,n.unref)(R)>0||(0,n.unref)(L)>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Wt,[(0,n.unref)(R)>0?((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:0,type:'button',class:'status-effect-value-btn flex items-center gap-1','aria-label':`护甲: ${(0,n.unref)(R)}. ${C((0,n.unref)(M).ARMOR)}`,onMouseenter:t[6]||(t[6]=e=>tn(e,V((0,n.unref)(M).ARMOR,(0,n.unref)(R)))),onMouseleave:an,onFocus:t[7]||(t[7]=e=>tn(e,V((0,n.unref)(M).ARMOR,(0,n.unref)(R)))),onBlur:an,onTouchstartPassive:t[8]||(t[8]=e=>on(e,V((0,n.unref)(M).ARMOR,(0,n.unref)(R)))),onTouchend:nn,onTouchcancel:nn},[t[34]||(t[34]=(0,n.createElementVNode)('span',{class:'text-[10px] text-yellow-400'},'🛡️',-1)),(0,n.createElementVNode)('span',Zt,(0,n.toDisplayString)((0,n.unref)(R)),1)],40,qt)):(0,n.createCommentVNode)('v-if',!0),(0,n.unref)(L)>0?((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:1,type:'button',class:'status-effect-value-btn flex items-center gap-1','aria-label':`中毒量: ${(0,n.unref)(L)}. ${C((0,n.unref)(M).POISON_AMOUNT)}`,onMouseenter:t[9]||(t[9]=e=>tn(e,V((0,n.unref)(M).POISON_AMOUNT,(0,n.unref)(L)))),onMouseleave:an,onFocus:t[10]||(t[10]=e=>tn(e,V((0,n.unref)(M).POISON_AMOUNT,(0,n.unref)(L)))),onBlur:an,onTouchstartPassive:t[11]||(t[11]=e=>on(e,V((0,n.unref)(M).POISON_AMOUNT,(0,n.unref)(L)))),onTouchend:nn,onTouchcancel:nn},[t[35]||(t[35]=(0,n.createElementVNode)('span',{class:'text-[10px] text-green-400'},'☠',-1)),(0,n.createElementVNode)('span',Jt,(0,n.toDisplayString)((0,n.unref)(L)),1)],40,Kt)):(0,n.createCommentVNode)('v-if',!0)])):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' HP Bar '),(0,n.createElementVNode)('div',Xt,[t[36]||(t[36]=(0,n.createElementVNode)('span',{class:'text-[10px] text-[#ff6666] font-bold w-6'},'HP',-1)),(0,n.createElementVNode)('div',Qt,[(0,n.createElementVNode)('div',{class:'absolute inset-y-0 left-0 z-10 bg-gradient-to-r from-[#cc2200] to-[#ee3311] rounded-full transition-all duration-500',style:(0,n.normalizeStyle)(Bo({width:((0,n.unref)(N).maxHp>0?(0,n.unref)(N).hp/(0,n.unref)(N).maxHp*100:0)+'%'},500))},null,4),(0,n.createElementVNode)('div',{class:'absolute inset-y-0 left-0 z-20 bg-green-600/75 rounded-full transition-all duration-500 poison-wave-bar',style:(0,n.normalizeStyle)(Bo({width:`${(0,n.unref)(P)}%`},500))},null,4)]),(0,n.createElementVNode)('span',ea,(0,n.toDisplayString)((0,n.unref)(N).hp)+'/'+(0,n.toDisplayString)((0,n.unref)(N).maxHp),1)]),(0,n.createCommentVNode)(' MP Bar '),(0,n.createElementVNode)('div',ta,[t[37]||(t[37]=(0,n.createElementVNode)('span',{class:'text-[10px] text-[#55aaff] font-bold w-6'},'MP',-1)),(0,n.createElementVNode)('div',aa,[(0,n.createElementVNode)('div',{class:'h-full bg-gradient-to-r from-[#0066cc] to-[#0088ee] rounded-full transition-all duration-500',style:(0,n.normalizeStyle)(Bo({width:`${Math.min((0,n.unref)(N).mp/20*100,100)}%`},500))},null,4)]),(0,n.createElementVNode)('span',oa,(0,n.toDisplayString)((0,n.unref)(N).mp),1)]),(0,n.createCommentVNode)(' Dice Range '),(0,n.createElementVNode)('div',na,[t[38]||(t[38]=(0,n.createElementVNode)('span',{class:'text-[10px] text-gray-400 font-bold w-6'},'🎲',-1)),(0,n.createElementVNode)('span',ra,(0,n.toDisplayString)((0,n.unref)(N).minDice)+' ~ '+(0,n.toDisplayString)((0,n.unref)(N).maxDice),1)]),(0,n.createCommentVNode)(' Buffs/Debuffs '),(0,n.unref)(G).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',la,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(G),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:`enemy-${e.type}-${t}`,type:'button',class:(0,n.normalizeClass)(['effect-icon-btn',A(e.polarity)]),'aria-label':`${E(e.type)}: ${C(e.type)}`,onMouseenter:t=>tn(t,e),onMouseleave:an,onFocus:t=>tn(t,e),onBlur:an,onTouchstartPassive:t=>on(t,e),onTouchend:nn,onTouchcancel:nn},[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(D(e.type)),{class:'size-3.5'})),e.stacks>1?((0,n.openBlock)(),(0,n.createElementBlock)('span',ca,(0,n.toDisplayString)(e.stacks),1)):(0,n.createCommentVNode)('v-if',!0)],42,sa))),128))])):(0,n.createCommentVNode)('v-if',!0)])]),(0,n.createCommentVNode)(' Player Position: Bottom Left '),(0,n.createElementVNode)('div',ia,[(0,n.createCommentVNode)(' Player Dice '),(0,n.unref)(Z)?(0,n.createCommentVNode)('v-if',!0):((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:(0,n.normalizeClass)(['absolute -top-[1rem] left-[140%] -translate-x-1/2 z-20 animate-float pointer-events-auto',(0,n.unref)(ye)?'cursor-pointer':'cursor-default']),title:(0,n.unref)(xe),style:{'animation-delay':'1s'},onClick:Yo},[(0,n.createVNode)(Et,{value:(0,n.unref)(pe),rolling:(0,n.unref)(q),'rolling-min':(0,n.unref)(k).minDice,'rolling-max':(0,n.unref)(k).maxDice,'number-class':(0,n.unref)(ke)?'text-red-800':'',color:'gold',size:'md'},null,8,['value','rolling','rolling-min','rolling-max','number-class']),(0,n.unref)(ke)?((0,n.openBlock)(),(0,n.createElementBlock)('div',ua,[(0,n.createElementVNode)('span',ma,'原始 '+(0,n.toDisplayString)((0,n.unref)(W).playerBaseDice),1),t[39]||(t[39]=(0,n.createElementVNode)('span',{class:'mx-1 text-white/45'},'→',-1)),(0,n.createElementVNode)('span',pa,'最终 '+(0,n.toDisplayString)((0,n.unref)(pe)),1)])):(0,n.createCommentVNode)('v-if',!0),(0,n.unref)(vt)>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:1,class:(0,n.normalizeClass)(['absolute left-1/2 top-[5.9rem] -translate-x-1/2 rounded-md border border-amber-300/35 bg-black/60 px-2 py-1 text-[10px] whitespace-nowrap',(0,n.unref)(ye)?'text-amber-200':'text-amber-200/70'])},' 重掷次数：'+(0,n.toDisplayString)((0,n.unref)(vt)),3)):(0,n.createCommentVNode)('v-if',!0)],10,da)),(0,n.createCommentVNode)(' Player Portrait '),(0,n.createElementVNode)('div',fa,[(0,n.createElementVNode)('div',ga,[(0,n.createCommentVNode)(' Placeholder glow (shown when portrait fails to load) '),(0,n.unref)(c)?((0,n.openBlock)(),(0,n.createElementBlock)('div',ya)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(' Player portrait image '),(0,n.createElementVNode)('img',{src:'https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/user/%E7%AB%8B%E7%BB%98.png',class:'w-full h-full object-contain object-bottom',alt:'player portrait',onError:t[12]||(t[12]=e=>c.value=!0)},null,32)],2112))])]),(0,n.createCommentVNode)(' Player Status Bar '),(0,n.createElementVNode)('div',ba,[t[45]||(t[45]=(0,n.createElementVNode)('div',{class:'flex justify-between text-xs text-white/80 font-bold mb-1.5'},[(0,n.createElementVNode)('span',null,'冒险者')],-1)),(0,n.createElementVNode)('div',va,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(To('player'),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:e.id,class:(0,n.normalizeClass)(['combat-float-number absolute text-xl font-extrabold tracking-wide',e.colorClass]),style:(0,n.normalizeStyle)({left:`calc(50% + ${e.leftOffset}px)`,top:`${e.topOffset}px`,animationDuration:`${e.duration}ms`})},(0,n.toDisplayString)(e.text),7))),128))]),(0,n.createCommentVNode)(' Armor Shield '),(0,n.unref)(T)>0||(0,n.unref)(I)>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',ha,[(0,n.unref)(T)>0?((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:0,type:'button',class:'status-effect-value-btn flex items-center gap-1','aria-label':`护甲: ${(0,n.unref)(T)}. ${C((0,n.unref)(M).ARMOR)}`,onMouseenter:t[13]||(t[13]=e=>tn(e,V((0,n.unref)(M).ARMOR,(0,n.unref)(T)),'right')),onMouseleave:an,onFocus:t[14]||(t[14]=e=>tn(e,V((0,n.unref)(M).ARMOR,(0,n.unref)(T)),'right')),onBlur:an,onTouchstartPassive:t[15]||(t[15]=e=>on(e,V((0,n.unref)(M).ARMOR,(0,n.unref)(T)),'right')),onTouchend:nn,onTouchcancel:nn},[t[40]||(t[40]=(0,n.createElementVNode)('span',{class:'text-[10px] text-yellow-400'},'🛡️',-1)),(0,n.createElementVNode)('span',ka,(0,n.toDisplayString)((0,n.unref)(T)),1)],40,xa)):(0,n.createCommentVNode)('v-if',!0),(0,n.unref)(I)>0?((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:1,type:'button',class:'status-effect-value-btn flex items-center gap-1','aria-label':`中毒量: ${(0,n.unref)(I)}. ${C((0,n.unref)(M).POISON_AMOUNT)}`,onMouseenter:t[16]||(t[16]=e=>tn(e,V((0,n.unref)(M).POISON_AMOUNT,(0,n.unref)(I)),'right')),onMouseleave:an,onFocus:t[17]||(t[17]=e=>tn(e,V((0,n.unref)(M).POISON_AMOUNT,(0,n.unref)(I)),'right')),onBlur:an,onTouchstartPassive:t[18]||(t[18]=e=>on(e,V((0,n.unref)(M).POISON_AMOUNT,(0,n.unref)(I)),'right')),onTouchend:nn,onTouchcancel:nn},[t[41]||(t[41]=(0,n.createElementVNode)('span',{class:'text-[10px] text-green-400'},'☠',-1)),(0,n.createElementVNode)('span',Ea,(0,n.toDisplayString)((0,n.unref)(I)),1)],40,Na)):(0,n.createCommentVNode)('v-if',!0)])):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' HP Bar '),(0,n.createElementVNode)('div',Ca,[t[42]||(t[42]=(0,n.createElementVNode)('span',{class:'text-[10px] text-[#ff6666] font-bold w-6'},'HP',-1)),(0,n.createElementVNode)('div',Va,[(0,n.createElementVNode)('div',{class:'absolute inset-y-0 left-0 z-10 bg-gradient-to-r from-[#cc2200] to-[#ee3311] rounded-full transition-all duration-500',style:(0,n.normalizeStyle)(Bo({width:((0,n.unref)(k).maxHp>0?(0,n.unref)(k).hp/(0,n.unref)(k).maxHp*100:0)+'%'},500))},null,4),(0,n.createElementVNode)('div',{class:'absolute inset-y-0 left-0 z-20 bg-green-600/75 rounded-full transition-all duration-500 poison-wave-bar',style:(0,n.normalizeStyle)(Bo({width:`${(0,n.unref)(O)}%`},500))},null,4)]),(0,n.createElementVNode)('span',wa,(0,n.toDisplayString)((0,n.unref)(k).hp)+'/'+(0,n.toDisplayString)((0,n.unref)(k).maxHp),1)]),(0,n.createCommentVNode)(' MP Bar '),(0,n.createElementVNode)('div',Ma,[t[43]||(t[43]=(0,n.createElementVNode)('span',{class:'text-[10px] text-[#55aaff] font-bold w-6'},'MP',-1)),(0,n.createElementVNode)('div',Ba,[(0,n.createElementVNode)('div',{class:'h-full bg-gradient-to-r from-[#0066cc] to-[#0088ee] rounded-full transition-all duration-500',style:(0,n.normalizeStyle)(Bo({width:`${Math.min((0,n.unref)(k).mp/20*100,100)}%`},500))},null,4)]),(0,n.createElementVNode)('span',Sa,(0,n.toDisplayString)((0,n.unref)(k).mp),1)]),(0,n.createCommentVNode)(' Dice Range '),(0,n.createElementVNode)('div',Da,[t[44]||(t[44]=(0,n.createElementVNode)('span',{class:'text-[10px] text-gray-400 font-bold w-6'},'🎲',-1)),(0,n.createElementVNode)('span',_a,(0,n.toDisplayString)((0,n.unref)(k).minDice)+' ~ '+(0,n.toDisplayString)((0,n.unref)(k).maxDice),1)]),(0,n.createCommentVNode)(' Buffs/Debuffs '),(0,n.unref)(U).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Aa,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(U),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:`player-${e.type}-${t}`,type:'button',class:(0,n.normalizeClass)(['effect-icon-btn',A(e.polarity)]),'aria-label':`${E(e.type)}: ${C(e.type)}`,onMouseenter:t=>tn(t,e,'right'),onMouseleave:an,onFocus:t=>tn(t,e,'right'),onBlur:an,onTouchstartPassive:t=>on(t,e,'right'),onTouchend:nn,onTouchcancel:nn},[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(D(e.type)),{class:'size-3.5'})),e.stacks>1?((0,n.openBlock)(),(0,n.createElementBlock)('span',Ra,(0,n.toDisplayString)(e.stacks),1)):(0,n.createCommentVNode)('v-if',!0)],42,Ta))),128))])):(0,n.createCommentVNode)('v-if',!0)])])]),(0,n.createCommentVNode)(' Card Animation Layer '),(0,n.createElementVNode)('div',Ia,[(0,n.unref)(Ee)?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:'absolute player-played-card',style:(0,n.normalizeStyle)((0,n.unref)(So))},[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)((0,n.unref)(Ee).entered?'player-played-card-bob':'')},[(0,n.createVNode)(ht,{card:(0,n.unref)(Ee).card,disabled:''},null,8,['card'])],2)],4)):(0,n.createCommentVNode)('v-if',!0),(0,n.unref)(Ce)?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:1,class:(0,n.normalizeClass)(['resolved-card-visual','player'===(0,n.unref)(Ce).source?'resolved-card-visual--player':'resolved-card-visual--enemy'])},[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['resolved-card-visual-inner',(0,n.unref)(Do)])},[(0,n.createVNode)(ht,{card:(0,n.unref)(Ce).card,disabled:''},null,8,['card'])],2)],2)):(0,n.createCommentVNode)('v-if',!0)]),(0,n.createCommentVNode)(' UI Layer (HUD) '),(0,n.createElementVNode)('div',La,[(0,n.createCommentVNode)(' Center: Clash Zone '),(0,n.createElementVNode)('div',$a,[(0,n.createCommentVNode)(' Clash Animation Stage '),(0,n.unref)(Z)?((0,n.openBlock)(),(0,n.createElementBlock)('div',Oa,[(0,n.createCommentVNode)(' Player Dice Flying In '),(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['absolute right-1/2 mr-[-0.5rem] transition-all duration-300','player'===(0,n.unref)(K)||'both'===(0,n.unref)(K)?'animate-shatter':'animate-clash-left']),style:(0,n.normalizeStyle)(Mo(300))},[(0,n.createVNode)(Et,{value:(0,n.unref)(pe),rolling:!1,'rolling-min':(0,n.unref)(k).minDice,'rolling-max':(0,n.unref)(k).maxDice,color:'gold',size:'lg'},null,8,['value','rolling-min','rolling-max'])],6),(0,n.createCommentVNode)(' Enemy Dice Flying In '),(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['absolute left-1/2 ml-[-0.5rem] transition-all duration-300','enemy'===(0,n.unref)(K)||'both'===(0,n.unref)(K)?'animate-shatter':'animate-clash-right']),style:(0,n.normalizeStyle)(Mo(300))},[(0,n.createVNode)(Et,{value:(0,n.unref)(ge),rolling:!1,'rolling-min':(0,n.unref)(N).minDice,'rolling-max':(0,n.unref)(N).maxDice,color:'red',size:'lg'},null,8,['value','rolling-min','rolling-max'])],6)])):(0,n.createCommentVNode)('v-if',!0)]),(0,n.createCommentVNode)(' Bottom Bar: Hand & Piles '),(0,n.createElementVNode)('div',za,[(0,n.createCommentVNode)(' Center: Hand Cards '),(0,n.createElementVNode)('div',Pa,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(W).playerHand,(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:Ro(e),class:(0,n.normalizeClass)(['transition-all duration-500 origin-bottom',[cn(e),Io(e)?'invalid-card-shake':'']]),style:(0,n.normalizeStyle)(Mo(500)),onMouseenter:t=>(e=>{W.value.phase===S.PLAYER_INPUT&&(ue.value=Go('player',e,W.value.playerBaseDice))})(e),onMouseleave:Ho,onTouchstartPassive:t=>(e=>{W.value.phase===S.PLAYER_INPUT&&(Ve&&clearTimeout(Ve),Ve=setTimeout(()=>{ue.value=Go('player',e,W.value.playerBaseDice)},260))})(e),onTouchend:Fo,onTouchcancel:Fo},[(0,n.createVNode)(ht,{card:e,disabled:(0,n.unref)(W).phase!==(0,n.unref)(S).PLAYER_INPUT&&(0,n.unref)(W).playerSelectedCard!==e,onClick:a=>dn(e,t)},null,8,['card','disabled','onClick'])],46,Ua))),128))]),(0,n.createCommentVNode)(' Right Corner: Skip + Deck/Discard '),(0,n.createElementVNode)('div',Ga,[(0,n.createElementVNode)('button',{class:'h-8 px-5 bg-[#252030]/90 border border-white/15 rounded-lg text-xs text-white/80 hover:border-amber-400 hover:text-amber-200 active:scale-95 transition-all disabled:opacity-40 disabled:cursor-not-allowed',disabled:(0,n.unref)(W).phase!==(0,n.unref)(S).PLAYER_INPUT,onClick:un},' 跳过回合 ',8,Ha),(0,n.createElementVNode)('div',Fa,[(0,n.createElementVNode)('div',ja,[(0,n.createElementVNode)('button',{class:'w-14 h-14 bg-[#252030]/90 border border-white/10 rounded-xl flex flex-col items-center justify-center hover:border-dungeon-gold active:scale-95 transition-all shadow-lg',onClick:t[19]||(t[19]=e=>Q.value='deck')},[(0,n.createVNode)((0,n.unref)(je),{class:'size-5 text-dungeon-gold'}),(0,n.createElementVNode)('span',Ya,(0,n.toDisplayString)((0,n.unref)(W).playerDeck.length),1)]),t[46]||(t[46]=(0,n.createElementVNode)('div',{class:'absolute -top-8 left-1/2 -translate-x-1/2 bg-black px-2 py-1 rounded text-[10px] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none'},' 牌库 ',-1))]),(0,n.createElementVNode)('div',Wa,[(0,n.createElementVNode)('button',{class:'w-14 h-14 bg-[#252030]/90 border border-white/10 rounded-xl flex flex-col items-center justify-center hover:border-gray-400 active:scale-95 transition-all shadow-lg',onClick:t[20]||(t[20]=e=>Q.value='discard')},[(0,n.createVNode)((0,n.unref)(Ye),{class:'size-5 text-gray-400'}),(0,n.createElementVNode)('span',qa,(0,n.toDisplayString)((0,n.unref)(W).discardPile.length),1)]),t[47]||(t[47]=(0,n.createElementVNode)('div',{class:'absolute -top-8 left-1/2 -translate-x-1/2 bg-black px-2 py-1 rounded text-[10px] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none'},' 弃牌堆 ',-1))])])])]),(0,n.createCommentVNode)(' Log Feed Overlay: top-right, below parent "退出战斗" button '),(0,n.createElementVNode)('div',Za,[(0,n.createElementVNode)('div',Ka,[(0,n.createElementVNode)('button',{class:'h-7 px-2 rounded-l-lg border border-r-0 border-white/10 bg-[#18141e]/90 text-[10px] text-white/50 hover:text-white/80 transition-colors',title:(0,n.unref)(ae)?'展开日志':'折叠日志',onClick:t[21]||(t[21]=e=>ae.value=!(0,n.unref)(ae))},(0,n.toDisplayString)((0,n.unref)(ae)?'日志 ▼':'日志 ▲'),9,Ja),(0,n.unref)(ae)?(0,n.createCommentVNode)('v-if',!0):((0,n.openBlock)(),(0,n.createElementBlock)('div',Xa,[(0,n.createCommentVNode)(' eslint-disable-next-line vue/no-v-html '),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(W).logs,(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'bg-black/60 p-1 rounded border-l-2 border-gray-700',innerHTML:e},null,8,Qa))),128))]))])])]),(0,n.unref)(oe)?((0,n.openBlock)(),(0,n.createElementBlock)('div',eo,[(0,n.createElementVNode)('div',{class:(0,n.normalizeClass)(['px-12 py-5 rounded-2xl border-2 text-5xl md:text-6xl font-heading tracking-[0.2em] drop-shadow-[0_0_30px_rgba(0,0,0,0.9)] animate-pulse backdrop-blur-md','win'===(0,n.unref)(oe)?'bg-emerald-950/70 border-emerald-400/60 text-emerald-300':'bg-red-950/70 border-red-500/60 text-red-300'])},(0,n.toDisplayString)('win'===(0,n.unref)(oe)?'胜利':'败北'),3)])):(0,n.createCommentVNode)('v-if',!0),(0,n.unref)(se)?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:1,class:(0,n.normalizeClass)(['effect-tooltip absolute z-[72] pointer-events-none','right'===(0,n.unref)(se).align?'effect-tooltip--right text-right':'effect-tooltip--center']),style:(0,n.normalizeStyle)({left:`${(0,n.unref)(se).x}px`,top:`${(0,n.unref)(se).y}px`})},[(0,n.createElementVNode)('div',to,(0,n.toDisplayString)((0,n.unref)(se).name),1),(0,n.createElementVNode)('div',ao,(0,n.toDisplayString)((0,n.unref)(se).description),1),(0,n.unref)(se).stacks>1?((0,n.openBlock)(),(0,n.createElementBlock)('div',oo,'层数: '+(0,n.toDisplayString)((0,n.unref)(se).stacks),1)):(0,n.createCommentVNode)('v-if',!0)],6)):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' Deck/Discard Overlay '),(0,n.unref)(Q)?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:2,class:'absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-8',onClick:t[24]||(t[24]=e=>Q.value=null)},[(0,n.createElementVNode)('div',{class:'bg-[#18141e] border border-white/10 p-6 rounded-2xl max-w-2xl w-full max-h-[80%] flex flex-col relative shadow-2xl',onClick:t[23]||(t[23]=(0,n.withModifiers)(()=>{},['stop']))},[(0,n.createElementVNode)('div',no,[(0,n.createElementVNode)('h3',ro,(0,n.toDisplayString)('deck'===(0,n.unref)(Q)?'当前牌库':'弃牌堆'),1),(0,n.createElementVNode)('button',{onClick:t[22]||(t[22]=e=>Q.value=null)},[(0,n.createVNode)((0,n.unref)(We),{class:'size-6 hover:text-red-500'})])]),(0,n.createElementVNode)('div',lo,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)('deck'===(0,n.unref)(Q)?(0,n.unref)(W).playerDeck:(0,n.unref)(W).discardPile,(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'scale-75 origin-top-left'},[(0,n.createVNode)(ht,{card:e,disabled:''},null,8,['card'])]))),128))])])])):(0,n.createCommentVNode)('v-if',!0)],6))}});var io=function e(t){var n=o[t];if(void 0!==n)return n.exports;var r=o[t]={exports:{}};return a[t](r,r.exports,e),r.exports}(667);const uo=(0,io.A)(co,[['__scopeId','data-v-48ecbcdc']]),mo={class:'relative w-full max-w-3xl p-1 bg-dungeon-brown rounded-lg shadow-2xl border border-dungeon-gold/40 mx-4 flex flex-col max-h-[90%]'},po={class:'flex items-center justify-between px-6 py-4 border-b border-dungeon-gold/20 bg-[#1a0f08] rounded-t-lg shrink-0'},fo={class:'text-xl font-heading text-dungeon-gold tracking-widest'},go={class:'p-8 flex-1 overflow-y-auto custom-scrollbar text-dungeon-paper/60 bg-dungeon-brown'},yo=(0,n.defineComponent)({__name:'DungeonModal',props:{title:{},isOpen:{type:Boolean}},emits:['close'],setup:e=>(t,a)=>((0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:'body'},[e.isOpen?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:'fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm',onClick:a[1]||(a[1]=(0,n.withModifiers)(e=>t.$emit('close'),['self']))},[(0,n.createElementVNode)('div',mo,[(0,n.createCommentVNode)(' Header '),(0,n.createElementVNode)('div',po,[(0,n.createElementVNode)('h2',fo,(0,n.toDisplayString)(e.title),1),(0,n.createElementVNode)('button',{class:'text-dungeon-gold-dim hover:text-dungeon-gold transition-colors',onClick:a[0]||(a[0]=e=>t.$emit('close'))},[(0,n.createVNode)((0,n.unref)(We),{class:'size-6'})])]),(0,n.createCommentVNode)(' Body '),(0,n.createElementVNode)('div',go,[(0,n.renderSlot)(t.$slots,'default',{},()=>[a[2]||(a[2]=(0,n.createElementVNode)('div',{class:'text-center py-12'},[(0,n.createElementVNode)('div',{class:'mb-4 text-4xl opacity-20 animate-pulse'},'❖'),(0,n.createElementVNode)('p',{class:'font-ui text-sm uppercase tracking-widest'},'模块已加载 // 等待数据同步')],-1))])]),(0,n.createCommentVNode)(' Ornamental Corners '),a[3]||(a[3]=(0,n.createElementVNode)('div',{class:'absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-dungeon-gold -mt-1 -ml-1 pointer-events-none'},null,-1)),a[4]||(a[4]=(0,n.createElementVNode)('div',{class:'absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-dungeon-gold -mt-1 -mr-1 pointer-events-none'},null,-1)),a[5]||(a[5]=(0,n.createElementVNode)('div',{class:'absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-dungeon-gold -mb-1 -ml-1 pointer-events-none'},null,-1)),a[6]||(a[6]=(0,n.createElementVNode)('div',{class:'absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-dungeon-gold -mb-1 -mr-1 pointer-events-none'},null,-1))])])):(0,n.createCommentVNode)('v-if',!0)]))}),bo=m('rotate-ccw',[['path',{d:'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8',key:'1357e3'}],['path',{d:'M3 3v5h5',key:'1xhq8a'}]]),vo=m('refresh-cw',[['path',{d:'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8',key:'v9h5vc'}],['path',{d:'M21 3v5h-5',key:'1q7to0'}],['path',{d:'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16',key:'3uifl3'}],['path',{d:'M8 16H3v5',key:'1cv678'}]]),ho=m('pencil',[['path',{d:'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',key:'1a8usu'}],['path',{d:'m15 5 4 4',key:'1mk7zo'}]]),xo={key:0,class:'text-center py-8'},ko={key:1,class:'flex flex-col gap-2 max-h-[60vh] overflow-y-auto custom-scrollbar pr-2'},No=['onClick'],Eo={class:'flex items-start gap-3'},Co={class:'shrink-0 w-10 h-10 rounded bg-[#1a0f08] border border-dungeon-gold/20 flex items-center justify-center shadow-inner group-hover:border-dungeon-gold/50 transition-colors'},Vo={class:'text-dungeon-gold font-heading text-sm'},wo={class:'text-sm text-dungeon-paper/80 font-ui leading-relaxed flex-1 group-hover:text-dungeon-paper transition-colors'},Mo={class:'mt-4 pt-4 border-t border-dungeon-gold/15'},Bo={class:'flex gap-3'},So=['disabled'],Do=['disabled'],_o={key:2,class:'fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm'},Ao={class:'glass-panel rounded-xl p-6 max-w-sm mx-4 border border-dungeon-gold/30'},To={class:'text-dungeon-paper/70 font-ui text-sm mb-6'},Ro={class:'text-dungeon-gold font-bold'},Io={class:'flex gap-3 justify-end'},Lo=(0,n.defineComponent)({__name:'SaveLoadPanel',props:{isOpen:{type:Boolean},entries:{}},emits:['close'],setup(e,{emit:t}){const a=t,o=Me(),r=(0,n.ref)(null);async function l(){null!==r.value&&(await o.rollbackTo(r.value),r.value=null)}function s(){o.isGenerating||(a('close'),o.rerollCurrent())}function c(){o.isGenerating||(a('close'),o.startEdit())}return(t,a)=>((0,n.openBlock)(),(0,n.createBlock)(yo,{title:'回档记录','is-open':e.isOpen,onClose:a[1]||(a[1]=e=>t.$emit('close'))},{default:(0,n.withCtx)(()=>[0===e.entries.length?((0,n.openBlock)(),(0,n.createElementBlock)('div',xo,[(0,n.createVNode)((0,n.unref)(h),{class:'size-12 mx-auto text-dungeon-gold/30 mb-4'}),a[2]||(a[2]=(0,n.createElementVNode)('p',{class:'text-gray-500 font-ui'},'暂无存档记录',-1))])):((0,n.openBlock)(),(0,n.createElementBlock)('div',ko,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.entries,e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:e.messageId,class:'group w-full text-left p-4 rounded-lg border transition-all duration-300 bg-dungeon-dark/60 border-dungeon-brown/50 hover:bg-dungeon-brown/30 hover:border-dungeon-gold/40 hover:shadow-[0_0_15px_rgba(212,175,55,0.1)]',onClick:t=>{return a=e.messageId,void(r.value=a);var a}},[(0,n.createElementVNode)('div',Eo,[(0,n.createCommentVNode)(' Floor Number Badge '),(0,n.createElementVNode)('div',Co,[(0,n.createElementVNode)('span',Vo,'#'+(0,n.toDisplayString)(e.messageId),1)]),(0,n.createCommentVNode)(' Summary Text '),(0,n.createElementVNode)('p',wo,(0,n.toDisplayString)(e.summary),1),(0,n.createCommentVNode)(' Arrow Icon '),(0,n.createVNode)((0,n.unref)(bo),{class:'size-4 text-dungeon-gold/30 group-hover:text-dungeon-gold shrink-0 mt-1 transition-colors'})])],8,No))),128))])),(0,n.createCommentVNode)(' Bottom Action Buttons: Reroll & Edit '),(0,n.createElementVNode)('div',Mo,[(0,n.createElementVNode)('div',Bo,[(0,n.createElementVNode)('button',{class:'flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg border transition-all duration-300 bg-dungeon-dark/60 border-dungeon-brown/50 text-dungeon-paper/70 hover:bg-dungeon-brown/30 hover:border-dungeon-gold/40 hover:text-dungeon-gold disabled:opacity-30 disabled:cursor-not-allowed',disabled:(0,n.unref)(o).isGenerating,onClick:s},[(0,n.createVNode)((0,n.unref)(vo),{class:'size-4'}),a[3]||(a[3]=(0,n.createElementVNode)('span',{class:'font-ui text-sm tracking-wide'},'重Roll',-1))],8,So),(0,n.createElementVNode)('button',{class:(0,n.normalizeClass)(['flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg border transition-all duration-300 bg-dungeon-dark/60 border-dungeon-brown/50 text-dungeon-paper/70 hover:bg-dungeon-brown/30 hover:border-dungeon-gold/40 hover:text-dungeon-gold disabled:opacity-30 disabled:cursor-not-allowed',(0,n.unref)(o).isEditing?'border-dungeon-gold/50 text-dungeon-gold bg-dungeon-brown/20':'']),disabled:(0,n.unref)(o).isGenerating,onClick:c},[(0,n.createVNode)((0,n.unref)(ho),{class:'size-4'}),a[4]||(a[4]=(0,n.createElementVNode)('span',{class:'font-ui text-sm tracking-wide'},'编辑',-1))],10,Do)])]),(0,n.createCommentVNode)(' Confirm Dialog '),null!==(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('div',_o,[(0,n.createElementVNode)('div',Ao,[a[9]||(a[9]=(0,n.createElementVNode)('h3',{class:'font-heading text-dungeon-gold text-lg mb-3'},'确认回档',-1)),(0,n.createElementVNode)('p',To,[a[5]||(a[5]=(0,n.createTextVNode)(' 回到第 ',-1)),(0,n.createElementVNode)('span',Ro,(0,n.toDisplayString)((0,n.unref)(r)),1),a[6]||(a[6]=(0,n.createTextVNode)(' 楼？ ',-1)),a[7]||(a[7]=(0,n.createElementVNode)('br',null,null,-1)),a[8]||(a[8]=(0,n.createElementVNode)('span',{class:'text-red-400/80 text-xs'},'此操作将删除之后的所有进度。',-1))]),(0,n.createElementVNode)('div',Io,[(0,n.createElementVNode)('button',{class:'px-4 py-2 text-sm font-ui text-gray-400 border border-gray-700 rounded hover:bg-gray-800 transition-colors',onClick:a[0]||(a[0]=e=>r.value=null)},' 取消 '),(0,n.createElementVNode)('button',{class:'px-4 py-2 text-sm font-ui text-dungeon-gold border border-dungeon-gold/40 rounded hover:bg-dungeon-gold/10 transition-colors',onClick:l},' 确认回档 ')])])])):(0,n.createCommentVNode)('v-if',!0)]),_:1},8,['is-open']))}}),$o={class:'w-full h-screen bg-[#050505] font-body text-dungeon-paper overflow-hidden relative'},Oo={class:'absolute inset-0 z-0'},zo=['src'],Po={class:'absolute top-6 left-6 z-50 flex flex-col space-y-4'},Uo={class:'absolute top-4 right-4 z-50 flex items-center gap-2'},Go={class:'absolute top-14 right-4 z-50 flex flex-col space-y-4'},Ho={class:'h-full w-full flex flex-col items-center'},Fo={class:'flex-1 bg-dungeon-dark/80 border border-dungeon-brown rounded-t-lg shadow-2xl backdrop-blur-sm p-6 md:p-10 overflow-y-auto min-h-0 custom-scrollbar relative'},jo={key:0,class:'flex items-center gap-3 mb-4'},Yo={key:1,class:'flex flex-col h-full'},Wo={class:'flex justify-end gap-3 mt-4'},qo={key:0,class:'whitespace-pre-wrap text-dungeon-paper/60'},Zo={class:'whitespace-pre-wrap'},Ko={key:0,class:'mt-8 flex flex-col space-y-3'},Jo=['onClick'],Xo={class:'text-xl mr-2'},Qo={key:1,class:'mt-4'},en={class:'flex justify-center gap-4'},tn=['onClick'],an={class:'text-2xl mb-1 relative z-10 drop-shadow-lg'},on={key:1,class:'mt-6 p-4 bg-red-950/30 border border-red-900/50 rounded text-red-300 font-ui text-sm'},nn={class:'bg-[#0f0f0f] border-x border-b border-dungeon-brown rounded-b-lg p-4 shrink-0'},rn={class:'relative w-full'},ln=['disabled','placeholder'],sn=['disabled'],cn={class:'absolute bottom-6 left-6 z-50 flex flex-col gap-2 select-none'},dn=['title'],un={key:0,class:'relative p-4 bg-dungeon-dark/90 border border-dungeon-gold/30 rounded-xl backdrop-blur-md shadow-[0_0_30px_rgba(0,0,0,0.8)]'},mn={class:'flex items-end gap-4 mb-3'},pn={class:'flex flex-col items-center gap-1'},fn=['title'],gn={viewBox:'0 0 64 64',class:'w-14 h-14'},yn={'clip-path':'url(#heartClip)'},bn=['y','height'],vn={class:'text-[10px] font-ui text-dungeon-paper/80 tracking-wide'},hn={class:'text-[#cc3333] font-bold'},xn={class:'text-gray-600'},kn={class:'flex flex-col items-center gap-1'},Nn=['title'],En={viewBox:'0 0 64 64',class:'w-14 h-14'},Cn={'clip-path':'url(#manaClip)'},Vn=['y','height'],wn={class:'text-[10px] font-ui text-dungeon-paper/80 tracking-wide'},Mn={class:'text-blue-400 font-bold'},Bn={class:'flex items-center justify-between px-1 mb-2'},Sn={class:'flex items-center gap-2 text-dungeon-paper/70'},Dn={class:'font-ui text-sm tracking-wide'},_n={class:'text-dungeon-paper font-bold'},An={class:'text-dungeon-paper font-bold'},Tn={class:'flex items-center justify-between px-1'},Rn={class:'flex items-center gap-2 text-dungeon-gold'},In={class:'font-heading text-lg tracking-wider text-transparent bg-clip-text bg-gradient-to-b from-[#f9e6a0] to-dungeon-gold-dim drop-shadow-sm'},Ln={key:0,class:'grid grid-cols-3 gap-8 overflow-y-auto max-h-[60%] p-4'},$n={key:1,class:'flex flex-col items-center justify-center py-12 gap-4'},On={class:'w-full max-w-xl mx-auto flex flex-col gap-4'},zn={key:0,class:'grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[58vh] overflow-y-auto custom-scrollbar pr-1'},Pn=['disabled','onClick'],Un={class:'flex items-center justify-between gap-2'},Gn={class:'font-heading text-sm tracking-wide truncate'},Hn={class:'mt-2 text-[11px] text-dungeon-paper/70'},Fn={key:1,class:'rounded border border-dungeon-brown/60 bg-dungeon-dark/40 py-8 text-center text-sm text-dungeon-paper/50'},jn={key:0,class:'grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-x-6 gap-y-6 p-4 overflow-y-auto max-h-[60%]'},Yn=['onMouseenter','onFocus','onTouchstartPassive'],Wn={class:'relative'},qn={class:'absolute -bottom-1 -right-3 font-ui text-dungeon-gold/80 text-[10px] bg-dungeon-dark/70 border border-dungeon-brown/30 rounded px-0.5 leading-tight'},Zn={class:'font-heading text-dungeon-gold text-[11px] text-center mt-1 leading-relaxed truncate w-full'},Kn={key:1,class:'flex flex-col items-center justify-center py-12 gap-4'},Jn={class:'relic-tooltip-name'},Xn={class:'relic-tooltip-meta'},Qn={class:'relic-tooltip-effect'},er={class:'relic-tooltip-desc'},tr={class:'flex flex-col space-y-6 w-full max-w-lg mx-auto'},ar={class:'space-y-4'},or={class:'flex items-center justify-between'},nr={class:'flex items-center gap-2'},rr={class:'text-dungeon-paper font-ui text-sm w-10 text-center'},lr={class:'flex items-center justify-between'},sr={class:'flex items-center gap-2'},cr={class:'text-dungeon-paper font-ui text-sm w-10 text-center'},ir={class:'flex items-center justify-between'},dr={class:'flex items-center justify-between'},ur={class:'flex items-center gap-2'},mr={class:'text-dungeon-paper font-ui text-sm w-14 text-center'},pr={class:'flex items-center justify-between'},fr={class:'flex items-center gap-2'},gr={class:'text-dungeon-paper font-ui text-sm w-14 text-center'},yr={class:'grid grid-cols-2 gap-4'},br={class:'flex flex-col gap-4 w-full max-w-4xl'},vr={class:'flex items-center justify-between'},hr={class:'text-xs font-ui text-dungeon-paper/70'},xr={class:'rounded border border-dungeon-brown/60 bg-dungeon-dark/50 p-3'},kr={class:'mb-2 flex items-center justify-between'},Nr={class:'text-[11px] text-dungeon-gold/80'},Er={class:'max-h-52 overflow-y-auto custom-scrollbar pr-1 space-y-1.5'},Cr=['onClick'],Vr={class:'min-w-0 flex-1'},wr={class:'flex items-center gap-1.5'},Mr={class:'text-xs font-heading text-dungeon-gold truncate'},Br={class:'text-[10px] px-1 rounded border border-white/15 text-dungeon-paper/60'},Sr=['title'],Dr={key:0,class:'rounded border border-dungeon-brown/40 bg-black/20 py-6 text-center text-xs text-dungeon-paper/40'},_r={class:'mt-2 grid grid-cols-9 gap-1'},Ar={class:'max-h-[42vh] overflow-y-auto rounded border border-dungeon-brown/60 bg-dungeon-dark/40 p-3 custom-scrollbar'},Tr={class:'space-y-3'},Rr={class:'flex items-center gap-1 overflow-x-auto pb-1 custom-scrollbar'},Ir=['onClick'],Lr={class:'mb-2 flex items-center justify-between'},$r={class:'font-heading text-[11px] tracking-wider uppercase text-dungeon-gold/90'},Or={class:'text-[10px] text-dungeon-paper/50'},zr={class:'grid grid-cols-2 md:grid-cols-3 gap-4'},Pr=['disabled','onClick'],Ur={key:0,class:'rounded border border-dungeon-brown/40 bg-black/20 py-6 text-center text-xs text-dungeon-paper/40'},Gr={class:'flex justify-end gap-3'},Hr=['disabled'],Fr={class:'flex items-center justify-between'},jr={class:'text-xs font-ui text-dungeon-paper/70'},Yr={class:'max-h-[42vh] overflow-y-auto rounded border border-dungeon-brown/60 bg-dungeon-dark/40 p-2 custom-scrollbar'},Wr={class:'grid grid-cols-2 md:grid-cols-3 gap-2'},qr=['onClick'],Zr={class:'rounded border border-dungeon-brown/60 bg-dungeon-dark/40 p-3'},Kr={class:'max-h-[28vh] overflow-y-auto custom-scrollbar pr-1'},Jr={class:'space-y-2'},Xr={class:'flex items-center gap-1 overflow-x-auto pb-1 custom-scrollbar'},Qr=['onClick'],el={class:'mb-2 flex items-center justify-between'},tl={class:'font-heading text-[11px] tracking-wider uppercase text-dungeon-gold/90'},al={class:'text-[10px] text-dungeon-paper/50'},ol={class:'grid grid-cols-1 md:grid-cols-2 gap-2'},nl={class:'flex items-start justify-between gap-2'},rl={class:'min-w-0'},ll={class:'text-xs font-heading text-dungeon-gold truncate'},sl={class:'text-[10px] text-dungeon-paper/60'},cl={class:'flex items-center gap-1 shrink-0'},il=['onClick'],dl={class:'w-6 text-center text-xs text-dungeon-gold'},ul=['onClick'],ml={class:'mt-1 text-[10px] text-dungeon-paper/70 leading-relaxed'},pl={key:0,class:'rounded border border-dungeon-brown/40 bg-black/20 py-6 text-center text-xs text-dungeon-paper/40'},fl={class:'flex items-center gap-2 px-3 py-2 rounded border border-dungeon-brown/60 bg-dungeon-dark/40 text-sm text-dungeon-paper/80'},gl={class:'flex justify-between gap-3'},yl=['disabled'],bl={key:0,class:'custom-scrollbar border-dungeon-brown/50 bg-dungeon-dark/60 max-h-[60vh] overflow-y-auto rounded border p-4'},vl={class:'text-dungeon-paper/80 font-ui text-sm break-words whitespace-pre-wrap'},hl={key:1,class:'text-dungeon-paper/60 font-ui py-8 text-center text-sm'},xl={key:0,class:'absolute inset-0 z-[100] bg-black'},kl='dungeon.bg_overlay_opacity',Nl=(0,n.defineComponent)({__name:'GameView',emits:['backToSplash'],setup(e){const t=(0,n.defineComponent)({props:{icon:{type:Object,required:!0},active:{type:Boolean,default:!1},label:{type:String,default:''},tooltipSide:{type:String,default:'right'}},emits:['click'],setup:(e,{emit:t})=>()=>(0,n.h)('button',{class:['w-12 h-12 rounded-lg flex items-center justify-center transition-all duration-300 shadow-lg border relative group',e.active?'bg-dungeon-gold text-black border-dungeon-paper shadow-[0_0_15px_#d4af37]':'bg-[#1a0f08] text-dungeon-gold-dim border-dungeon-brown hover:bg-dungeon-brown hover:text-dungeon-gold hover:border-dungeon-gold/50'],onClick:()=>t('click')},[(0,n.h)(e.icon,{class:'size-6'}),e.label?(0,n.h)('div',{class:['absolute bg-black/90 text-dungeon-paper text-xs px-2 py-1 rounded border border-dungeon-brown opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none','left'===e.tooltipSide?'right-14':'left-14']},e.label):null])}),a=Me(),o=(0,n.ref)(null),r=(0,n.ref)(''),l=(0,n.ref)(!1),s=(0,n.ref)(!0),c=(0,n.ref)(!1),i=(0,n.ref)(''),d=(0,n.ref)('deck'),u=(0,n.ref)([]),m=(0,n.ref)(''),B=(0,n.ref)({}),S=(0,n.ref)('全部'),D=(0,n.ref)('全部'),A=(0,n.ref)(null),T=(0,n.ref)(!1),R=(0,n.ref)(!1);let I=null,L=null;const O=(0,n.ref)(!1),P=(0,n.ref)(!1),U=(0,n.computed)(()=>a.statData._当前区域||''),G=(0,n.computed)(()=>a.statData._当前房间类型||''),H=(0,n.computed)(()=>{if(!U.value||P.value)return'';const e='领主'===G.value&&!O.value?`${U.value}_领主`:U.value;return`https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E8%83%8C%E6%99%AF/${encodeURIComponent(e)}.png`});function F(){'领主'!==G.value||O.value?P.value=!0:O.value=!0}const j=(0,n.ref)(parseFloat(localStorage.getItem(kl)??'0.5'));(0,n.watch)(j,e=>localStorage.setItem(kl,String(e)));const Y=(0,n.computed)(()=>[...se.values()].filter(e=>'敌人'!==e.category)),W={基础:0,燃烧:1},q=(e,t)=>{const a=W[e]??999,o=W[t]??999;return a!==o?a-o:e.localeCompare(t,'zh-Hans-CN')},Z=(0,n.computed)(()=>{const e=new Map;for(const t of Y.value)e.has(t.category)||e.set(t.category,[]),e.get(t.category).push(t);return Array.from(e.entries()).sort(([e],[t])=>q(e,t)).map(([e,t])=>({category:e,cards:[...t].sort((e,t)=>e.name.localeCompare(t.name,'zh-Hans-CN'))}))}),K=(0,n.computed)(()=>['全部',...Z.value.map(e=>e.category)]),J=(0,n.computed)(()=>'全部'===S.value?Z.value:Z.value.filter(e=>e.category===S.value)),X=(0,n.computed)(()=>{const e={};for(const t of Y.value)e[t.category]=(e[t.category]??0)+1;return e}),Q=(0,n.computed)(()=>Z.value.map(e=>e.category).filter(e=>'基础'!==e)),ee=(0,n.computed)(()=>{const e=a.statData._携带的魔法书;return Array.isArray(e)?e.filter(e=>'string'==typeof e&&e.trim().length>0):[]}),te=(0,n.computed)(()=>{const e=new Set(Q.value);return ee.value.filter(t=>e.has(t))}),ae=(0,n.computed)(()=>new Set(te.value)),oe=(0,n.ref)(!1),ne=e=>X.value[e]??0,re=(0,n.computed)(()=>{const e=new Map;for(const t of Y.value)e.set(t.name,t);return e}),le=(0,n.computed)(()=>u.value.map((e,t)=>({idx:t,card:re.value.get(e)})).filter(e=>void 0!==e.card)),ce=(0,n.computed)(()=>[...pe.keys()]),ie=(0,n.computed)(()=>[...ye].sort((e,t)=>{const a=q(e.category,t.category);return 0!==a?a:e.name.localeCompare(t.name,'zh-Hans-CN')})),de=(0,n.computed)(()=>{const e=new Map;for(const t of ie.value)e.has(t.category)||e.set(t.category,[]),e.get(t.category).push(t);return Array.from(e.entries()).map(([e,t])=>({category:e,relics:t}))}),ue=(0,n.computed)(()=>['全部',...de.value.map(e=>e.category)]),me=(0,n.computed)(()=>'全部'===D.value?de.value:de.value.filter(e=>e.category===D.value));(0,n.watch)(K,e=>{e.includes(S.value)||(S.value='全部')},{immediate:!0}),(0,n.watch)(ue,e=>{e.includes(D.value)||(D.value='全部')},{immediate:!0});const ge=e=>{switch(e){case w.PHYSICAL:return'border-red-500/50 text-red-300 bg-red-900/20';case w.MAGIC:return'border-blue-500/50 text-blue-300 bg-blue-900/20';case w.FUNCTION:return'border-yellow-500/50 text-yellow-300 bg-yellow-900/20';case w.DODGE:return'border-emerald-500/50 text-emerald-300 bg-emerald-900/20';default:return'border-white/30 text-dungeon-paper/80 bg-white/5'}},be=e=>{switch(e){case'基础':return'bg-dungeon-gold/80';case'燃烧':return'bg-orange-500/85';default:return'bg-indigo-400/80'}},xe=(0,n.computed)(()=>{const e=a.statData._技能??[];return e.filter(e=>''!==e).map(e=>se.get(e)).filter(e=>void 0!==e)}),ke=(0,n.computed)(()=>{const e=a.statData._圣遗物??{};return Object.entries(e).filter(([e,t])=>e&&t>0).map(([e,t])=>{const a=function(e){return ve.get(e)}(e);return{name:e,count:t,rarity:a?.rarity??'普通',category:a?.category??'基础',effect:a?.effect??'',description:a?.description??a?.effect??''}}).sort((e,t)=>e.name.localeCompare(t.name,'zh-Hans-CN'))}),Ne=()=>{I&&(clearTimeout(I),I=null),L&&(clearTimeout(L),L=null)},Ee=(e,t)=>{const a=e.getBoundingClientRect(),o=Math.max(8,Math.min(a.left+a.width/2,window.innerWidth-240-8)),n=Math.max(8,a.top-8);A.value={x:o,y:n,name:t.name,rarity:t.rarity,category:t.category,count:t.count,effect:t.effect,description:t.description}},Ce=(e,t)=>{const a=e.currentTarget;a&&(Ne(),Ee(a,t))},Ve=()=>{Ne(),A.value=null},we=()=>{I&&(clearTimeout(I),I=null)},Be=(0,n.computed)(()=>{const e=a.statData._圣遗物??{},t={};for(const[a,o]of Object.entries(e)){const e=Math.max(0,Math.floor(Number(o??0)));!a||e<=0||(t[a]=e)}return t});(0,n.watch)(o,e=>{'magicBooks'===e&&a.loadStatData(),'relics'!==e&&Ve()});const Se=(0,n.computed)(()=>Object.values(B.value).reduce((e,t)=>e+Math.max(0,Math.floor(t)),0)),De=(0,n.reactive)({fontSize:21,lineHeight:2,fontFamily:'\'Cinzel\', serif',containerWidth:1300}),_e=(0,n.computed)(()=>a.mainText||'正在等待冒险开始...\n\n输入你的行动或选择一个选项来开始游戏。'),Ae=(0,n.computed)(()=>{const e=a.statData._血量??10,t=a.statData._血量上限??10;return Math.min(e,t)}),Te=(0,n.computed)(()=>a.statData._血量上限??10),Re=(0,n.computed)(()=>a.statData._魔量??1),Ie=(0,n.computed)(()=>a.statData._金币??0),Le=(0,n.computed)(()=>a.statData.$最小点数??0),$e=(0,n.computed)(()=>a.statData.$最大点数??0),Oe=(0,n.computed)(()=>{const e=Te.value;return e>0?Math.min(Ae.value/e*100,100):100}),ze=(0,n.computed)(()=>{const e=Re.value;return Math.min(e/20*100,100)}),Pe=()=>{r.value.trim()&&!a.isGenerating&&(a.sendAction(r.value),r.value='')},Ue={战斗房:{label:'战斗',icon:'⚔',bgColor:'rgba(185,28,28,0.25)',borderColor:'#dc2626',textColor:'#fca5a5',glowColor:'#dc262680'},领主房:{label:'战斗',icon:'⚔',bgColor:'rgba(185,28,28,0.3)',borderColor:'#ef4444',textColor:'#fca5a5',glowColor:'#ef444480'},宝箱房:{label:'打开宝箱',icon:'📦',bgColor:'rgba(161,98,7,0.25)',borderColor:'#eab308',textColor:'#fde68a',glowColor:'#eab30880'},商店房:{label:'打开商店',icon:'🛒',bgColor:'rgba(21,128,61,0.25)',borderColor:'#22c55e',textColor:'#bbf7d0',glowColor:'#22c55e80'},温泉房:{label:'清除诅咒',icon:'💧',bgColor:'rgba(8,145,178,0.25)',borderColor:'#06b6d4',textColor:'#a5f3fc',glowColor:'#06b6d480'},神像房:{label:'膜拜',icon:'🙏',bgColor:'rgba(126,34,206,0.25)',borderColor:'#a855f7',textColor:'#e9d5ff',glowColor:'#a855f780'}},Ge=(0,n.computed)(()=>{if(!a.hasOptionE)return null;const e=a.statData._当前房间类型;return e?'事件房'===e||'陷阱房'===e?null:Ue[e]??null:null}),He=()=>{toastr.info('功能开发中...')},Fe={第一层:['魔女的小窝','粘液之沼','发情迷雾森林','喷精泉眼','触手菌窟','肉欲食人花圃'],第二层:['禁忌图书馆','呻吟阅览室','催情墨染湖','性癖记录馆','淫乱教职工宿舍'],第三层:['欲望监狱','吸血鬼古堡','调教审判庭','触手水牢','人偶工坊'],第四层:['虚空宫殿','镜之舞厅','双子寝宫','春梦回廊','极乐宴会厅'],第五层:['交媾祭坛','圣水之海','苦修之路','神谕淫纹室','女神的产房']},je=['第一层','第二层','第三层','第四层','第五层'];function Ye(e){for(const[t,a]of Object.entries(Fe))if(a.includes(e))return t;return null}const We={第一层:{common:['游荡粘液球','荧光蛾','根须潜行者'],uniqueByArea:{粘液之沼:['沼泽潜伏者','拟态气泡怪'],发情迷雾森林:['迷雾精怪','藤蔓行者'],喷精泉眼:['泉水精魄','潜伏触手怪'],触手菌窟:['穴居触手'],肉欲食人花圃:['极乐蜜蜂','花粉喷射者']}},第二层:{common:['浮游书页','墨痕鼠','低语幽灵'],uniqueByArea:{禁忌图书馆:['书魔','墨水史莱姆'],呻吟阅览室:['椅子拟态怪','桌面触手'],催情墨染湖:['墨团怪','触手羽毛笔'],性癖记录馆:['窥视之眼','羞耻阴影'],淫乱教职工宿舍:['堕落学者','宿舍幽灵']}},第三层:{common:['巡逻铁蝠','荆棘匍匐者','影牢使魔'],uniqueByArea:{欲望监狱:['刺链蛇','惩戒傀儡','羞耻蛭'],吸血鬼古堡:['血蝙蝠','血仆','梦魇驹'],调教审判庭:['审判蛛','证词虫','刽子手偶'],触手水牢:['深渊水母','寄生水蛭'],人偶工坊:['缝合蜘蛛','丝线傀儡','测试者']}},第四层:{common:['虚空游光','面具侍从','空间裂隙虫'],uniqueByArea:{虚空宫殿:['肉壁蠕虫'],镜之舞厅:['镜像分身','碎镜蝠'],双子寝宫:['梦魇蛾','枕头精'],春梦回廊:['画框捕食者'],极乐宴会厅:['侍宴者']}},第五层:{common:['祈祷烛灵','圣痕蝶','忏悔天使'],uniqueByArea:{交媾祭坛:['祭司傀儡','神恩触手'],圣水之海:['圣水水母','深渊鱼群','圣水精灵'],苦修之路:['晶体刺猬','苦修幽灵'],神谕淫纹室:['符文精灵','光球守卫'],女神的产房:['胎儿魔物','脐带触手']}}},qe={第一层:.7,第二层:.7,第三层:.7,第四层:.7,第五层:.7};function Ze(e){const t=Ye(e)??'第一层',a=We[t];if(!a)return null;const o=a.common,n=a.uniqueByArea[e]??[],r=qe[t]??.7;let l=[];return 0===o.length&&0===n.length?null:(l=0===o.length?n:0===n.length||Math.random()<r?o:n,(s=l).length?s[Math.floor(Math.random()*s.length)]:null);var s}const Ke=['战斗房','宝箱房','商店房','温泉房','神像房','事件房','陷阱房'],Je={战斗房:{icon:'⚔️',bgColor:'rgba(127,29,29,0.5)',borderColor:'#991b1b',textColor:'#fca5a5',glowColor:'#dc2626'},宝箱房:{icon:'💎',bgColor:'rgba(113,63,18,0.5)',borderColor:'#a16207',textColor:'#fde68a',glowColor:'#eab308'},商店房:{icon:'🏪',bgColor:'rgba(20,83,45,0.5)',borderColor:'#166534',textColor:'#bbf7d0',glowColor:'#22c55e'},温泉房:{icon:'♨️',bgColor:'rgba(22,78,99,0.5)',borderColor:'#155e75',textColor:'#a5f3fc',glowColor:'#06b6d4'},神像房:{icon:'🗿',bgColor:'rgba(88,28,135,0.5)',borderColor:'#7e22ce',textColor:'#e9d5ff',glowColor:'#a855f7'},事件房:{icon:'❓',bgColor:'rgba(63,63,70,0.5)',borderColor:'#52525b',textColor:'#d4d4d8',glowColor:'#71717a'},陷阱房:{icon:'⚠️',bgColor:'rgba(124,45,18,0.5)',borderColor:'#9a3412',textColor:'#fed7aa',glowColor:'#ea580c'},领主房:{icon:'👑',bgColor:'rgba(127,29,29,0.6)',borderColor:'#dc2626',textColor:'#fca5a5',glowColor:'#ef4444'}},Xe={icon:'🌀',bgColor:'rgba(79,70,229,0.5)',borderColor:'#6366f1',textColor:'#c7d2fe',glowColor:'#818cf8'};let Qe=[],et='';function tt(e){const t=[...e];for(let e=t.length-1;e>0;e--){const a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t}function at(){const e=a.statData._当前区域||'',t=a.statData._当前房间类型||'',o=(a.statData.$统计||{}).当前层已过房间??0,n='魔女的小窝'===e;if(n||'领主房'===t){let t=null;if(n)t='第一层';else{const a=Ye(e);a&&(t=function(e){const t=je.indexOf(e);return t<0||t>=je.length-1?null:je[t+1]}(a))}if(t&&Fe[t]){return tt(Fe[t].filter(t=>t!==e)).slice(0,3).map(e=>({label:e,roomType:'',areaName:e,floorName:t,isFloorTransition:!0,...Xe}))}}if(o>=5){const e=.1*(o-4);if(Math.random()<e){return[{label:'领主房',roomType:'领主房',isFloorTransition:!1,...Je['领主房']}]}}const r=Math.random(),l=r<.2?1:r<.6?2:3;return tt(Ke).slice(0,l).map(e=>({label:e,roomType:e,isFloorTransition:!1,...Je[e]}))}const ot=(0,n.computed)(()=>{if(!a.hasLeave)return Qe=[],et='',[];const e=`${a.statData._当前区域||''}|${a.statData._当前房间类型||''}|${a.statData.$统计?.当前层已过房间??0}`;return e!==et&&(et=e,Qe=at()),Qe}),nt={战斗房:'累计经过战斗',宝箱房:'累计经过宝箱',商店房:'累计经过商店',温泉房:'累计经过温泉',神像房:'累计经过神像',事件房:'累计经过事件',陷阱房:'累计经过陷阱'},rt=()=>{a.loadSaveEntries(),a.isSaveLoadOpen=!a.isSaveLoadOpen},lt=()=>{l.value=!l.value},st=e=>Math.max(0,Math.floor(B.value[e]??0)),ct=(e,t)=>{const a=Math.max(0,Math.floor(t));a<=0?delete B.value[e]:B.value[e]=a},it=()=>{const e={};for(const t of ie.value){const a=st(t.name);a>0&&(e[t.name]=a)}return e},dt=()=>{a.loadStatData();const e=new Set(Y.value.map(e=>e.name)),t=new Set(ie.value.map(e=>e.name)),n=Array.isArray(a.statData._技能)?a.statData._技能.filter(t=>e.has(t)).slice(0,9):[],r=a.statData._圣遗物??{},l={};for(const[e,a]of Object.entries(r)){if(!t.has(e))continue;const o=Math.max(0,Math.floor(Number(a??0)));o<=0||(l[e]=o)}u.value=[...n],m.value='',B.value=l,S.value='全部',D.value='全部',T.value=!1,d.value='deck',o.value='combatTestBuilder'},ut=async()=>{if(9!==u.value.length)return void(a.error='请先组满9张测试卡组。');await a.updateStatDataFields({_技能:[...u.value]})&&(0!==ce.value.length?d.value='enemy':a.error='当前没有可用魔物，请先在 enemyRegistry 注册敌人。')},mt=async()=>{if(!m.value)return void(a.error='请先选择一个魔物。');if(!fe(m.value))return void(a.error=`未在敌人库中找到「${m.value}」`);await a.updateStatDataFields({_对手名称:m.value,_圣遗物:it()})&&(o.value=null,i.value=m.value,R.value=T.value,c.value=!0)},pt=e=>{c.value=!1,R.value=!1,console.log('[Combat] Result:',e?'WIN':'LOSE')};return(e,w)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',$o,[(0,n.createCommentVNode)(' Dynamic Background '),(0,n.createElementVNode)('div',Oo,[(0,n.unref)(H)?((0,n.openBlock)(),(0,n.createElementBlock)('img',{key:0,src:(0,n.unref)(H),class:'absolute inset-0 w-full h-full object-cover',alt:'',onError:F},null,40,zo)):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('div',{class:'absolute inset-0',style:(0,n.normalizeStyle)({backgroundColor:`rgba(0,0,0,${(0,n.unref)(j)})`})},null,4)]),(0,n.createCommentVNode)(' Sidebar: Individual Icons Top-Left (no back button, settings already has exit) '),(0,n.createElementVNode)('div',Po,[(0,n.createVNode)((0,n.unref)(t),{icon:(0,n.unref)(p),label:'设置','tooltip-side':'right',active:'settings'===(0,n.unref)(o),onClick:w[0]||(w[0]=e=>o.value='settings')},null,8,['icon','active']),(0,n.createVNode)((0,n.unref)(t),{icon:(0,n.unref)(f),label:'卡组','tooltip-side':'right',active:'deck'===(0,n.unref)(o),onClick:w[1]||(w[1]=e=>o.value='deck')},null,8,['icon','active']),(0,n.createVNode)((0,n.unref)(t),{icon:(0,n.unref)(g),label:'魔法书','tooltip-side':'right',active:'magicBooks'===(0,n.unref)(o),onClick:w[2]||(w[2]=e=>o.value='magicBooks')},null,8,['icon','active']),(0,n.createVNode)((0,n.unref)(t),{icon:(0,n.unref)(y),label:'物品','tooltip-side':'right',active:'relics'===(0,n.unref)(o),onClick:w[3]||(w[3]=e=>o.value='relics')},null,8,['icon','active']),(0,n.createVNode)((0,n.unref)(t),{icon:(0,n.unref)(b),label:'地图','tooltip-side':'right',active:'map'===(0,n.unref)(o),onClick:w[4]||(w[4]=e=>o.value='map')},null,8,['icon','active'])]),(0,n.createCommentVNode)(' Sidebar: Right side icons (top right) '),(0,n.createElementVNode)('div',Uo,[(0,n.createCommentVNode)(' Fullscreen (small) '),(0,n.createElementVNode)('button',{class:'w-8 h-8 rounded flex items-center justify-center bg-dungeon-dark/60 border border-dungeon-brown/50 text-dungeon-gold-dim hover:bg-dungeon-brown hover:text-dungeon-gold hover:border-dungeon-gold/50 transition-all duration-300',title:'全屏模式',onClick:w[5]||(w[5]=(...e)=>(0,n.unref)(he)&&(0,n.unref)(he)(...e))},[(0,n.createVNode)((0,n.unref)(v),{class:'size-4'})])]),(0,n.createCommentVNode)(' Right sidebar: save/load only (reroll & edit moved into panel) '),(0,n.createElementVNode)('div',Go,[(0,n.createVNode)((0,n.unref)(t),{icon:(0,n.unref)(h),label:'读档','tooltip-side':'left',active:(0,n.unref)(a).isSaveLoadOpen,onClick:rt},null,8,['icon','active']),(0,n.createVNode)((0,n.unref)(t),{icon:(0,n.unref)(x),label:'变量更新','tooltip-side':'left',active:(0,n.unref)(l),onClick:lt},null,8,['icon','active'])]),(0,n.createCommentVNode)(' Main Content Area '),(0,n.createElementVNode)('div',Ho,[(0,n.createElementVNode)('div',{class:'w-full flex flex-col pt-2 pb-2 px-4 md:px-12 md:pl-24 transition-all duration-300 h-full',style:(0,n.normalizeStyle)({maxWidth:(0,n.unref)(De).containerWidth+'px'})},[(0,n.createCommentVNode)(' Story Text Area '),(0,n.createElementVNode)('div',Fo,[(0,n.createCommentVNode)(' Decorative Corners '),w[37]||(w[37]=(0,n.createElementVNode)('div',{class:'absolute top-2 left-2 w-4 h-4 border-t border-l border-dungeon-gold/30'},null,-1)),w[38]||(w[38]=(0,n.createElementVNode)('div',{class:'absolute top-2 right-2 w-4 h-4 border-t border-r border-dungeon-gold/30'},null,-1)),(0,n.createCommentVNode)(' Loading Indicator '),(0,n.unref)(a).isGenerating?((0,n.openBlock)(),(0,n.createElementBlock)('div',jo,[...w[34]||(w[34]=[(0,n.createStaticVNode)('<div class="flex gap-1" data-v-a9a75906><span class="w-2 h-2 bg-dungeon-gold rounded-full animate-bounce" style="animation-delay:0s;" data-v-a9a75906></span><span class="w-2 h-2 bg-dungeon-gold rounded-full animate-bounce" style="animation-delay:0.2s;" data-v-a9a75906></span><span class="w-2 h-2 bg-dungeon-gold rounded-full animate-bounce" style="animation-delay:0.4s;" data-v-a9a75906></span></div><span class="text-dungeon-gold/60 font-ui text-sm" data-v-a9a75906>正在生成...</span>',2)])])):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' Edit Mode '),(0,n.unref)(a).isEditing?((0,n.openBlock)(),(0,n.createElementBlock)('div',Yo,[(0,n.withDirectives)((0,n.createElementVNode)('textarea',{'onUpdate:modelValue':w[6]||(w[6]=e=>(0,n.unref)(a).editingText=e),class:'flex-1 w-full bg-[#1a0f08] border border-dungeon-brown text-dungeon-paper rounded p-4 resize-none focus:outline-none focus:border-dungeon-gold focus:ring-1 focus:ring-dungeon-gold/50 font-ui custom-scrollbar',style:(0,n.normalizeStyle)({fontSize:(0,n.unref)(De).fontSize+'px',lineHeight:(0,n.unref)(De).lineHeight,fontFamily:(0,n.unref)(De).fontFamily})},null,4),[[n.vModelText,(0,n.unref)(a).editingText]]),(0,n.createCommentVNode)(' Edit Actions '),(0,n.createElementVNode)('div',Wo,[(0,n.createElementVNode)('button',{class:'px-5 py-2 text-sm font-ui text-gray-400 border border-gray-700 rounded hover:bg-gray-800 transition-colors',onClick:w[7]||(w[7]=e=>(0,n.unref)(a).cancelEdit())},' 取消 '),(0,n.createElementVNode)('button',{class:'px-5 py-2 text-sm font-ui text-dungeon-gold border border-dungeon-gold/40 rounded hover:bg-dungeon-gold/10 transition-colors shadow-[0_0_8px_rgba(212,175,55,0.15)]',onClick:w[8]||(w[8]=e=>(0,n.unref)(a).saveEdit())},' 确认更改 ')])])):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:2},[(0,n.createCommentVNode)(' Normal View (not editing) '),(0,n.createCommentVNode)(' Story Content '),(0,n.createElementVNode)('div',{class:'prose prose-invert max-w-none prose-p:text-dungeon-paper tracking-wide',style:(0,n.normalizeStyle)({fontSize:(0,n.unref)(De).fontSize+'px',lineHeight:(0,n.unref)(De).lineHeight,fontFamily:(0,n.unref)(De).fontFamily})},[(0,n.createCommentVNode)(' Streaming text (during generation) '),(0,n.unref)(a).isGenerating&&(0,n.unref)(a).streamingText?((0,n.openBlock)(),(0,n.createElementBlock)('p',qo,(0,n.toDisplayString)((0,n.unref)(a).streamingText),1)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createCommentVNode)(' Final main text '),(0,n.createElementVNode)('p',Zo,(0,n.toDisplayString)((0,n.unref)(_e)),1)],2112))],4),(0,n.createCommentVNode)(' Options Section '),!(0,n.unref)(a).isGenerating&&((0,n.unref)(a).options.length>0||(0,n.unref)(a).hasOptionE||(0,n.unref)(a).hasLeave)?((0,n.openBlock)(),(0,n.createElementBlock)('div',Ko,[w[36]||(w[36]=(0,n.createElementVNode)('div',{class:'h-[1px] w-full bg-gradient-to-r from-transparent via-dungeon-gold/20 to-transparent mb-2'},null,-1)),(0,n.createCommentVNode)(' A-D Normal Options '),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(a).options,(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:'opt-'+t,class:'w-full text-left px-5 py-3 bg-dungeon-dark/60 hover:bg-dungeon-brown/40 text-dungeon-paper/80 hover:text-dungeon-paper rounded border border-dungeon-brown/50 hover:border-dungeon-gold/40 font-ui text-sm tracking-wide transition-all duration-300 hover:shadow-[0_0_12px_rgba(212,175,55,0.08)] hover:translate-x-1',onClick:t=>(e=>{if(a.isGenerating)return;const t=e.replace(/^[A-D]\.\s*/i,'');r.value=t})(e)},(0,n.toDisplayString)(e),9,Jo))),128)),(0,n.createCommentVNode)(' E Option: Special Room Action Button '),(0,n.unref)(a).hasOptionE&&(0,n.unref)(Ge)?((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:0,class:'w-full text-center px-6 py-4 rounded-lg border-2 font-heading text-base tracking-wider transition-all duration-400 hover:scale-[1.02] active:scale-[0.98]',style:(0,n.normalizeStyle)({backgroundColor:(0,n.unref)(Ge).bgColor,borderColor:(0,n.unref)(Ge).borderColor,color:(0,n.unref)(Ge).textColor,boxShadow:`0 0 20px ${(0,n.unref)(Ge).glowColor}, inset 0 1px 0 rgba(255,255,255,0.1)`}),onClick:He},[(0,n.createElementVNode)('span',Xo,(0,n.toDisplayString)((0,n.unref)(Ge).icon),1),(0,n.createTextVNode)(' '+(0,n.toDisplayString)((0,n.unref)(Ge).label),1)],4)):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' [Leave] Portal System '),(0,n.unref)(a).hasLeave&&(0,n.unref)(ot).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Qo,[w[35]||(w[35]=(0,n.createElementVNode)('div',{class:'text-center text-dungeon-gold/40 text-xs font-ui tracking-widest uppercase mb-3'},' ─── 传送门 ─── ',-1)),(0,n.createElementVNode)('div',en,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(ot),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:'portal-'+t,class:'portal-btn group relative flex flex-col items-center justify-center w-24 h-24 rounded-lg border-2 backdrop-blur-sm transition-all duration-500 hover:scale-110 active:scale-95',style:(0,n.normalizeStyle)({backgroundColor:e.bgColor,borderColor:e.borderColor,boxShadow:`0 0 15px ${e.glowColor}, 0 0 30px ${e.glowColor}40`}),onClick:t=>(async e=>{if(!a.isGenerating)if(e.isFloorTransition)a.setPendingPortalChanges({area:e.areaName,roomType:'宝箱房',resetRoomCounter:!0,incrementKeys:['当前层已过房间','累计已过房间','累计经过宝箱'],enemyName:''}),console.info(`[Portal] Floor transition queued → area: ${e.areaName}, first room: 宝箱房`),a.sendAction(`<user>选择了继续前进，进入了${e.areaName}的宝箱房`);else{const t=['当前层已过房间','累计已过房间'],o=nt[e.roomType];o&&t.push(o);const n=a.statData._当前区域||'',r='战斗房'===e.roomType?Ze(n):null;a.setPendingPortalChanges({roomType:e.roomType,incrementKeys:t,enemyName:r??''}),console.info(`[Portal] Room transition queued → type: ${e.roomType}`),'战斗房'===e.roomType&&r?a.sendAction(`<user>选择了继续前进，进入了${e.roomType}并遭遇了${r}`):a.sendAction(`<user>选择了继续前进，进入了${e.roomType}的房间`)}})(e)},[(0,n.createCommentVNode)(' Portal glow ring '),(0,n.createElementVNode)('div',{class:'absolute inset-0 rounded-lg opacity-50 group-hover:opacity-100 transition-opacity duration-500',style:(0,n.normalizeStyle)({boxShadow:`inset 0 0 20px ${e.glowColor}60`})},null,4),(0,n.createCommentVNode)(' Portal icon '),(0,n.createElementVNode)('span',an,(0,n.toDisplayString)(e.icon),1),(0,n.createCommentVNode)(' Portal label '),(0,n.createElementVNode)('span',{class:'text-[10px] font-ui tracking-wide relative z-10 text-center leading-tight',style:(0,n.normalizeStyle)({color:e.textColor})},(0,n.toDisplayString)(e.label),5),(0,n.createCommentVNode)(' Animated ring '),(0,n.createElementVNode)('div',{class:'absolute inset-1 rounded-md border border-dashed opacity-30 group-hover:opacity-70 animate-[spin_8s_linear_infinite] transition-opacity',style:(0,n.normalizeStyle)({borderColor:e.borderColor})},null,4)],12,tn))),128))])])):(0,n.createCommentVNode)('v-if',!0)])):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' Error Display '),(0,n.unref)(a).error?((0,n.openBlock)(),(0,n.createElementBlock)('div',on,(0,n.toDisplayString)((0,n.unref)(a).error),1)):(0,n.createCommentVNode)('v-if',!0)],64))]),(0,n.createCommentVNode)(' Input Area '),(0,n.createElementVNode)('div',nn,[(0,n.createElementVNode)('div',rn,[(0,n.withDirectives)((0,n.createElementVNode)('input',{'onUpdate:modelValue':w[9]||(w[9]=e=>(0,n.isRef)(r)?r.value=e:null),type:'text',disabled:(0,n.unref)(a).isGenerating,placeholder:(0,n.unref)(a).isGenerating?'等待回复中...':'输入你的行动...',class:'w-full bg-[#1a0f08] border border-dungeon-brown text-dungeon-paper px-4 py-3 pr-14 rounded focus:outline-none focus:border-dungeon-gold focus:ring-1 focus:ring-dungeon-gold/50 font-ui placeholder-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed',onKeydown:(0,n.withKeys)(Pe,['enter'])},null,40,ln),[[n.vModelText,(0,n.unref)(r)]]),(0,n.createElementVNode)('button',{class:'absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-[#1a0f08] border border-dungeon-gold/30 hover:bg-dungeon-brown hover:border-dungeon-gold text-dungeon-gold rounded transition-all disabled:opacity-30 disabled:cursor-not-allowed',disabled:(0,n.unref)(a).isGenerating,onClick:Pe},[(0,n.createVNode)((0,n.unref)(k),{class:'size-5'})],8,sn)])])],4)]),(0,n.createCommentVNode)(' Player Status HUD (Bottom Left) - Collapsible '),(0,n.createElementVNode)('div',cn,[(0,n.createCommentVNode)(' Toggle Button '),(0,n.createElementVNode)('button',{class:'w-10 h-10 rounded-lg flex items-center justify-center bg-dungeon-dark/90 border border-dungeon-gold/30 text-dungeon-gold-dim hover:bg-dungeon-brown hover:text-dungeon-gold hover:border-dungeon-gold/50 transition-all duration-300 shadow-lg backdrop-blur-md',title:(0,n.unref)(s)?'收起状态栏':'展开状态栏',onClick:w[10]||(w[10]=e=>s.value=!(0,n.unref)(s))},[((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)((0,n.unref)(s)?(0,n.unref)(N):(0,n.unref)(E)),{class:'size-5'}))],8,dn),(0,n.createCommentVNode)(' Expandable Status Panel '),(0,n.createVNode)(n.Transition,{name:'status-slide'},{default:(0,n.withCtx)(()=>[(0,n.unref)(s)?((0,n.openBlock)(),(0,n.createElementBlock)('div',un,[(0,n.createCommentVNode)(' Decorative Elements '),w[48]||(w[48]=(0,n.createElementVNode)('div',{class:'absolute -top-1 -left-1 size-2 bg-dungeon-gold rotate-45 border border-black'},null,-1)),w[49]||(w[49]=(0,n.createElementVNode)('div',{class:'absolute -bottom-1 -right-1 size-2 bg-dungeon-gold rotate-45 border border-black'},null,-1)),w[50]||(w[50]=(0,n.createElementVNode)('div',{class:'absolute top-0 inset-x-0 h-[1px] bg-gradient-to-r from-transparent via-dungeon-gold/50 to-transparent'},null,-1)),(0,n.createCommentVNode)(' HP & MP: Container-fill style '),(0,n.createElementVNode)('div',mn,[(0,n.createCommentVNode)(' HP Heart Container '),(0,n.createElementVNode)('div',pn,[(0,n.createElementVNode)('div',{class:'stat-container-heart',title:`HP: ${(0,n.unref)(Ae)}/${(0,n.unref)(Te)}`},[((0,n.openBlock)(),(0,n.createElementBlock)('svg',gn,[w[39]||(w[39]=(0,n.createElementVNode)('defs',null,[(0,n.createElementVNode)('clipPath',{id:'heartClip'},[(0,n.createElementVNode)('path',{d:'M32 56 C32 56, 6 40, 6 22 C6 12, 14 4, 24 4 C28 4, 31 6, 32 9 C33 6, 36 4, 40 4 C50 4, 58 12, 58 22 C58 40, 32 56, 32 56Z'})]),(0,n.createElementVNode)('filter',{id:'hpGlow'},[(0,n.createElementVNode)('feGaussianBlur',{stdDeviation:'2',result:'glow'}),(0,n.createElementVNode)('feMerge',null,[(0,n.createElementVNode)('feMergeNode',{in:'glow'}),(0,n.createElementVNode)('feMergeNode',{in:'SourceGraphic'})])]),(0,n.createElementVNode)('linearGradient',{id:'hpGradient',x1:'0',y1:'1',x2:'0',y2:'0'},[(0,n.createElementVNode)('stop',{offset:'0%','stop-color':'#8a0e0e'}),(0,n.createElementVNode)('stop',{offset:'50%','stop-color':'#cc2222'}),(0,n.createElementVNode)('stop',{offset:'100%','stop-color':'#ee4444'})])],-1)),(0,n.createCommentVNode)(' Heart outline (dark) '),w[40]||(w[40]=(0,n.createElementVNode)('path',{d:'M32 56 C32 56, 6 40, 6 22 C6 12, 14 4, 24 4 C28 4, 31 6, 32 9 C33 6, 36 4, 40 4 C50 4, 58 12, 58 22 C58 40, 32 56, 32 56Z',fill:'#1a0808',stroke:'#5c1a1a','stroke-width':'1.5'},null,-1)),(0,n.createCommentVNode)(' Fill level (clipped to heart) '),(0,n.createElementVNode)('g',yn,[(0,n.createElementVNode)('rect',{x:'0',y:64-(0,n.unref)(Oe)/100*60,width:'64',height:(0,n.unref)(Oe)/100*60,fill:'url(#hpGradient)',filter:'url(#hpGlow)',class:'transition-all duration-700 ease-out'},null,8,bn)]),(0,n.createCommentVNode)(' Highlight '),w[41]||(w[41]=(0,n.createElementVNode)('ellipse',{cx:'22',cy:'18',rx:'5',ry:'4',fill:'rgba(255,255,255,0.12)',transform:'rotate(-20,22,18)'},null,-1))]))],8,fn),(0,n.createElementVNode)('span',vn,[(0,n.createElementVNode)('span',hn,(0,n.toDisplayString)((0,n.unref)(Ae)),1),(0,n.createElementVNode)('span',xn,'/'+(0,n.toDisplayString)((0,n.unref)(Te)),1)])]),(0,n.createCommentVNode)(' MP Crystal Container '),(0,n.createElementVNode)('div',kn,[(0,n.createElementVNode)('div',{class:'stat-container-mana',title:`MP: ${(0,n.unref)(Re)}`},[((0,n.openBlock)(),(0,n.createElementBlock)('svg',En,[w[42]||(w[42]=(0,n.createElementVNode)('defs',null,[(0,n.createElementVNode)('clipPath',{id:'manaClip'},[(0,n.createElementVNode)('path',{d:'M32 4 L54 24 L32 60 L10 24 Z'})]),(0,n.createElementVNode)('filter',{id:'mpGlow'},[(0,n.createElementVNode)('feGaussianBlur',{stdDeviation:'2',result:'glow'}),(0,n.createElementVNode)('feMerge',null,[(0,n.createElementVNode)('feMergeNode',{in:'glow'}),(0,n.createElementVNode)('feMergeNode',{in:'SourceGraphic'})])]),(0,n.createElementVNode)('linearGradient',{id:'mpGradient',x1:'0',y1:'1',x2:'0',y2:'0'},[(0,n.createElementVNode)('stop',{offset:'0%','stop-color':'#1a1a8a'}),(0,n.createElementVNode)('stop',{offset:'50%','stop-color':'#3344cc'}),(0,n.createElementVNode)('stop',{offset:'100%','stop-color':'#5566ee'})])],-1)),(0,n.createCommentVNode)(' Crystal outline '),w[43]||(w[43]=(0,n.createElementVNode)('path',{d:'M32 4 L54 24 L32 60 L10 24 Z',fill:'#080818',stroke:'#1a1a5c','stroke-width':'1.5'},null,-1)),(0,n.createCommentVNode)(' Fill level '),(0,n.createElementVNode)('g',Cn,[(0,n.createElementVNode)('rect',{x:'0',y:64-(0,n.unref)(ze)/100*60,width:'64',height:(0,n.unref)(ze)/100*60,fill:'url(#mpGradient)',filter:'url(#mpGlow)',class:'transition-all duration-700 ease-out'},null,8,Vn)]),(0,n.createCommentVNode)(' Highlight '),w[44]||(w[44]=(0,n.createElementVNode)('polygon',{points:'26,14 32,8 38,14 32,20',fill:'rgba(255,255,255,0.1)'},null,-1))]))],8,Nn),(0,n.createElementVNode)('span',wn,[(0,n.createElementVNode)('span',Mn,(0,n.toDisplayString)((0,n.unref)(Re)),1)])])]),(0,n.createCommentVNode)(' Divider '),w[51]||(w[51]=(0,n.createElementVNode)('div',{class:'my-2 h-[1px] w-full bg-gradient-to-r from-transparent via-dungeon-gold/20 to-transparent'},null,-1)),(0,n.createCommentVNode)(' Dice Range Row '),(0,n.createElementVNode)('div',Bn,[(0,n.createElementVNode)('div',Sn,[(0,n.createVNode)((0,n.unref)(C),{class:'size-4 text-dungeon-gold-dim drop-shadow-sm'}),(0,n.createElementVNode)('span',Dn,[(0,n.createElementVNode)('span',_n,(0,n.toDisplayString)((0,n.unref)(Le)),1),w[45]||(w[45]=(0,n.createElementVNode)('span',{class:'text-gray-500'},'~',-1)),(0,n.createElementVNode)('span',An,(0,n.toDisplayString)((0,n.unref)($e)),1)])]),w[46]||(w[46]=(0,n.createElementVNode)('span',{class:'text-[10px] text-[#5c3a21] uppercase tracking-widest font-bold'},'Dice',-1))]),(0,n.createCommentVNode)(' Gold Row '),(0,n.createElementVNode)('div',Tn,[(0,n.createElementVNode)('div',Rn,[(0,n.createVNode)((0,n.unref)(V),{class:'size-4 drop-shadow-sm'}),(0,n.createElementVNode)('span',In,(0,n.toDisplayString)((0,n.unref)(Ie)),1)]),w[47]||(w[47]=(0,n.createElementVNode)('span',{class:'text-[10px] text-[#5c3a21] uppercase tracking-widest font-bold'},'Gold',-1))])])):(0,n.createCommentVNode)('v-if',!0)]),_:1})]),(0,n.createCommentVNode)(' Modals '),(0,n.createVNode)(yo,{title:'地牢地图','is-open':'map'===(0,n.unref)(o),onClose:w[11]||(w[11]=e=>o.value=null)},{default:(0,n.withCtx)(()=>[...w[52]||(w[52]=[(0,n.createElementVNode)('div',{class:'w-full h-64 bg-[#1a0f08] border border-dungeon-gold/20 flex items-center justify-center rounded'},[(0,n.createElementVNode)('span',{class:'font-heading text-dungeon-gold/30 text-2xl'},'MAP_RENDER_TARGET')],-1)])]),_:1},8,['is-open']),(0,n.createVNode)(yo,{title:'符文卡组','is-open':'deck'===(0,n.unref)(o),onClose:w[12]||(w[12]=e=>o.value=null)},{default:(0,n.withCtx)(()=>[(0,n.unref)(xe).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',Ln,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(xe),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:t,class:'hover:scale-105 transition-transform flex justify-center'},[(0,n.createVNode)(ht,{card:e,disabled:''},null,8,['card'])]))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('div',$n,[(0,n.createVNode)((0,n.unref)(f),{class:'size-12 text-dungeon-gold/20'}),w[53]||(w[53]=(0,n.createElementVNode)('span',{class:'font-ui text-dungeon-paper/40 text-sm'},'卡组为空 — 尚未装备技能卡',-1))]))]),_:1},8,['is-open']),(0,n.createVNode)(yo,{title:'魔法书','is-open':'magicBooks'===(0,n.unref)(o),onClose:w[13]||(w[13]=e=>o.value=null)},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',On,[w[54]||(w[54]=(0,n.createElementVNode)('div',{class:'rounded border border-dungeon-gold/25 bg-dungeon-dark/40 px-3 py-2 text-xs text-dungeon-paper/70'},[(0,n.createElementVNode)('span',{class:'text-dungeon-gold/90'},'基础'),(0,n.createTextVNode)(' 魔法书默认携带并自动进入牌库，无需手动选择。 ')],-1)),(0,n.unref)(Q).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',zn,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(Q),e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:`magic-book-${e}`,type:'button',class:(0,n.normalizeClass)(['rounded border p-3 text-left transition-colors disabled:opacity-50 disabled:cursor-not-allowed',(0,n.unref)(ae).has(e)?'border-dungeon-gold/70 bg-dungeon-brown/50 text-dungeon-gold':'border-dungeon-brown/60 bg-[#1a0f08]/70 text-dungeon-paper hover:border-dungeon-gold/50']),disabled:(0,n.unref)(oe),onClick:t=>(async e=>{if(oe.value)return;const t=ee.value,o=t.includes(e)?t.filter(t=>t!==e):[...t,e];oe.value=!0,await a.updateStatDataFields({_携带的魔法书:Array.from(new Set(o))}),oe.value=!1})(e)},[(0,n.createElementVNode)('div',Un,[(0,n.createElementVNode)('span',Gn,(0,n.toDisplayString)(e),1),(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['text-[10px] rounded border px-1.5 py-0.5',(0,n.unref)(ae).has(e)?'border-dungeon-gold/70 text-dungeon-gold':'border-dungeon-brown/70 text-dungeon-paper/60'])},(0,n.toDisplayString)((0,n.unref)(ae).has(e)?'已携带':'未携带'),3)]),(0,n.createElementVNode)('div',Hn,' 含 '+(0,n.toDisplayString)(ne(e))+' 张可用卡牌 ',1)],10,Pn))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('div',Fn,' 当前没有可选的附加魔法书。 '))])]),_:1},8,['is-open']),(0,n.createVNode)(yo,{title:'圣遗物','is-open':'relics'===(0,n.unref)(o),onClose:w[14]||(w[14]=e=>o.value=null)},{default:(0,n.withCtx)(()=>[(0,n.unref)(ke).length>0?((0,n.openBlock)(),(0,n.createElementBlock)('div',jn,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(ke),e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:e.name,type:'button',class:'relative flex flex-col items-center p-1.5 rounded border border-dungeon-brown/30 bg-[#1a0f08]/35 hover:border-dungeon-gold/40 transition-colors focus:outline-none focus:border-dungeon-gold/60',onMouseenter:t=>Ce(t,e),onMouseleave:Ve,onFocus:t=>Ce(t,e),onBlur:Ve,onTouchstartPassive:t=>((e,t)=>{const a=e.currentTarget;a&&(Ne(),I=setTimeout(()=>{Ee(a,t),L=setTimeout(()=>{A.value=null,L=null},1800)},320))})(t,e),onTouchend:we,onTouchcancel:we},[(0,n.createElementVNode)('div',Wn,[(0,n.createVNode)((0,n.unref)(y),{class:'size-9 text-dungeon-gold/75'}),(0,n.createElementVNode)('span',qn,'x'+(0,n.toDisplayString)(e.count),1)]),(0,n.createElementVNode)('span',Zn,(0,n.toDisplayString)(e.name),1)],40,Yn))),128))])):((0,n.openBlock)(),(0,n.createElementBlock)('div',Kn,[(0,n.createVNode)((0,n.unref)(y),{class:'size-12 text-dungeon-gold/20'}),w[55]||(w[55]=(0,n.createElementVNode)('span',{class:'font-ui text-dungeon-paper/40 text-sm'},'尚未获得圣遗物',-1))]))]),_:1},8,['is-open']),(0,n.unref)(A)?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:'fixed z-[220] pointer-events-none relic-tooltip',style:(0,n.normalizeStyle)({left:`${(0,n.unref)(A).x}px`,top:`${(0,n.unref)(A).y}px`})},[(0,n.createElementVNode)('div',Jn,(0,n.toDisplayString)((0,n.unref)(A).name),1),(0,n.createElementVNode)('div',Xn,(0,n.toDisplayString)((0,n.unref)(A).rarity)+'｜'+(0,n.toDisplayString)((0,n.unref)(A).category)+'｜拥有 '+(0,n.toDisplayString)((0,n.unref)(A).count),1),(0,n.createElementVNode)('div',Qn,(0,n.toDisplayString)((0,n.unref)(A).effect),1),(0,n.createElementVNode)('div',er,(0,n.toDisplayString)((0,n.unref)(A).description),1)],4)):(0,n.createCommentVNode)('v-if',!0),(0,n.createCommentVNode)(' Settings Modal '),(0,n.createVNode)(yo,{title:'系统设置','is-open':'settings'===(0,n.unref)(o),onClose:w[24]||(w[24]=e=>o.value=null)},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',tr,[(0,n.createCommentVNode)(' Text Display Settings Section '),(0,n.createElementVNode)('div',null,[w[62]||(w[62]=(0,n.createElementVNode)('h3',{class:'font-heading text-dungeon-gold text-sm tracking-widest mb-4 uppercase'},'正文显示',-1)),(0,n.createElementVNode)('div',ar,[(0,n.createCommentVNode)(' Font Size '),(0,n.createElementVNode)('div',or,[w[56]||(w[56]=(0,n.createElementVNode)('label',{class:'text-dungeon-paper/70 text-sm font-ui'},'字体大小',-1)),(0,n.createElementVNode)('div',nr,[(0,n.createElementVNode)('button',{class:'w-7 h-7 rounded border border-dungeon-brown text-dungeon-gold-dim hover:border-dungeon-gold hover:text-dungeon-gold text-sm',onClick:w[15]||(w[15]=e=>(0,n.unref)(De).fontSize=Math.max(12,(0,n.unref)(De).fontSize-1))},'−'),(0,n.createElementVNode)('span',rr,(0,n.toDisplayString)((0,n.unref)(De).fontSize)+'px',1),(0,n.createElementVNode)('button',{class:'w-7 h-7 rounded border border-dungeon-brown text-dungeon-gold-dim hover:border-dungeon-gold hover:text-dungeon-gold text-sm',onClick:w[16]||(w[16]=e=>(0,n.unref)(De).fontSize=Math.min(28,(0,n.unref)(De).fontSize+1))},'+')])]),(0,n.createCommentVNode)(' Line Height '),(0,n.createElementVNode)('div',lr,[w[57]||(w[57]=(0,n.createElementVNode)('label',{class:'text-dungeon-paper/70 text-sm font-ui'},'行间距',-1)),(0,n.createElementVNode)('div',sr,[(0,n.createElementVNode)('button',{class:'w-7 h-7 rounded border border-dungeon-brown text-dungeon-gold-dim hover:border-dungeon-gold hover:text-dungeon-gold text-sm',onClick:w[17]||(w[17]=e=>(0,n.unref)(De).lineHeight=Math.max(1.2,+((0,n.unref)(De).lineHeight-.1).toFixed(1)))},'−'),(0,n.createElementVNode)('span',cr,(0,n.toDisplayString)((0,n.unref)(De).lineHeight),1),(0,n.createElementVNode)('button',{class:'w-7 h-7 rounded border border-dungeon-brown text-dungeon-gold-dim hover:border-dungeon-gold hover:text-dungeon-gold text-sm',onClick:w[18]||(w[18]=e=>(0,n.unref)(De).lineHeight=Math.min(3,+((0,n.unref)(De).lineHeight+.1).toFixed(1)))},'+')])]),(0,n.createCommentVNode)(' Font Family '),(0,n.createElementVNode)('div',ir,[w[59]||(w[59]=(0,n.createElementVNode)('label',{class:'text-dungeon-paper/70 text-sm font-ui'},'字体样式',-1)),(0,n.withDirectives)((0,n.createElementVNode)('select',{'onUpdate:modelValue':w[19]||(w[19]=e=>(0,n.unref)(De).fontFamily=e),class:'bg-[#1a0f08] border border-dungeon-brown text-dungeon-paper text-sm px-3 py-1.5 rounded focus:outline-none focus:border-dungeon-gold font-ui'},[...w[58]||(w[58]=[(0,n.createElementVNode)('option',{value:'\'Cinzel\', serif'},'Cinzel (默认)',-1),(0,n.createElementVNode)('option',{value:'\'Inter\', sans-serif'},'Inter',-1),(0,n.createElementVNode)('option',{value:'\'MedievalSharp\', cursive'},'MedievalSharp',-1),(0,n.createElementVNode)('option',{value:'serif'},'Serif',-1),(0,n.createElementVNode)('option',{value:'sans-serif'},'Sans-serif',-1),(0,n.createElementVNode)('option',{value:'\'Microsoft YaHei\', sans-serif'},'微软雅黑',-1),(0,n.createElementVNode)('option',{value:'\'SimSun\', serif'},'宋体',-1),(0,n.createElementVNode)('option',{value:'\'KaiTi\', serif'},'楷体',-1)])],512),[[n.vModelSelect,(0,n.unref)(De).fontFamily]])]),(0,n.createCommentVNode)(' Container Width '),(0,n.createElementVNode)('div',dr,[w[60]||(w[60]=(0,n.createElementVNode)('label',{class:'text-dungeon-paper/70 text-sm font-ui'},'正文框宽度',-1)),(0,n.createElementVNode)('div',ur,[(0,n.withDirectives)((0,n.createElementVNode)('input',{'onUpdate:modelValue':w[20]||(w[20]=e=>(0,n.unref)(De).containerWidth=e),type:'range',min:'600',max:'1600',step:'50',class:'w-28 accent-dungeon-gold'},null,512),[[n.vModelText,(0,n.unref)(De).containerWidth,void 0,{number:!0}]]),(0,n.createElementVNode)('span',mr,(0,n.toDisplayString)((0,n.unref)(De).containerWidth)+'px',1)])]),(0,n.createCommentVNode)(' Background Clarity '),(0,n.createElementVNode)('div',pr,[w[61]||(w[61]=(0,n.createElementVNode)('label',{class:'text-dungeon-paper/70 text-sm font-ui'},'背景清晰度',-1)),(0,n.createElementVNode)('div',fr,[(0,n.withDirectives)((0,n.createElementVNode)('input',{'onUpdate:modelValue':w[21]||(w[21]=e=>(0,n.isRef)(j)?j.value=e:null),type:'range',min:'0',max:'0.8',step:'0.05',class:'w-28 accent-dungeon-gold'},null,512),[[n.vModelText,(0,n.unref)(j),void 0,{number:!0}]]),(0,n.createElementVNode)('span',gr,(0,n.toDisplayString)(Math.round(100*(1-(0,n.unref)(j))))+'%',1)])])])]),w[64]||(w[64]=(0,n.createElementVNode)('div',{class:'h-[1px] w-full bg-dungeon-gold/20'},null,-1)),(0,n.createCommentVNode)(' System Section '),(0,n.createElementVNode)('div',null,[w[63]||(w[63]=(0,n.createElementVNode)('h3',{class:'font-heading text-dungeon-gold text-sm tracking-widest mb-4 uppercase'},'系统',-1)),(0,n.createElementVNode)('div',yr,[(0,n.createElementVNode)('button',{class:'p-3 border border-dungeon-gold/30 hover:bg-dungeon-brown text-dungeon-gold text-sm rounded',onClick:w[22]||(w[22]=(...e)=>(0,n.unref)(he)&&(0,n.unref)(he)(...e))},' 切换全屏模式 '),(0,n.createElementVNode)('button',{class:'p-3 border border-red-900/50 hover:bg-red-950/30 text-red-500 text-sm rounded',onClick:w[23]||(w[23]=t=>e.$emit('backToSplash'))},' 退出到标题 '),(0,n.createElementVNode)('button',{class:'p-3 border border-amber-600/40 hover:bg-amber-900/20 text-amber-400 text-sm rounded col-span-2',onClick:dt},' ⚔ 进入战斗测试 ')])])])]),_:1},8,['is-open']),(0,n.createCommentVNode)(' Combat Test Builder Modal '),(0,n.createVNode)(yo,{title:'战斗测试配置','is-open':'combatTestBuilder'===(0,n.unref)(o),onClose:w[28]||(w[28]=e=>o.value=null)},{default:(0,n.withCtx)(()=>[(0,n.createElementVNode)('div',br,['deck'===(0,n.unref)(d)?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createElementVNode)('div',vr,[w[65]||(w[65]=(0,n.createElementVNode)('h3',{class:'font-heading text-dungeon-gold text-sm tracking-widest uppercase'},'步骤1：组建卡组（9张）',-1)),(0,n.createElementVNode)('span',hr,(0,n.toDisplayString)((0,n.unref)(u).length)+'/9',1)]),(0,n.createElementVNode)('div',xr,[(0,n.createElementVNode)('div',kr,[w[66]||(w[66]=(0,n.createElementVNode)('span',{class:'text-[11px] text-dungeon-paper/70'},'已选卡牌（点击移除）',-1)),(0,n.createElementVNode)('span',Nr,(0,n.toDisplayString)((0,n.unref)(u).length)+'/9',1)]),(0,n.createElementVNode)('div',Er,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(le),e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:`selected-card-${e.idx}`,class:'w-full text-left flex items-stretch gap-2 rounded border border-dungeon-gold/20 bg-[#1a0f08]/70 px-2 py-2 hover:border-dungeon-gold/50 transition-colors',onClick:t=>{var a;(a=e.idx)<0||a>=u.value.length||u.value.splice(a,1)}},[(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['w-1.5 rounded',be(e.card.category)])},null,2),(0,n.createElementVNode)('div',Vr,[(0,n.createElementVNode)('div',wr,[(0,n.createElementVNode)('span',Mr,(0,n.toDisplayString)(e.card.name),1),(0,n.createElementVNode)('span',{class:(0,n.normalizeClass)(['text-[10px] px-1 rounded border',ge(e.card.type)])},(0,n.toDisplayString)(e.card.type),3),(0,n.createElementVNode)('span',Br,(0,n.toDisplayString)(e.card.category),1)]),(0,n.createElementVNode)('div',{class:'mt-1 text-[10px] text-dungeon-paper/70 truncate',title:e.card.description},(0,n.toDisplayString)(e.card.description),9,Sr)]),w[67]||(w[67]=(0,n.createElementVNode)('span',{class:'text-[10px] text-red-300/85 shrink-0 self-center'},'移除',-1))],8,Cr))),128)),0===(0,n.unref)(le).length?((0,n.openBlock)(),(0,n.createElementBlock)('div',Dr,' 尚未选择卡牌 ')):(0,n.createCommentVNode)('v-if',!0)]),(0,n.createElementVNode)('div',_r,[((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(9,e=>(0,n.createElementVNode)('div',{key:`deck-slot-${e}`,class:(0,n.normalizeClass)(['h-2 rounded border',e<=(0,n.unref)(u).length?'bg-dungeon-gold/70 border-dungeon-gold/60':'bg-black/20 border-dungeon-brown/40'])},null,2)),64))])]),(0,n.createElementVNode)('div',Ar,[(0,n.createElementVNode)('div',Tr,[(0,n.createElementVNode)('div',Rr,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(K),e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:`card-tab-${e}`,class:(0,n.normalizeClass)(['h-7 px-3 rounded border text-xs shrink-0 transition-colors',(0,n.unref)(S)===e?'bg-dungeon-gold/20 border-dungeon-gold/70 text-dungeon-gold':'bg-[#1a0f08]/80 border-dungeon-brown/70 text-dungeon-paper/70 hover:border-dungeon-gold/50 hover:text-dungeon-gold/90']),onClick:t=>S.value=e},(0,n.toDisplayString)(e),11,Ir))),128))]),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(J),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:`card-category-${e.category}`,class:'rounded border border-dungeon-brown/40 bg-[#110a06]/40 p-2'},[(0,n.createElementVNode)('div',Lr,[(0,n.createElementVNode)('h4',$r,(0,n.toDisplayString)(e.category),1),(0,n.createElementVNode)('span',Or,(0,n.toDisplayString)(e.cards.length)+' 张',1)]),(0,n.createElementVNode)('div',zr,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.cards,t=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:`all-card-${e.category}-${t.id}`,class:'hover:scale-105 transition-transform flex flex-col items-center rounded border border-dungeon-brown/40 bg-[#1a0f08]/50 p-2 disabled:opacity-40 disabled:cursor-not-allowed',disabled:(0,n.unref)(u).length>=9,onClick:e=>{return a=t.name,void(u.value.length>=9||u.value.push(a));var a}},[(0,n.createVNode)(ht,{card:t,disabled:''},null,8,['card']),w[68]||(w[68]=(0,n.createElementVNode)('span',{class:'mt-1 text-[10px] text-dungeon-gold/80'},'点击加入',-1))],8,Pr))),128))])]))),128)),0===(0,n.unref)(J).length?((0,n.openBlock)(),(0,n.createElementBlock)('div',Ur,' 当前分类暂无可选卡牌 ')):(0,n.createCommentVNode)('v-if',!0)])]),(0,n.createElementVNode)('div',Gr,[(0,n.createElementVNode)('button',{class:'px-4 py-2 rounded border border-dungeon-brown text-dungeon-paper/70 hover:border-dungeon-gold/50',onClick:w[25]||(w[25]=e=>o.value=null)},' 取消 '),(0,n.createElementVNode)('button',{class:'px-4 py-2 rounded border border-dungeon-gold/40 text-dungeon-gold hover:bg-dungeon-brown disabled:opacity-40 disabled:cursor-not-allowed',disabled:9!==(0,n.unref)(u).length,onClick:ut},' 下一步：选择魔物 ',8,Hr)])],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)('div',Fr,[w[69]||(w[69]=(0,n.createElementVNode)('h3',{class:'font-heading text-dungeon-gold text-sm tracking-widest uppercase'},'步骤2：选择魔物',-1)),(0,n.createElementVNode)('span',jr,'已选卡组: 9张｜圣遗物: '+(0,n.toDisplayString)((0,n.unref)(Se))+' 件',1)]),(0,n.createElementVNode)('div',Yr,[(0,n.createElementVNode)('div',Wr,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(ce),e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:`enemy-${e}`,class:(0,n.normalizeClass)(['text-left px-3 py-2 rounded border text-xs transition-colors',(0,n.unref)(m)===e?'border-dungeon-gold bg-dungeon-brown/60 text-dungeon-gold':'border-dungeon-brown/60 bg-[#1a0f08] text-dungeon-paper hover:border-dungeon-gold/60']),onClick:t=>m.value=e},(0,n.toDisplayString)(e),11,qr))),128))])]),(0,n.createElementVNode)('div',Zr,[w[70]||(w[70]=(0,n.createElementVNode)('div',{class:'mb-2 flex items-center justify-between'},[(0,n.createElementVNode)('h4',{class:'font-heading text-dungeon-gold text-xs tracking-wider uppercase'},'圣遗物自选'),(0,n.createElementVNode)('span',{class:'text-[11px] text-dungeon-paper/60'},'将同步写入 MVU `_圣遗物`')],-1)),(0,n.createElementVNode)('div',Kr,[(0,n.createElementVNode)('div',Jr,[(0,n.createElementVNode)('div',Xr,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(ue),e=>((0,n.openBlock)(),(0,n.createElementBlock)('button',{key:`relic-tab-${e}`,class:(0,n.normalizeClass)(['h-7 px-3 rounded border text-xs shrink-0 transition-colors',(0,n.unref)(D)===e?'bg-dungeon-gold/20 border-dungeon-gold/70 text-dungeon-gold':'bg-[#1a0f08]/80 border-dungeon-brown/70 text-dungeon-paper/70 hover:border-dungeon-gold/50 hover:text-dungeon-gold/90']),onClick:t=>D.value=e},(0,n.toDisplayString)(e),11,Qr))),128))]),((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,n.unref)(me),e=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:`relic-category-${e.category}`,class:'rounded border border-dungeon-brown/40 bg-[#110a06]/40 p-2'},[(0,n.createElementVNode)('div',el,[(0,n.createElementVNode)('h5',tl,(0,n.toDisplayString)(e.category),1),(0,n.createElementVNode)('span',al,(0,n.toDisplayString)(e.relics.length)+' 件',1)]),(0,n.createElementVNode)('div',ol,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.relics,t=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:`test-relic-${e.category}-${t.id}`,class:'rounded border border-dungeon-brown/50 bg-[#1a0f08]/70 p-2'},[(0,n.createElementVNode)('div',nl,[(0,n.createElementVNode)('div',rl,[(0,n.createElementVNode)('div',ll,(0,n.toDisplayString)(t.name),1),(0,n.createElementVNode)('div',sl,(0,n.toDisplayString)(t.rarity),1)]),(0,n.createElementVNode)('div',cl,[(0,n.createElementVNode)('button',{class:'h-6 w-6 rounded border border-dungeon-brown text-dungeon-paper/70 hover:border-dungeon-gold',onClick:e=>{return a=t.name,void ct(a,st(a)-1);var a}},' - ',8,il),(0,n.createElementVNode)('span',dl,(0,n.toDisplayString)(st(t.name)),1),(0,n.createElementVNode)('button',{class:'h-6 w-6 rounded border border-dungeon-gold/40 text-dungeon-gold hover:bg-dungeon-brown',onClick:e=>{return a=t.name,void ct(a,st(a)+1);var a}},' + ',8,ul)])]),(0,n.createElementVNode)('div',ml,(0,n.toDisplayString)(t.effect),1)]))),128))])]))),128)),0===(0,n.unref)(me).length?((0,n.openBlock)(),(0,n.createElementBlock)('div',pl,' 当前分类暂无可选圣遗物 ')):(0,n.createCommentVNode)('v-if',!0)])])]),(0,n.createElementVNode)('label',fl,[(0,n.withDirectives)((0,n.createElementVNode)('input',{'onUpdate:modelValue':w[26]||(w[26]=e=>(0,n.isRef)(T)?T.value=e:null),type:'checkbox',class:'accent-amber-500'},null,512),[[n.vModelCheckbox,(0,n.unref)(T)]]),w[71]||(w[71]=(0,n.createElementVNode)('span',null,'本场测试启用 999 开局（敌我双方 HP/MP=999）',-1))]),(0,n.createElementVNode)('div',gl,[(0,n.createElementVNode)('button',{class:'px-4 py-2 rounded border border-dungeon-brown text-dungeon-paper/70 hover:border-dungeon-gold/50',onClick:w[27]||(w[27]=e=>d.value='deck')},' 返回改卡组 '),(0,n.createElementVNode)('button',{class:'px-4 py-2 rounded border border-amber-600/40 text-amber-400 hover:bg-amber-900/20 disabled:opacity-40 disabled:cursor-not-allowed',disabled:!(0,n.unref)(m),onClick:mt},' 开始战斗测试 ',8,yl)])],64))])]),_:1},8,['is-open']),(0,n.createCommentVNode)(' Save/Load Panel '),(0,n.createVNode)(Lo,{'is-open':(0,n.unref)(a).isSaveLoadOpen,entries:(0,n.unref)(a).saveEntries,onClose:w[29]||(w[29]=e=>(0,n.unref)(a).isSaveLoadOpen=!1)},null,8,['is-open','entries']),(0,n.createCommentVNode)(' Variable Update Viewer '),(0,n.createVNode)(yo,{title:'变量更新','is-open':(0,n.unref)(l),onClose:w[30]||(w[30]=e=>l.value=!1)},{default:(0,n.withCtx)(()=>[(0,n.unref)(a).variableUpdateText?((0,n.openBlock)(),(0,n.createElementBlock)('div',bl,[(0,n.createElementVNode)('pre',vl,(0,n.toDisplayString)((0,n.unref)(a).variableUpdateText),1)])):((0,n.openBlock)(),(0,n.createElementBlock)('div',hl,' 当前楼层没有检测到变量更新标签（<UpdateVariable> 或 <update>）。 '))]),_:1},8,['is-open']),(0,n.createCommentVNode)(' Combat Overlay '),(0,n.createVNode)(n.Transition,{name:'combat-fade'},{default:(0,n.withCtx)(()=>[(0,n.unref)(c)?((0,n.openBlock)(),(0,n.createElementBlock)('div',xl,[(0,n.createVNode)(uo,{class:'w-full h-full','enemy-name':(0,n.unref)(i),'player-deck':(0,n.unref)(xe),'player-relics':(0,n.unref)(Be),'test-start-at-999':(0,n.unref)(R),'initial-player-stats':{hp:(0,n.unref)(Ae),maxHp:(0,n.unref)(Te),mp:(0,n.unref)(Re),minDice:(0,n.unref)(Le)||1,maxDice:(0,n.unref)($e)||6,effects:[{type:(0,n.unref)(M).MANA_SPRING,stacks:1,polarity:'buff'}]},onEndCombat:pt,onOpenDeck:w[31]||(w[31]=e=>o.value='deck'),onOpenRelics:w[32]||(w[32]=e=>o.value='relics')},null,8,['enemy-name','player-deck','player-relics','test-start-at-999','initial-player-stats']),(0,n.createCommentVNode)(' Exit combat button '),(0,n.createElementVNode)('button',{class:'absolute top-4 right-4 z-[110] px-4 py-2 bg-red-950/80 border border-red-700/50 text-red-300 text-sm rounded-lg hover:bg-red-900/80 hover:border-red-600 transition-all backdrop-blur-sm',onClick:w[33]||(w[33]=e=>c.value=!1)},' ✕ 退出战斗 ')])):(0,n.createCommentVNode)('v-if',!0)]),_:1})]))}}),El=(0,io.A)(Nl,[['__scopeId','data-v-a9a75906']]),Cl=m('play',[['path',{d:'M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z',key:'10ikf1'}]]),Vl=m('star',[['path',{d:'M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z',key:'r04s7s'}]]),wl={class:'z-10 flex flex-col items-center space-y-12'},Ml={class:'flex flex-col space-y-4 w-64'},Bl={disabled:'',class:'group px-8 py-3 bg-black/50 border border-dungeon-brown text-gray-600 font-heading tracking-widest cursor-not-allowed flex items-center justify-center space-x-2'},Sl=(0,n.defineComponent)({__name:'SplashScreen',emits:['start','toggleFullscreen'],setup(e){const t=(0,n.ref)(!1),a=['https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E4%B8%BB%E9%A1%B5%E8%83%8C%E6%99%AF/%E8%83%8C%E6%99%AF1.png','https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E4%B8%BB%E9%A1%B5%E8%83%8C%E6%99%AF/%E8%83%8C%E6%99%AF2.png','https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E4%B8%BB%E9%A1%B5%E8%83%8C%E6%99%AF/%E8%83%8C%E6%99%AF3.png','https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E4%B8%BB%E9%A1%B5%E8%83%8C%E6%99%AF/%E8%83%8C%E6%99%AF4.png','https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E4%B8%BB%E9%A1%B5%E8%83%8C%E6%99%AF/%E8%83%8C%E6%99%AF5.png'],o=(0,n.ref)(a[0]),r=(0,n.ref)(null),l=(0,n.ref)(null),s=(0,n.ref)(!1),c=(0,n.ref)(!0),i=(0,n.ref)(!1);let d=null,u=0;const m=e=>{const t=e?a.filter(t=>t!==e):a;return t[Math.floor(Math.random()*t.length)]??a[0]},p=async()=>{if(i.value)return;const e=m(o.value);if(e===o.value)return;const t=++u;var a;d&&(clearTimeout(d),d=null),await(a=e,new Promise(e=>{let t=!1;const o=()=>{t||(t=!0,e())},n=new Image;n.onload=o,n.onerror=o,n.src=a,setTimeout(o,1200)})),t===u&&(i.value=!0,l.value=o.value,r.value=e,c.value=!0,s.value=!1,await(0,n.nextTick)(),await new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(()=>e()))),t===u&&(s.value=!0,c.value=!1,d=setTimeout(()=>{t===u&&(o.value=e,r.value=null,l.value=null,i.value=!1,d=null)},700)))};return(0,n.onMounted)(()=>{o.value=m(),t.value=!0}),(0,n.onBeforeUnmount)(()=>{u+=1,d&&(clearTimeout(d),d=null)}),(e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',{class:(0,n.normalizeClass)(['relative w-full flex flex-col items-center justify-center bg-[#050505] text-dungeon-paper overflow-hidden transition-opacity duration-1000',(0,n.unref)(t)?'opacity-100':'opacity-0']),style:{aspectRatio:'16/9'}},[(0,n.createElementVNode)('div',{class:'absolute inset-0 z-0 bg-cover bg-center bg-no-repeat',style:(0,n.normalizeStyle)({backgroundImage:`url('${(0,n.unref)(o)}')`})},null,4),(0,n.unref)(r)?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:0,class:(0,n.normalizeClass)(['absolute inset-0 z-0 bg-cover bg-center bg-no-repeat transition-opacity duration-700 ease-in-out',(0,n.unref)(s)?'opacity-100':'opacity-0']),style:(0,n.normalizeStyle)({backgroundImage:`url('${(0,n.unref)(r)}')`})},null,6)):(0,n.createCommentVNode)('v-if',!0),(0,n.unref)(l)?((0,n.openBlock)(),(0,n.createElementBlock)('div',{key:1,class:(0,n.normalizeClass)(['absolute inset-0 z-0 bg-cover bg-center bg-no-repeat transition-opacity duration-700 ease-in-out',(0,n.unref)(c)?'opacity-100':'opacity-0']),style:(0,n.normalizeStyle)({backgroundImage:`url('${(0,n.unref)(l)}')`})},null,6)):(0,n.createCommentVNode)('v-if',!0),(0,n.createElementVNode)('button',{type:'button',class:'absolute inset-0 z-[1] bg-transparent cursor-pointer focus:outline-none','aria-label':'点击切换背景',onClick:p}),(0,n.createCommentVNode)(' Dynamic Background '),a[6]||(a[6]=(0,n.createElementVNode)('div',{class:'absolute inset-0 bg-[radial-gradient(circle_at_50%_30%,_rgba(60,40,30,0.3),_#000000_90%)] z-0'},null,-1)),a[7]||(a[7]=(0,n.createElementVNode)('div',{class:'absolute inset-0 opacity-30 z-0 mix-blend-overlay animate-pulse-slow bg-[length:200px] bg-repeat',style:{'background-image':'url(\'https://www.transparenttextures.com/patterns/dark-matter.png\')'}},null,-1)),(0,n.createCommentVNode)(' Ornamental Frame '),a[8]||(a[8]=(0,n.createElementVNode)('div',{class:'absolute top-8 left-8 w-64 h-64 border-t-2 border-l-2 border-dungeon-brown opacity-50'},null,-1)),a[9]||(a[9]=(0,n.createElementVNode)('div',{class:'absolute bottom-8 right-8 w-64 h-64 border-b-2 border-r-2 border-dungeon-brown opacity-50'},null,-1)),(0,n.createCommentVNode)(' Fullscreen Button (Top Right, Small) '),(0,n.createElementVNode)('button',{class:'absolute top-4 right-4 z-50 w-8 h-8 rounded flex items-center justify-center bg-dungeon-dark/60 border border-dungeon-brown/50 text-dungeon-gold-dim hover:bg-dungeon-brown hover:text-dungeon-gold hover:border-dungeon-gold/50 transition-all duration-300',onClick:a[0]||(a[0]=t=>e.$emit('toggleFullscreen'))},[(0,n.createVNode)((0,n.unref)(v),{class:'size-4'})]),(0,n.createCommentVNode)(' Main Content '),(0,n.createElementVNode)('div',wl,[(0,n.createCommentVNode)(' Title Section '),a[5]||(a[5]=(0,n.createStaticVNode)('<div class="text-center space-y-4 relative"><div class="w-1 h-24 bg-gradient-to-b from-transparent via-dungeon-gold to-transparent absolute -left-12 top-0 opacity-50"></div><div class="w-1 h-24 bg-gradient-to-b from-transparent via-dungeon-gold to-transparent absolute -right-12 top-0 opacity-50"></div><h1 class="text-6xl md:text-8xl font-heading text-transparent bg-clip-text bg-gradient-to-b from-[#f9e6a0] to-dungeon-gold-dim drop-shadow-[0_4px_10px_rgba(0,0,0,0.8)] tracking-wide"> 欲望地牢 </h1><h2 class="text-xl md:text-2xl font-body text-[#f9e6a0] tracking-[0.35em] uppercase border-t border-dungeon-brown pt-4 mt-2"> Created by Vin </h2></div>',1)),(0,n.createCommentVNode)(' Menu Actions '),(0,n.createElementVNode)('div',Ml,[(0,n.createElementVNode)('button',{class:'group relative px-8 py-4 bg-[#1a0f08] hover:bg-dungeon-brown border border-dungeon-gold/30 hover:border-dungeon-gold transition-all duration-300 flex items-center justify-center space-x-3 overflow-hidden',onClick:a[1]||(a[1]=t=>e.$emit('start'))},[a[2]||(a[2]=(0,n.createElementVNode)('div',{class:'absolute inset-0 w-0 bg-dungeon-gold/10 transition-all duration-300 group-hover:w-full'},null,-1)),(0,n.createVNode)((0,n.unref)(Cl),{class:'size-5 text-dungeon-gold group-hover:scale-110 transition-transform'}),a[3]||(a[3]=(0,n.createElementVNode)('span',{class:'font-heading text-lg tracking-widest text-dungeon-paper group-hover:text-dungeon-gold'},' 进入深渊 ',-1))]),(0,n.createElementVNode)('button',Bl,[(0,n.createVNode)((0,n.unref)(Vl),{class:'size-4'}),a[4]||(a[4]=(0,n.createElementVNode)('span',null,'魔女的收藏',-1))])])])],2))}}),Dl={class:'w-full relative'},_l=(0,n.defineComponent)({__name:'App',setup(e){const t=(0,n.ref)('SPLASH'),a=Me();async function o(){t.value='GAME',await(0,n.nextTick)(),await a.initialize()}return(e,a)=>((0,n.openBlock)(),(0,n.createElementBlock)('div',Dl,[(0,n.createCommentVNode)(' Splash Screen '),(0,n.createVNode)(n.Transition,{name:'scene-fade',mode:'out-in'},{default:(0,n.withCtx)(()=>['SPLASH'===(0,n.unref)(t)?((0,n.openBlock)(),(0,n.createBlock)(Sl,{key:'splash',onStart:o,onToggleFullscreen:(0,n.unref)(he)},null,8,['onToggleFullscreen'])):((0,n.openBlock)(),(0,n.createBlock)(El,{key:'game',onBackToSplash:a[0]||(a[0]=e=>t.value='SPLASH')}))]),_:1})]))}}),Al=(0,io.A)(_l,[['__scopeId','data-v-329e49cc']]);$(()=>{const t=(0,n.createApp)(Al).use(e());t.mount('#app'),$(window).on('pagehide',()=>t.unmount())});
//# sourceMappingURL=index.js.map</script><style>@import url(https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&family=MedievalSharp&display=swap);
.combat-float-number[data-v-48ecbcdc]{animation-name:combat-float-up-48ecbcdc;animation-timing-function:ease-out;animation-fill-mode:forwards;line-height:1}.player-played-card[data-v-48ecbcdc]{width:10rem;z-index:56;will-change:left,top,transform,opacity}.player-played-card-bob[data-v-48ecbcdc]{animation:player-played-card-bob-48ecbcdc calc(1.2s / var(--combat-speed-multiplier)) ease-in-out infinite}@keyframes player-played-card-bob-48ecbcdc{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}.resolved-card-visual[data-v-48ecbcdc]{position:absolute;width:10rem;transform:translate(-50%,-50%);z-index:58;pointer-events:none}.resolved-card-visual--player[data-v-48ecbcdc]{left:29%;top:23%}.resolved-card-visual--enemy[data-v-48ecbcdc]{left:63%;top:23%}.resolved-card-visual-inner[data-v-48ecbcdc]{opacity:0.96;transform:scale(1);will-change:transform,opacity,filter;filter:drop-shadow(0 0 18px rgba(0,0,0,0.45))}.resolved-card-visual-inner--player.resolved-card-visual-inner--attack[data-v-48ecbcdc]{animation:card-attack-player-48ecbcdc calc(0.93s / var(--combat-speed-multiplier)) cubic-bezier(0.18,0.9,0.2,1) forwards}.resolved-card-visual-inner--enemy.resolved-card-visual-inner--attack[data-v-48ecbcdc]{animation:card-attack-enemy-48ecbcdc calc(0.93s / var(--combat-speed-multiplier)) cubic-bezier(0.18,0.9,0.2,1) forwards}.resolved-card-visual-inner--player.resolved-card-visual-inner--self[data-v-48ecbcdc]{animation:card-self-player-48ecbcdc calc(0.57s / var(--combat-speed-multiplier)) ease-out forwards}.resolved-card-visual-inner--enemy.resolved-card-visual-inner--self[data-v-48ecbcdc]{animation:card-self-enemy-48ecbcdc calc(0.57s / var(--combat-speed-multiplier)) ease-out forwards}.resolved-card-visual-inner--player.resolved-card-visual-inner--fade[data-v-48ecbcdc],.resolved-card-visual-inner--enemy.resolved-card-visual-inner--fade[data-v-48ecbcdc]{animation:card-fade-only-48ecbcdc calc(0.57s / var(--combat-speed-multiplier)) ease-out forwards}@keyframes card-attack-player-48ecbcdc{0%{opacity:0.96;transform:translate3d(0,0,0) scale(1)}38%{opacity:1;transform:translate3d(-90px,40px,0) scale(1.03)}78%{opacity:1;transform:translate3d(56vw,15vh,0) scale(0.79)}100%{opacity:0;transform:translate3d(58vw,16vh,0) scale(0.74)}}@keyframes card-attack-enemy-48ecbcdc{0%{opacity:0.96;transform:translate3d(0,0,0) scale(1)}38%{opacity:1;transform:translate3d(90px,-40px,0) scale(1.03)}78%{opacity:1;transform:translate3d(-50vw,33vh,0) scale(0.79)}100%{opacity:0;transform:translate3d(-52vw,34vh,0) scale(0.74)}}@keyframes card-self-player-48ecbcdc{0%{opacity:0.96;transform:translate3d(0,0,0) scale(1)}35%{opacity:1;transform:translate3d(24px,-10px,0) scale(1.02)}76%{opacity:1;transform:translate3d(-170px,300px,0) scale(0.78)}100%{opacity:0;transform:translate3d(-178px,308px,0) scale(0.74)}}@keyframes card-self-enemy-48ecbcdc{0%{opacity:0.96;transform:translate3d(0,0,0) scale(1)}35%{opacity:1;transform:translate3d(-24px,10px,0) scale(1.02)}76%{opacity:1;transform:translate3d(180px,120px,0) scale(0.78)}100%{opacity:0;transform:translate3d(188px,126px,0) scale(0.74)}}@keyframes card-fade-only-48ecbcdc{0%{opacity:0.96;transform:scale(1)}100%{opacity:0;transform:scale(0.96)}}@keyframes combat-float-up-48ecbcdc{0%{opacity:0;transform:translate(-50%,0) scale(0.85)}15%{opacity:1}100%{opacity:0;transform:translate(-50%,-42px) scale(1.05)}}.combat-root[data-v-48ecbcdc] .animate-float{animation-duration:calc(6s / var(--combat-speed-multiplier))}.combat-root[data-v-48ecbcdc] .animate-clash-left,.combat-root[data-v-48ecbcdc] .animate-clash-right,.combat-root[data-v-48ecbcdc] .animate-shatter{animation-duration:calc(0.6s / var(--combat-speed-multiplier))}.combat-root[data-v-48ecbcdc] .animate-shake{animation-duration:calc(0.5s / var(--combat-speed-multiplier))}.combat-root[data-v-48ecbcdc] .animate-impact-shake{animation:impact-nudge-48ecbcdc calc(0.2s / var(--combat-speed-multiplier)) ease-out}@keyframes impact-nudge-48ecbcdc{0%{transform:translate3d(0,0,0)}25%{transform:translate3d(-3px,2px,0)}50%{transform:translate3d(3px,-2px,0)}75%{transform:translate3d(-2px,1px,0)}100%{transform:translate3d(0,0,0)}}.effect-icon-btn[data-v-48ecbcdc]{position:relative;width:1.75rem;height:1.75rem;border-radius:0.35rem;border-width:1px;display:inline-flex;align-items:center;justify-content:center;transition:transform calc(0.14s / var(--combat-speed-multiplier)) ease,filter calc(0.14s / var(--combat-speed-multiplier)) ease}.effect-icon-btn[data-v-48ecbcdc]:hover,.effect-icon-btn[data-v-48ecbcdc]:focus-visible{transform:translateY(-1px);filter:brightness(1.12);outline:none}.status-effect-value-btn[data-v-48ecbcdc]{background:transparent;border:none;padding:0;margin:0;border-radius:0.25rem;cursor:help;transition:filter calc(0.12s / var(--combat-speed-multiplier)) ease}.status-effect-value-btn[data-v-48ecbcdc]:hover,.status-effect-value-btn[data-v-48ecbcdc]:focus-visible{filter:brightness(1.08);outline:none}.effect-stack-badge[data-v-48ecbcdc]{position:absolute;right:-0.28rem;bottom:-0.28rem;min-width:0.9rem;height:0.9rem;border-radius:999px;background:rgba(8,12,24,0.95);border:1px solid rgba(255,255,255,0.24);color:rgba(255,255,255,0.9);font-size:9px;line-height:1;font-weight:700;display:inline-flex;align-items:center;justify-content:center;padding:0 2px}.effect-tooltip[data-v-48ecbcdc]{max-width:16rem;background:rgba(8,10,16,0.96);border:1px solid rgba(255,255,255,0.16);border-radius:0.5rem;box-shadow:0 8px 24px rgba(0,0,0,0.42);padding:0.5rem 0.6rem}.effect-tooltip--center[data-v-48ecbcdc]{transform:translate(-50%,calc(-100% - 8px))}.effect-tooltip--right[data-v-48ecbcdc]{transform:translate(0,calc(-100% - 8px))}.effect-tooltip-name[data-v-48ecbcdc]{color:rgba(255,255,255,0.95);font-size:11px;font-weight:700;line-height:1.2}.effect-tooltip-desc[data-v-48ecbcdc]{margin-top:0.25rem;color:rgba(229,231,235,0.92);font-size:10px;line-height:1.4}.effect-tooltip-stacks[data-v-48ecbcdc]{margin-top:0.25rem;color:rgba(250,204,21,0.92);font-size:10px;line-height:1.2;font-weight:700}.poison-wave-bar[data-v-48ecbcdc]{background-image:linear-gradient(180deg,rgba(16,185,129,0.28),rgba(22,163,74,0.8)),repeating-linear-gradient(-25deg,rgba(255,255,255,0.18) 0px,rgba(255,255,255,0.18) 10px,rgba(255,255,255,0) 10px,rgba(255,255,255,0) 20px);background-size:100% 100%,220% 100%;background-position:0 0,0 0;animation:poison-wave-slide-48ecbcdc calc(2.1s / var(--combat-speed-multiplier)) linear infinite}@keyframes poison-wave-slide-48ecbcdc{from{background-position:0 0,0 0}to{background-position:0 0,220% 0}}.invalid-card-shake[data-v-48ecbcdc]{position:relative;animation:invalid-card-shake-48ecbcdc calc(0.32s / var(--combat-speed-multiplier)) ease}@keyframes invalid-card-shake-48ecbcdc{0%{left:0}18%{left:-8px}36%{left:7px}54%{left:-5px}72%{left:4px}100%{left:0}}

.status-slide-enter-active[data-v-a9a75906],.status-slide-leave-active[data-v-a9a75906]{transition:all 0.3s ease}.status-slide-enter-from[data-v-a9a75906],.status-slide-leave-to[data-v-a9a75906]{opacity:0;transform:translateY(10px)}.stat-container-heart[data-v-a9a75906]{filter:drop-shadow(0 0 6px rgba(180,20,20,0.4));transition:filter 0.3s ease}.stat-container-heart[data-v-a9a75906]:hover{filter:drop-shadow(0 0 12px rgba(200,30,30,0.7))}.stat-container-mana[data-v-a9a75906]{filter:drop-shadow(0 0 6px rgba(50,50,200,0.4));transition:filter 0.3s ease}.stat-container-mana[data-v-a9a75906]:hover{filter:drop-shadow(0 0 12px rgba(60,60,230,0.7))}.combat-fade-enter-active[data-v-a9a75906],.combat-fade-leave-active[data-v-a9a75906]{transition:opacity 0.4s ease}.combat-fade-enter-from[data-v-a9a75906],.combat-fade-leave-to[data-v-a9a75906]{opacity:0}.relic-tooltip[data-v-a9a75906]{width:15rem;transform:translate(-50%,calc(-100% - 8px));background:rgba(8,10,16,0.96);border:1px solid rgba(255,255,255,0.16);border-radius:0.5rem;box-shadow:0 8px 24px rgba(0,0,0,0.42);padding:0.5rem 0.6rem}.relic-tooltip-name[data-v-a9a75906]{color:rgba(255,255,255,0.95);font-size:11px;font-weight:700;line-height:1.2}.relic-tooltip-meta[data-v-a9a75906]{margin-top:0.25rem;color:rgba(250,204,21,0.9);font-size:10px;line-height:1.2}.relic-tooltip-effect[data-v-a9a75906]{margin-top:0.35rem;color:rgba(229,231,235,0.95);font-size:10px;line-height:1.35}.relic-tooltip-desc[data-v-a9a75906]{margin-top:0.28rem;color:rgba(209,213,219,0.9);font-size:10px;line-height:1.35}

.scene-fade-enter-active[data-v-329e49cc]{transition:opacity 0.8s ease,transform 0.8s ease}.scene-fade-leave-active[data-v-329e49cc]{transition:opacity 0.5s ease,transform 0.5s ease}.scene-fade-enter-from[data-v-329e49cc]{opacity:0;transform:scale(1.02)}.scene-fade-leave-to[data-v-329e49cc]{opacity:0;transform:scale(0.98)}

/*! tailwindcss v4.2.0 | MIT License | https://tailwindcss.com */@layer properties;@layer theme,base,components,utilities;@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-200:oklch(88.5% 0.062 18.334);--color-red-300:oklch(80.8% 0.114 19.571);--color-red-400:oklch(70.4% 0.191 22.216);--color-red-500:oklch(63.7% 0.237 25.331);--color-red-600:oklch(57.7% 0.245 27.325);--color-red-700:oklch(50.5% 0.213 27.518);--color-red-800:oklch(44.4% 0.177 26.899);--color-red-900:oklch(39.6% 0.141 25.723);--color-red-950:oklch(25.8% 0.092 26.042);--color-orange-300:oklch(83.7% 0.128 66.29);--color-orange-500:oklch(70.5% 0.213 47.604);--color-amber-200:oklch(92.4% 0.12 95.746);--color-amber-300:oklch(87.9% 0.169 91.605);--color-amber-400:oklch(82.8% 0.189 84.429);--color-amber-500:oklch(76.9% 0.188 70.08);--color-amber-600:oklch(66.6% 0.179 58.318);--color-amber-900:oklch(41.4% 0.112 45.904);--color-yellow-300:oklch(90.5% 0.182 98.111);--color-yellow-400:oklch(85.2% 0.199 91.936);--color-yellow-500:oklch(79.5% 0.184 86.047);--color-yellow-800:oklch(47.6% 0.114 61.907);--color-yellow-900:oklch(42.1% 0.095 57.708);--color-yellow-950:oklch(28.6% 0.066 53.813);--color-green-300:oklch(87.1% 0.15 154.449);--color-green-400:oklch(79.2% 0.209 151.711);--color-green-600:oklch(62.7% 0.194 149.214);--color-emerald-200:oklch(90.5% 0.093 164.15);--color-emerald-300:oklch(84.5% 0.143 164.978);--color-emerald-400:oklch(76.5% 0.177 163.223);--color-emerald-500:oklch(69.6% 0.17 162.48);--color-emerald-900:oklch(37.8% 0.077 168.94);--color-emerald-950:oklch(26.2% 0.051 172.552);--color-cyan-300:oklch(86.5% 0.127 207.078);--color-sky-300:oklch(82.8% 0.111 230.318);--color-blue-300:oklch(80.9% 0.105 251.813);--color-blue-400:oklch(70.7% 0.165 254.624);--color-blue-500:oklch(62.3% 0.214 259.815);--color-blue-900:oklch(37.9% 0.146 265.522);--color-indigo-200:oklch(87% 0.065 274.039);--color-indigo-400:oklch(67.3% 0.182 276.935);--color-indigo-900:oklch(35.9% 0.144 278.697);--color-violet-300:oklch(81.1% 0.111 293.571);--color-purple-400:oklch(71.4% 0.203 305.504);--color-purple-700:oklch(49.6% 0.265 301.924);--color-purple-900:oklch(38.1% 0.176 304.987);--color-purple-950:oklch(29.1% 0.149 302.717);--color-slate-200:oklch(92.9% 0.013 255.508);--color-slate-400:oklch(70.4% 0.04 256.788);--color-slate-800:oklch(27.9% 0.041 260.031);--color-gray-300:oklch(87.2% 0.01 258.338);--color-gray-400:oklch(70.7% 0.022 261.325);--color-gray-500:oklch(55.1% 0.027 264.364);--color-gray-600:oklch(44.6% 0.03 256.802);--color-gray-700:oklch(37.3% 0.034 259.733);--color-gray-800:oklch(27.8% 0.033 256.848);--color-zinc-500:oklch(55.2% 0.016 285.938);--color-black:#000;--color-white:#fff;--spacing:0.25rem;--container-sm:24rem;--container-lg:32rem;--container-xl:36rem;--container-2xl:42rem;--container-3xl:48rem;--container-4xl:56rem;--text-xs:0.75rem;--text-xs--line-height:calc(1 / 0.75);--text-sm:0.875rem;--text-sm--line-height:calc(1.25 / 0.875);--text-base:1rem;--text-base--line-height:calc(1.5 / 1);--text-lg:1.125rem;--text-lg--line-height:calc(1.75 / 1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75 / 1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2 / 1.5);--text-3xl:1.875rem;--text-3xl--line-height:calc(2.25 / 1.875);--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5 / 2.25);--text-5xl:3rem;--text-5xl--line-height:1;--text-6xl:3.75rem;--text-6xl--line-height:1;--text-8xl:6rem;--text-8xl--line-height:1;--font-weight-bold:700;--font-weight-extrabold:800;--tracking-wide:0.025em;--tracking-wider:0.05em;--tracking-widest:0.1em;--leading-tight:1.25;--leading-relaxed:1.625;--radius-md:0.375rem;--radius-lg:0.5rem;--radius-xl:0.75rem;--radius-2xl:1rem;--drop-shadow-sm:0 1px 2px rgb(0 0 0/0.15);--drop-shadow-md:0 3px 3px rgb(0 0 0/0.12);--drop-shadow-lg:0 4px 4px rgb(0 0 0/0.15);--drop-shadow-xl:0 9px 7px rgb(0 0 0/0.1);--ease-out:cubic-bezier(0,0,0.2,1);--ease-in-out:cubic-bezier(0.4,0,0.2,1);--animate-pulse:pulse 2s cubic-bezier(0.4,0,0.6,1) infinite;--animate-bounce:bounce 1s infinite;--blur-sm:8px;--blur-md:12px;--blur-2xl:40px;--default-transition-duration:150ms;--default-transition-timing-function:cubic-bezier(0.4,0,0.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-dungeon-dark:#0a0a0c;--color-dungeon-brown:#2c1a0e;--color-dungeon-gold:#d4af37;--color-dungeon-gold-dim:#8a7122;--color-dungeon-paper:#eaddcf;--font-heading:'MedievalSharp',cursive;--font-body:'Cinzel',serif;--font-ui:'Inter',sans-serif;--animate-float:float 6s ease-in-out infinite;--animate-pulse-slow:pulse 4s cubic-bezier(0.4,0,0.6,1) infinite;--animate-clash-left:clashLeft 0.6s ease-in forwards;--animate-clash-right:clashRight 0.6s ease-in forwards;--animate-shatter:shatter 0.6s ease-out forwards;--animate-shake:shake 0.5s cubic-bezier(0.36,0.07,0.19,0.97) both}}@layer base{*,::after,::before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance:-apple-pay-button)) or (contain-intrinsic-size:1px){::placeholder{color:currentcolor;@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type="button"],[type="reset"],[type="submit"]),::file-selector-button{-webkit-appearance:button;appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden="until-found"])){display:none !important}}@layer utilities{.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip-path:inset(50%);white-space:nowrap;border-width:0}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing) * 0)}.inset-1{inset:calc(var(--spacing) * 1)}.inset-2{inset:calc(var(--spacing) * 2)}.inset-x-0{inset-inline:calc(var(--spacing) * 0)}.inset-y-0{inset-block:calc(var(--spacing) * 0)}.-start{inset-inline-start:calc(var(--spacing) * -1)}.start{inset-inline-start:var(--spacing)}.end{inset-inline-end:var(--spacing)}.-top-1{top:calc(var(--spacing) * -1)}.-top-5{top:calc(var(--spacing) * -5)}.-top-8{top:calc(var(--spacing) * -8)}.-top-\[1rem\]{top:calc(1rem * -1)}.top-0{top:calc(var(--spacing) * 0)}.top-1\/2{top:calc(1 / 2 * 100%)}.top-2{top:calc(var(--spacing) * 2)}.top-4{top:calc(var(--spacing) * 4)}.top-6{top:calc(var(--spacing) * 6)}.top-8{top:calc(var(--spacing) * 8)}.top-14{top:calc(var(--spacing) * 14)}.top-\[3\%\]{top:3%}.top-\[4\.6rem\]{top:4.6rem}.top-\[5\.9rem\]{top:5.9rem}.-right-1{right:calc(var(--spacing) * -1)}.-right-3{right:calc(var(--spacing) * -3)}.-right-12{right:calc(var(--spacing) * -12)}.right-0{right:calc(var(--spacing) * 0)}.right-1\/2{right:calc(1 / 2 * 100%)}.right-2{right:calc(var(--spacing) * 2)}.right-4{right:calc(var(--spacing) * 4)}.right-6{right:calc(var(--spacing) * 6)}.right-8{right:calc(var(--spacing) * 8)}.right-14{right:calc(var(--spacing) * 14)}.right-\[2\%\]{right:2%}.-bottom-1{bottom:calc(var(--spacing) * -1)}.bottom-0{bottom:calc(var(--spacing) * 0)}.bottom-4{bottom:calc(var(--spacing) * 4)}.bottom-6{bottom:calc(var(--spacing) * 6)}.bottom-8{bottom:calc(var(--spacing) * 8)}.bottom-20{bottom:calc(var(--spacing) * 20)}.bottom-\[18\%\]{bottom:18%}.-left-1{left:calc(var(--spacing) * -1)}.-left-12{left:calc(var(--spacing) * -12)}.-left-24{left:calc(var(--spacing) * -24)}.-left-48{left:calc(var(--spacing) * -48)}.left-0{left:calc(var(--spacing) * 0)}.left-1\/2{left:calc(1 / 2 * 100%)}.left-2{left:calc(var(--spacing) * 2)}.left-4{left:calc(var(--spacing) * 4)}.left-6{left:calc(var(--spacing) * 6)}.left-8{left:calc(var(--spacing) * 8)}.left-14{left:calc(var(--spacing) * 14)}.left-\[3\%\]{left:3%}.left-\[140\%\]{left:140%}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-\[1\]{z-index:1}.z-\[45\]{z-index:45}.z-\[70\]{z-index:70}.z-\[72\]{z-index:72}.z-\[100\]{z-index:100}.z-\[110\]{z-index:110}.z-\[200\]{z-index:200}.z-\[220\]{z-index:220}.col-span-2{grid-column:span 2/span 2}.container{width:100%;@media (width >= 40rem){max-width:40rem}@media (width >= 48rem){max-width:48rem}@media (width >= 64rem){max-width:64rem}@media (width >= 80rem){max-width:80rem}@media (width >= 96rem){max-width:96rem}}.mx-1{margin-inline:calc(var(--spacing) * 1)}.mx-4{margin-inline:calc(var(--spacing) * 4)}.mx-auto{margin-inline:auto}.my-2{margin-block:calc(var(--spacing) * 2)}.-mt-1{margin-top:calc(var(--spacing) * -1)}.mt-0\.5{margin-top:calc(var(--spacing) * 0.5)}.mt-1{margin-top:calc(var(--spacing) * 1)}.mt-1\.5{margin-top:calc(var(--spacing) * 1.5)}.mt-2{margin-top:calc(var(--spacing) * 2)}.mt-3{margin-top:calc(var(--spacing) * 3)}.mt-4{margin-top:calc(var(--spacing) * 4)}.mt-6{margin-top:calc(var(--spacing) * 6)}.mt-8{margin-top:calc(var(--spacing) * 8)}.-mr-1{margin-right:calc(var(--spacing) * -1)}.mr-2{margin-right:calc(var(--spacing) * 2)}.mr-\[-0\.5rem\]{margin-right:-0.5rem}.-mb-1{margin-bottom:calc(var(--spacing) * -1)}.mb-1{margin-bottom:calc(var(--spacing) * 1)}.mb-1\.5{margin-bottom:calc(var(--spacing) * 1.5)}.mb-2{margin-bottom:calc(var(--spacing) * 2)}.mb-3{margin-bottom:calc(var(--spacing) * 3)}.mb-4{margin-bottom:calc(var(--spacing) * 4)}.mb-6{margin-bottom:calc(var(--spacing) * 6)}.-ml-1{margin-left:calc(var(--spacing) * -1)}.ml-\[-0\.5rem\]{margin-left:-0.5rem}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.hidden\!{display:none !important}.inline{display:inline}.table{display:table}.size-2{width:calc(var(--spacing) * 2);height:calc(var(--spacing) * 2)}.size-3\.5{width:calc(var(--spacing) * 3.5);height:calc(var(--spacing) * 3.5)}.size-4{width:calc(var(--spacing) * 4);height:calc(var(--spacing) * 4)}.size-5{width:calc(var(--spacing) * 5);height:calc(var(--spacing) * 5)}.size-6{width:calc(var(--spacing) * 6);height:calc(var(--spacing) * 6)}.size-9{width:calc(var(--spacing) * 9);height:calc(var(--spacing) * 9)}.size-12{width:calc(var(--spacing) * 12);height:calc(var(--spacing) * 12)}.size-16{width:calc(var(--spacing) * 16);height:calc(var(--spacing) * 16)}.size-20{width:calc(var(--spacing) * 20);height:calc(var(--spacing) * 20)}.size-full{width:100%;height:100%}.h-2{height:calc(var(--spacing) * 2)}.h-2\.5{height:calc(var(--spacing) * 2.5)}.h-4{height:calc(var(--spacing) * 4)}.h-6{height:calc(var(--spacing) * 6)}.h-7{height:calc(var(--spacing) * 7)}.h-8{height:calc(var(--spacing) * 8)}.h-10{height:calc(var(--spacing) * 10)}.h-12{height:calc(var(--spacing) * 12)}.h-14{height:calc(var(--spacing) * 14)}.h-20{height:calc(var(--spacing) * 20)}.h-24{height:calc(var(--spacing) * 24)}.h-32{height:calc(var(--spacing) * 32)}.h-48{height:calc(var(--spacing) * 48)}.h-60{height:calc(var(--spacing) * 60)}.h-64{height:calc(var(--spacing) * 64)}.h-80{height:calc(var(--spacing) * 80)}.h-\[1px\]{height:1px}.h-\[32rem\]{height:32rem}.h-full{height:100%}.h-screen{height:100vh}.max-h-44{max-height:calc(var(--spacing) * 44)}.max-h-52{max-height:calc(var(--spacing) * 52)}.max-h-\[28vh\]{max-height:28vh}.max-h-\[42vh\]{max-height:42vh}.max-h-\[58vh\]{max-height:58vh}.max-h-\[60\%\]{max-height:60%}.max-h-\[60vh\]{max-height:60vh}.max-h-\[80\%\]{max-height:80%}.max-h-\[90\%\]{max-height:90%}.min-h-0{min-height:calc(var(--spacing) * 0)}.min-h-\[50px\]{min-height:50px}.min-h-\[200px\]{min-height:200px}.w-0{width:calc(var(--spacing) * 0)}.w-1{width:calc(var(--spacing) * 1)}.w-1\.5{width:calc(var(--spacing) * 1.5)}.w-2{width:calc(var(--spacing) * 2)}.w-4{width:calc(var(--spacing) * 4)}.w-6{width:calc(var(--spacing) * 6)}.w-7{width:calc(var(--spacing) * 7)}.w-8{width:calc(var(--spacing) * 8)}.w-10{width:calc(var(--spacing) * 10)}.w-12{width:calc(var(--spacing) * 12)}.w-14{width:calc(var(--spacing) * 14)}.w-20{width:calc(var(--spacing) * 20)}.w-24{width:calc(var(--spacing) * 24)}.w-28{width:calc(var(--spacing) * 28)}.w-32{width:calc(var(--spacing) * 32)}.w-40{width:calc(var(--spacing) * 40)}.w-48{width:calc(var(--spacing) * 48)}.w-52{width:calc(var(--spacing) * 52)}.w-60{width:calc(var(--spacing) * 60)}.w-64{width:calc(var(--spacing) * 64)}.w-72{width:calc(var(--spacing) * 72)}.w-80{width:calc(var(--spacing) * 80)}.w-96{width:calc(var(--spacing) * 96)}.w-full{width:100%}.max-w-2xl{max-width:var(--container-2xl)}.max-w-3xl{max-width:var(--container-3xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-lg{max-width:var(--container-lg)}.max-w-none{max-width:none}.max-w-sm{max-width:var(--container-sm)}.max-w-xl{max-width:var(--container-xl)}.min-w-0{min-width:calc(var(--spacing) * 0)}.flex-1{flex:1}.shrink-0{flex-shrink:0}.origin-bottom{transform-origin:bottom}.origin-bottom-left{transform-origin:0 100%}.origin-bottom-right{transform-origin:100% 100%}.origin-top{transform-origin:top}.origin-top-left{transform-origin:0 0}.origin-top-right{transform-origin:100% 0}.-translate-x-1\/2{--tw-translate-x:calc(calc(1 / 2 * 100%) * -1);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-1\/2{--tw-translate-y:calc(calc(1 / 2 * 100%) * -1);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-6{--tw-translate-y:calc(var(--spacing) * -6);translate:var(--tw-translate-x) var(--tw-translate-y)}.-translate-y-12{--tw-translate-y:calc(var(--spacing) * -12);translate:var(--tw-translate-x) var(--tw-translate-y)}.translate-y-8{--tw-translate-y:calc(var(--spacing) * 8);translate:var(--tw-translate-x) var(--tw-translate-y)}.translate-y-28{--tw-translate-y:calc(var(--spacing) * 28);translate:var(--tw-translate-x) var(--tw-translate-y)}.scale-75{--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x) var(--tw-scale-y)}.scale-90{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x) var(--tw-scale-y)}.scale-105{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x) var(--tw-scale-y)}.scale-110{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x) var(--tw-scale-y)}.scale-\[1\.1\]{scale:1.1}.scale-\[1\.2\]{scale:1.2}.rotate-45{rotate:45deg}.rotate-\[-3deg\]{rotate:-3deg}.transform{transform:var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,)}.animate-\[spin_8s_linear_infinite\]{animation:spin 8s linear infinite}.animate-bounce{animation:var(--animate-bounce)}.animate-clash-left{animation:var(--animate-clash-left)}.animate-clash-right{animation:var(--animate-clash-right)}.animate-float{animation:var(--animate-float)}.animate-pulse{animation:var(--animate-pulse)}.animate-pulse-slow{animation:var(--animate-pulse-slow)}.animate-shake{animation:var(--animate-shake)}.animate-shatter{animation:var(--animate-shatter)}.\!cursor-default{cursor:default !important}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize{resize:both}.resize-none{resize:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.items-stretch{align-items:stretch}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-1{gap:calc(var(--spacing) * 1)}.gap-1\.5{gap:calc(var(--spacing) * 1.5)}.gap-2{gap:calc(var(--spacing) * 2)}.gap-2\.5{gap:calc(var(--spacing) * 2.5)}.gap-3{gap:calc(var(--spacing) * 3)}.gap-4{gap:calc(var(--spacing) * 4)}.gap-8{gap:calc(var(--spacing) * 8)}.space-y-1{:where(&>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 1) * var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-y-reverse)))}}.space-y-1\.5{:where(&>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 1.5) * var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 1.5) * calc(1 - var(--tw-space-y-reverse)))}}.space-y-2{:where(&>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)))}}.space-y-3{:where(&>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)))}}.space-y-4{:where(&>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)))}}.space-y-6{:where(&>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)))}}.space-y-12{:where(&>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing) * 12) * var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing) * 12) * calc(1 - var(--tw-space-y-reverse)))}}.gap-x-6{-moz-column-gap:calc(var(--spacing) * 6);column-gap:calc(var(--spacing) * 6)}.space-x-2{:where(&>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)))}}.space-x-3{:where(&>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing) * 3) * var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-x-reverse)))}}.space-x-4{:where(&>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing) * 4) * var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-x-reverse)))}}.gap-y-6{row-gap:calc(var(--spacing) * 6)}.self-center{align-self:center}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-hidden{overflow:hidden}.overflow-visible{overflow:visible}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:0.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:calc(infinity * 1px)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-t-lg{border-top-left-radius:var(--radius-lg);border-top-right-radius:var(--radius-lg)}.rounded-l-lg{border-top-left-radius:var(--radius-lg);border-bottom-left-radius:var(--radius-lg)}.rounded-b-lg{border-bottom-right-radius:var(--radius-lg);border-bottom-left-radius:var(--radius-lg)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-x{border-inline-style:var(--tw-border-style);border-inline-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-t-2{border-top-style:var(--tw-border-style);border-top-width:2px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-r-0{border-right-style:var(--tw-border-style);border-right-width:0px}.border-r-2{border-right-style:var(--tw-border-style);border-right-width:2px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-\[\#3a3040\]{border-color:#3a3040}.border-\[\#4a2e1a\]{border-color:#4a2e1a}.border-\[\#5c3a21\]{border-color:#5c3a21}.border-amber-300\/35{border-color:color-mix(in srgb,oklch(87.9% 0.169 91.605) 35%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-amber-300) 35%,transparent)}}.border-amber-400\/55{border-color:color-mix(in srgb,oklch(82.8% 0.189 84.429) 55%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-amber-400) 55%,transparent)}}.border-amber-600\/40{border-color:color-mix(in srgb,oklch(66.6% 0.179 58.318) 40%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-amber-600) 40%,transparent)}}.border-black{border-color:var(--color-black)}.border-blue-500\/50{border-color:color-mix(in srgb,oklch(62.3% 0.214 259.815) 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-blue-500) 50%,transparent)}}.border-blue-900\/20{border-color:color-mix(in srgb,oklch(37.9% 0.146 265.522) 20%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-blue-900) 20%,transparent)}}.border-dungeon-brown{border-color:var(--color-dungeon-brown)}.border-dungeon-brown\/30{border-color:color-mix(in srgb,#2c1a0e 30%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-brown) 30%,transparent)}}.border-dungeon-brown\/40{border-color:color-mix(in srgb,#2c1a0e 40%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-brown) 40%,transparent)}}.border-dungeon-brown\/50{border-color:color-mix(in srgb,#2c1a0e 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-brown) 50%,transparent)}}.border-dungeon-brown\/60{border-color:color-mix(in srgb,#2c1a0e 60%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-brown) 60%,transparent)}}.border-dungeon-brown\/70{border-color:color-mix(in srgb,#2c1a0e 70%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-brown) 70%,transparent)}}.border-dungeon-gold{border-color:var(--color-dungeon-gold)}.border-dungeon-gold\/15{border-color:color-mix(in srgb,#d4af37 15%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 15%,transparent)}}.border-dungeon-gold\/20{border-color:color-mix(in srgb,#d4af37 20%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 20%,transparent)}}.border-dungeon-gold\/25{border-color:color-mix(in srgb,#d4af37 25%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 25%,transparent)}}.border-dungeon-gold\/30{border-color:color-mix(in srgb,#d4af37 30%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 30%,transparent)}}.border-dungeon-gold\/40{border-color:color-mix(in srgb,#d4af37 40%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 40%,transparent)}}.border-dungeon-gold\/50{border-color:color-mix(in srgb,#d4af37 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 50%,transparent)}}.border-dungeon-gold\/60{border-color:color-mix(in srgb,#d4af37 60%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 60%,transparent)}}.border-dungeon-gold\/70{border-color:color-mix(in srgb,#d4af37 70%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 70%,transparent)}}.border-dungeon-paper{border-color:var(--color-dungeon-paper)}.border-emerald-400\/50{border-color:color-mix(in srgb,oklch(76.5% 0.177 163.223) 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-emerald-400) 50%,transparent)}}.border-emerald-400\/60{border-color:color-mix(in srgb,oklch(76.5% 0.177 163.223) 60%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-emerald-400) 60%,transparent)}}.border-emerald-500\/50{border-color:color-mix(in srgb,oklch(69.6% 0.17 162.48) 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-emerald-500) 50%,transparent)}}.border-emerald-900{border-color:var(--color-emerald-900)}.border-gray-700{border-color:var(--color-gray-700)}.border-indigo-400\/55{border-color:color-mix(in srgb,oklch(67.3% 0.182 276.935) 55%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-indigo-400) 55%,transparent)}}.border-purple-400\/40{border-color:color-mix(in srgb,oklch(71.4% 0.203 305.504) 40%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-purple-400) 40%,transparent)}}.border-purple-900{border-color:var(--color-purple-900)}.border-red-400\/55{border-color:color-mix(in srgb,oklch(70.4% 0.191 22.216) 55%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-red-400) 55%,transparent)}}.border-red-500\/50{border-color:color-mix(in srgb,oklch(63.7% 0.237 25.331) 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-red-500) 50%,transparent)}}.border-red-500\/60{border-color:color-mix(in srgb,oklch(63.7% 0.237 25.331) 60%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-red-500) 60%,transparent)}}.border-red-700\/50{border-color:color-mix(in srgb,oklch(50.5% 0.213 27.518) 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-red-700) 50%,transparent)}}.border-red-900{border-color:var(--color-red-900)}.border-red-900\/20{border-color:color-mix(in srgb,oklch(39.6% 0.141 25.723) 20%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-red-900) 20%,transparent)}}.border-red-900\/50{border-color:color-mix(in srgb,oklch(39.6% 0.141 25.723) 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-red-900) 50%,transparent)}}.border-slate-400\/45{border-color:color-mix(in srgb,oklch(70.4% 0.04 256.788) 45%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-slate-400) 45%,transparent)}}.border-white\/5{border-color:color-mix(in srgb,#fff 5%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-white) 5%,transparent)}}.border-white\/8{border-color:color-mix(in srgb,#fff 8%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-white) 8%,transparent)}}.border-white\/10{border-color:color-mix(in srgb,#fff 10%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-white) 10%,transparent)}}.border-white\/15{border-color:color-mix(in srgb,#fff 15%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-white) 15%,transparent)}}.border-white\/20{border-color:color-mix(in srgb,#fff 20%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-white) 20%,transparent)}}.border-white\/30{border-color:color-mix(in srgb,#fff 30%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-white) 30%,transparent)}}.border-yellow-500\/50{border-color:color-mix(in srgb,oklch(79.5% 0.184 86.047) 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-yellow-500) 50%,transparent)}}.border-yellow-800{border-color:var(--color-yellow-800)}.bg-\[\#0a0a1a\]{background-color:#0a0a1a}.bg-\[\#0d0d10\]\/85{background-color:color-mix(in oklab,#0d0d10 85%,transparent)}.bg-\[\#0f0f0f\]{background-color:#0f0f0f}.bg-\[\#1a0a0a\]{background-color:#1a0a0a}.bg-\[\#1a0f08\]{background-color:#1a0f08}.bg-\[\#1a0f08\]\/35{background-color:color-mix(in oklab,#1a0f08 35%,transparent)}.bg-\[\#1a0f08\]\/50{background-color:color-mix(in oklab,#1a0f08 50%,transparent)}.bg-\[\#1a0f08\]\/70{background-color:color-mix(in oklab,#1a0f08 70%,transparent)}.bg-\[\#1a0f08\]\/80{background-color:color-mix(in oklab,#1a0f08 80%,transparent)}.bg-\[\#1a1a22\]{background-color:#1a1a22}.bg-\[\#1a1520\]\/95{background-color:color-mix(in oklab,#1a1520 95%,transparent)}.bg-\[\#110a06\]\/40{background-color:color-mix(in oklab,#110a06 40%,transparent)}.bg-\[\#16121e\]{background-color:#16121e}.bg-\[\#18141e\]{background-color:#18141e}.bg-\[\#18141e\]\/90{background-color:color-mix(in oklab,#18141e 90%,transparent)}.bg-\[\#050505\]{background-color:#050505}.bg-\[\#252030\]{background-color:#252030}.bg-\[\#252030\]\/80{background-color:color-mix(in oklab,#252030 80%,transparent)}.bg-\[\#252030\]\/90{background-color:color-mix(in oklab,#252030 90%,transparent)}.bg-amber-900\/70{background-color:color-mix(in srgb,oklch(41.4% 0.112 45.904) 70%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-amber-900) 70%,transparent)}}.bg-black{background-color:var(--color-black)}.bg-black\/20{background-color:color-mix(in srgb,#000 20%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-black) 20%,transparent)}}.bg-black\/40{background-color:color-mix(in srgb,#000 40%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-black) 40%,transparent)}}.bg-black\/50{background-color:color-mix(in srgb,#000 50%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-black) 50%,transparent)}}.bg-black\/60{background-color:color-mix(in srgb,#000 60%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-black) 60%,transparent)}}.bg-black\/80{background-color:color-mix(in srgb,#000 80%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-black) 80%,transparent)}}.bg-black\/90{background-color:color-mix(in srgb,#000 90%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-black) 90%,transparent)}}.bg-blue-900\/20{background-color:color-mix(in srgb,oklch(37.9% 0.146 265.522) 20%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-blue-900) 20%,transparent)}}.bg-dungeon-brown{background-color:var(--color-dungeon-brown)}.bg-dungeon-brown\/20{background-color:color-mix(in srgb,#2c1a0e 20%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-brown) 20%,transparent)}}.bg-dungeon-brown\/50{background-color:color-mix(in srgb,#2c1a0e 50%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-brown) 50%,transparent)}}.bg-dungeon-brown\/60{background-color:color-mix(in srgb,#2c1a0e 60%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-brown) 60%,transparent)}}.bg-dungeon-dark\/40{background-color:color-mix(in srgb,#0a0a0c 40%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-dark) 40%,transparent)}}.bg-dungeon-dark\/50{background-color:color-mix(in srgb,#0a0a0c 50%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-dark) 50%,transparent)}}.bg-dungeon-dark\/60{background-color:color-mix(in srgb,#0a0a0c 60%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-dark) 60%,transparent)}}.bg-dungeon-dark\/70{background-color:color-mix(in srgb,#0a0a0c 70%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-dark) 70%,transparent)}}.bg-dungeon-dark\/80{background-color:color-mix(in srgb,#0a0a0c 80%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-dark) 80%,transparent)}}.bg-dungeon-dark\/90{background-color:color-mix(in srgb,#0a0a0c 90%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-dark) 90%,transparent)}}.bg-dungeon-gold{background-color:var(--color-dungeon-gold)}.bg-dungeon-gold\/10{background-color:color-mix(in srgb,#d4af37 10%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-gold) 10%,transparent)}}.bg-dungeon-gold\/15{background-color:color-mix(in srgb,#d4af37 15%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-gold) 15%,transparent)}}.bg-dungeon-gold\/20{background-color:color-mix(in srgb,#d4af37 20%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-gold) 20%,transparent)}}.bg-dungeon-gold\/70{background-color:color-mix(in srgb,#d4af37 70%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-gold) 70%,transparent)}}.bg-dungeon-gold\/80{background-color:color-mix(in srgb,#d4af37 80%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-gold) 80%,transparent)}}.bg-emerald-900\/20{background-color:color-mix(in srgb,oklch(37.8% 0.077 168.94) 20%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-emerald-900) 20%,transparent)}}.bg-emerald-900\/65{background-color:color-mix(in srgb,oklch(37.8% 0.077 168.94) 65%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-emerald-900) 65%,transparent)}}.bg-emerald-950\/30{background-color:color-mix(in srgb,oklch(26.2% 0.051 172.552) 30%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-emerald-950) 30%,transparent)}}.bg-emerald-950\/70{background-color:color-mix(in srgb,oklch(26.2% 0.051 172.552) 70%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-emerald-950) 70%,transparent)}}.bg-gray-800{background-color:var(--color-gray-800)}.bg-green-600\/75{background-color:color-mix(in srgb,oklch(62.7% 0.194 149.214) 75%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-green-600) 75%,transparent)}}.bg-indigo-400\/80{background-color:color-mix(in srgb,oklch(67.3% 0.182 276.935) 80%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-indigo-400) 80%,transparent)}}.bg-indigo-900\/70{background-color:color-mix(in srgb,oklch(35.9% 0.144 278.697) 70%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-indigo-900) 70%,transparent)}}.bg-orange-500\/85{background-color:color-mix(in srgb,oklch(70.5% 0.213 47.604) 85%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-orange-500) 85%,transparent)}}.bg-purple-700\/80{background-color:color-mix(in srgb,oklch(49.6% 0.265 301.924) 80%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-purple-700) 80%,transparent)}}.bg-purple-950\/30{background-color:color-mix(in srgb,oklch(29.1% 0.149 302.717) 30%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-purple-950) 30%,transparent)}}.bg-red-900\/20{background-color:color-mix(in srgb,oklch(39.6% 0.141 25.723) 20%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-red-900) 20%,transparent)}}.bg-red-900\/65{background-color:color-mix(in srgb,oklch(39.6% 0.141 25.723) 65%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-red-900) 65%,transparent)}}.bg-red-950\/30{background-color:color-mix(in srgb,oklch(25.8% 0.092 26.042) 30%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-red-950) 30%,transparent)}}.bg-red-950\/70{background-color:color-mix(in srgb,oklch(25.8% 0.092 26.042) 70%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-red-950) 70%,transparent)}}.bg-red-950\/80{background-color:color-mix(in srgb,oklch(25.8% 0.092 26.042) 80%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-red-950) 80%,transparent)}}.bg-slate-800\/70{background-color:color-mix(in srgb,oklch(27.9% 0.041 260.031) 70%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-slate-800) 70%,transparent)}}.bg-transparent{background-color:transparent}.bg-white\/5{background-color:color-mix(in srgb,#fff 5%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-white) 5%,transparent)}}.bg-yellow-900\/20{background-color:color-mix(in srgb,oklch(42.1% 0.095 57.708) 20%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-yellow-900) 20%,transparent)}}.bg-yellow-950\/30{background-color:color-mix(in srgb,oklch(28.6% 0.066 53.813) 30%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-yellow-950) 30%,transparent)}}.bg-gradient-to-b{--tw-gradient-position:to bottom in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-tr{--tw-gradient-position:to top right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-\[radial-gradient\(circle_at_50\%_30\%\,_rgba\(40\,35\,50\,0\.5\)\,_\#0e0e14_90\%\)\]{background-image:radial-gradient(circle at 50% 30%,rgba(40,35,50,0.5),#0e0e14 90%)}.bg-\[radial-gradient\(circle_at_50\%_30\%\,_rgba\(60\,40\,30\,0\.3\)\,_\#000000_90\%\)\]{background-image:radial-gradient(circle at 50% 30%,rgba(60,40,30,0.3),#000000 90%)}.from-\[\#0066cc\]{--tw-gradient-from:#0066cc;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.from-\[\#cc2200\]{--tw-gradient-from:#cc2200;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.from-\[\#f9e6a0\]{--tw-gradient-from:#f9e6a0;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.from-emerald-900{--tw-gradient-from:var(--color-emerald-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.from-gray-800{--tw-gradient-from:var(--color-gray-800);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.from-purple-900{--tw-gradient-from:var(--color-purple-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.from-red-900{--tw-gradient-from:var(--color-red-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.from-transparent{--tw-gradient-from:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.from-yellow-900{--tw-gradient-from:var(--color-yellow-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.via-dungeon-gold{--tw-gradient-via:var(--color-dungeon-gold);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-via) var(--tw-gradient-via-position),var(--tw-gradient-to) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-dungeon-gold\/20{--tw-gradient-via:color-mix(in srgb,#d4af37 20%,transparent);@supports (color:color-mix(in lab,red,red)){--tw-gradient-via:color-mix(in oklab,var(--color-dungeon-gold) 20%,transparent)}--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-via) var(--tw-gradient-via-position),var(--tw-gradient-to) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-dungeon-gold\/50{--tw-gradient-via:color-mix(in srgb,#d4af37 50%,transparent);@supports (color:color-mix(in lab,red,red)){--tw-gradient-via:color-mix(in oklab,var(--color-dungeon-gold) 50%,transparent)}--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-via) var(--tw-gradient-via-position),var(--tw-gradient-to) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-\[\#0088ee\]{--tw-gradient-to:#0088ee;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.to-\[\#ee3311\]{--tw-gradient-to:#ee3311;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.to-black{--tw-gradient-to:var(--color-black);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.to-dungeon-gold-dim{--tw-gradient-to:var(--color-dungeon-gold-dim);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from) var(--tw-gradient-from-position),var(--tw-gradient-to) var(--tw-gradient-to-position))}.bg-\[length\:200px\]{background-size:200px}.bg-cover{background-size:cover}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-center{background-position:center}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat{background-repeat:repeat}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.object-bottom{object-position:bottom}.p-1{padding:calc(var(--spacing) * 1)}.p-1\.5{padding:calc(var(--spacing) * 1.5)}.p-2{padding:calc(var(--spacing) * 2)}.p-2\.5{padding:calc(var(--spacing) * 2.5)}.p-3{padding:calc(var(--spacing) * 3)}.p-4{padding:calc(var(--spacing) * 4)}.p-6{padding:calc(var(--spacing) * 6)}.p-8{padding:calc(var(--spacing) * 8)}.px-0\.5{padding-inline:calc(var(--spacing) * 0.5)}.px-1{padding-inline:calc(var(--spacing) * 1)}.px-1\.5{padding-inline:calc(var(--spacing) * 1.5)}.px-2{padding-inline:calc(var(--spacing) * 2)}.px-3{padding-inline:calc(var(--spacing) * 3)}.px-4{padding-inline:calc(var(--spacing) * 4)}.px-5{padding-inline:calc(var(--spacing) * 5)}.px-6{padding-inline:calc(var(--spacing) * 6)}.px-8{padding-inline:calc(var(--spacing) * 8)}.px-12{padding-inline:calc(var(--spacing) * 12)}.py-0\.5{padding-block:calc(var(--spacing) * 0.5)}.py-1{padding-block:calc(var(--spacing) * 1)}.py-1\.5{padding-block:calc(var(--spacing) * 1.5)}.py-2{padding-block:calc(var(--spacing) * 2)}.py-2\.5{padding-block:calc(var(--spacing) * 2.5)}.py-3{padding-block:calc(var(--spacing) * 3)}.py-4{padding-block:calc(var(--spacing) * 4)}.py-5{padding-block:calc(var(--spacing) * 5)}.py-6{padding-block:calc(var(--spacing) * 6)}.py-8{padding-block:calc(var(--spacing) * 8)}.py-12{padding-block:calc(var(--spacing) * 12)}.pt-2{padding-top:calc(var(--spacing) * 2)}.pt-4{padding-top:calc(var(--spacing) * 4)}.pr-1{padding-right:calc(var(--spacing) * 1)}.pr-2{padding-right:calc(var(--spacing) * 2)}.pr-14{padding-right:calc(var(--spacing) * 14)}.pb-1{padding-bottom:calc(var(--spacing) * 1)}.pb-2{padding-bottom:calc(var(--spacing) * 2)}.pb-6{padding-bottom:calc(var(--spacing) * 6)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.font-body{font-family:var(--font-body)}.font-heading{font-family:var(--font-heading)}.font-mono{font-family:var(--font-mono)}.font-ui{font-family:var(--font-ui)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}.text-6xl{font-size:var(--text-6xl);line-height:var(--tw-leading,var(--text-6xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[9px\]{font-size:9px}.text-\[10px\]{font-size:10px}.text-\[11px\]{font-size:11px}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-extrabold{--tw-font-weight:var(--font-weight-extrabold);font-weight:var(--font-weight-extrabold)}.tracking-\[0\.2em\]{--tw-tracking:0.2em;letter-spacing:0.2em}.tracking-\[0\.35em\]{--tw-tracking:0.35em;letter-spacing:0.35em}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.tracking-widest{--tw-tracking:var(--tracking-widest);letter-spacing:var(--tracking-widest)}.break-words{overflow-wrap:break-word}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.text-\[\#2c0e0e\]{color:#2c0e0e}.text-\[\#2c1a0e\]{color:#2c1a0e}.text-\[\#5c3a21\]{color:#5c3a21}.text-\[\#55aaff\]{color:#55aaff}.text-\[\#b08a2e\]{color:#b08a2e}.text-\[\#cc3333\]{color:#cc3333}.text-\[\#f9e6a0\]{color:#f9e6a0}.text-\[\#ff6666\]{color:#ff6666}.text-amber-200{color:var(--color-amber-200)}.text-amber-200\/70{color:color-mix(in srgb,oklch(92.4% 0.12 95.746) 70%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-amber-200) 70%,transparent)}}.text-amber-200\/80{color:color-mix(in srgb,oklch(92.4% 0.12 95.746) 80%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-amber-200) 80%,transparent)}}.text-amber-300{color:var(--color-amber-300)}.text-amber-400{color:var(--color-amber-400)}.text-black{color:var(--color-black)}.text-blue-300{color:var(--color-blue-300)}.text-blue-400{color:var(--color-blue-400)}.text-cyan-300{color:var(--color-cyan-300)}.text-dungeon-gold{color:var(--color-dungeon-gold)}.text-dungeon-gold-dim{color:var(--color-dungeon-gold-dim)}.text-dungeon-gold\/20{color:color-mix(in srgb,#d4af37 20%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-gold) 20%,transparent)}}.text-dungeon-gold\/30{color:color-mix(in srgb,#d4af37 30%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-gold) 30%,transparent)}}.text-dungeon-gold\/40{color:color-mix(in srgb,#d4af37 40%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-gold) 40%,transparent)}}.text-dungeon-gold\/60{color:color-mix(in srgb,#d4af37 60%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-gold) 60%,transparent)}}.text-dungeon-gold\/75{color:color-mix(in srgb,#d4af37 75%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-gold) 75%,transparent)}}.text-dungeon-gold\/80{color:color-mix(in srgb,#d4af37 80%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-gold) 80%,transparent)}}.text-dungeon-gold\/90{color:color-mix(in srgb,#d4af37 90%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-gold) 90%,transparent)}}.text-dungeon-paper{color:var(--color-dungeon-paper)}.text-dungeon-paper\/40{color:color-mix(in srgb,#eaddcf 40%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-paper) 40%,transparent)}}.text-dungeon-paper\/50{color:color-mix(in srgb,#eaddcf 50%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-paper) 50%,transparent)}}.text-dungeon-paper\/60{color:color-mix(in srgb,#eaddcf 60%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-paper) 60%,transparent)}}.text-dungeon-paper\/70{color:color-mix(in srgb,#eaddcf 70%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-paper) 70%,transparent)}}.text-dungeon-paper\/80{color:color-mix(in srgb,#eaddcf 80%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-paper) 80%,transparent)}}.text-emerald-200{color:var(--color-emerald-200)}.text-emerald-300{color:var(--color-emerald-300)}.text-emerald-400{color:var(--color-emerald-400)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-green-300{color:var(--color-green-300)}.text-green-400{color:var(--color-green-400)}.text-indigo-200{color:var(--color-indigo-200)}.text-orange-300{color:var(--color-orange-300)}.text-purple-400{color:var(--color-purple-400)}.text-red-200{color:var(--color-red-200)}.text-red-300{color:var(--color-red-300)}.text-red-300\/85{color:color-mix(in srgb,oklch(80.8% 0.114 19.571) 85%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-red-300) 85%,transparent)}}.text-red-400{color:var(--color-red-400)}.text-red-400\/80{color:color-mix(in srgb,oklch(70.4% 0.191 22.216) 80%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-red-400) 80%,transparent)}}.text-red-500{color:var(--color-red-500)}.text-red-800{color:var(--color-red-800)}.text-red-900\/20{color:color-mix(in srgb,oklch(39.6% 0.141 25.723) 20%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-red-900) 20%,transparent)}}.text-sky-300{color:var(--color-sky-300)}.text-slate-200{color:var(--color-slate-200)}.text-transparent{color:transparent}.text-violet-300{color:var(--color-violet-300)}.text-white{color:var(--color-white)}.text-white\/20{color:color-mix(in srgb,#fff 20%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 20%,transparent)}}.text-white\/40{color:color-mix(in srgb,#fff 40%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 40%,transparent)}}.text-white\/45{color:color-mix(in srgb,#fff 45%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 45%,transparent)}}.text-white\/50{color:color-mix(in srgb,#fff 50%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 50%,transparent)}}.text-white\/60{color:color-mix(in srgb,#fff 60%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 60%,transparent)}}.text-white\/70{color:color-mix(in srgb,#fff 70%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 70%,transparent)}}.text-white\/80{color:color-mix(in srgb,#fff 80%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 80%,transparent)}}.text-white\/90{color:color-mix(in srgb,#fff 90%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 90%,transparent)}}.text-yellow-300{color:var(--color-yellow-300)}.text-yellow-400{color:var(--color-yellow-400)}.text-yellow-500{color:var(--color-yellow-500)}.text-zinc-500{color:var(--color-zinc-500)}.capitalize{text-transform:capitalize}.lowercase{text-transform:lowercase}.uppercase{text-transform:uppercase}.underline{text-decoration-line:underline}.placeholder-gray-700{&::placeholder{color:var(--color-gray-700)}}.accent-amber-500{accent-color:var(--color-amber-500)}.accent-dungeon-gold{accent-color:var(--color-dungeon-gold)}.opacity-0{opacity:0%}.opacity-20{opacity:20%}.opacity-30{opacity:30%}.opacity-50{opacity:50%}.opacity-60{opacity:60%}.opacity-80{opacity:80%}.opacity-100{opacity:100%}.mix-blend-overlay{mix-blend-mode:overlay}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,rgb(0 0 0/0.1)),0 1px 2px -1px var(--tw-shadow-color,rgb(0 0 0/0.1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,rgb(0 0 0/0.25));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\[0_0_8px_rgba\(212\,175\,55\,0\.15\)\]{--tw-shadow:0 0 8px var(--tw-shadow-color,rgba(212,175,55,0.15));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\[0_0_15px_\#d4af37\]{--tw-shadow:0 0 15px var(--tw-shadow-color,#d4af37);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\[0_0_20px_rgba\(200\,120\,0\,0\.15\)\]{--tw-shadow:0 0 20px var(--tw-shadow-color,rgba(200,120,0,0.15));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\[0_0_30px_\#d4af37\]{--tw-shadow:0 0 30px var(--tw-shadow-color,#d4af37);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\[0_0_30px_rgba\(0\,0\,0\,0\.8\)\]{--tw-shadow:0 0 30px var(--tw-shadow-color,rgba(0,0,0,0.8));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,rgb(0 0 0/0.05));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,rgb(0 0 0/0.1)),0 4px 6px -4px var(--tw-shadow-color,rgb(0 0 0/0.1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,rgb(0 0 0/0.1)),0 2px 4px -2px var(--tw-shadow-color,rgb(0 0 0/0.1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,rgb(0 0 0/0.1)),0 8px 10px -6px var(--tw-shadow-color,rgb(0 0 0/0.1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring{--tw-ring-shadow:var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-4{--tw-ring-shadow:var(--tw-ring-inset,) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-dungeon-gold{--tw-ring-color:var(--color-dungeon-gold)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.blur-2xl{--tw-blur:blur(var(--blur-2xl));filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-\[0_0_8px_rgba\(39\,39\,42\,0\.9\)\]{--tw-drop-shadow-size:drop-shadow(0 0 8px var(--tw-drop-shadow-color,rgba(39,39,42,0.9)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-\[0_0_8px_rgba\(74\,222\,128\,0\.85\)\]{--tw-drop-shadow-size:drop-shadow(0 0 8px var(--tw-drop-shadow-color,rgba(74,222,128,0.85)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-\[0_0_8px_rgba\(96\,165\,250\,0\.85\)\]{--tw-drop-shadow-size:drop-shadow(0 0 8px var(--tw-drop-shadow-color,rgba(96,165,250,0.85)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-\[0_0_8px_rgba\(209\,213\,219\,0\.85\)\]{--tw-drop-shadow-size:drop-shadow(0 0 8px var(--tw-drop-shadow-color,rgba(209,213,219,0.85)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-\[0_0_8px_rgba\(248\,113\,113\,0\.85\)\]{--tw-drop-shadow-size:drop-shadow(0 0 8px var(--tw-drop-shadow-color,rgba(248,113,113,0.85)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-\[0_0_30px_rgba\(0\,0\,0\,0\.9\)\]{--tw-drop-shadow-size:drop-shadow(0 0 30px var(--tw-drop-shadow-color,rgba(0,0,0,0.9)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-\[0_4px_10px_rgba\(0\,0\,0\,0\.8\)\]{--tw-drop-shadow-size:drop-shadow(0 4px 10px var(--tw-drop-shadow-color,rgba(0,0,0,0.8)));--tw-drop-shadow:var(--tw-drop-shadow-size);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-lg{--tw-drop-shadow-size:drop-shadow(0 4px 4px var(--tw-drop-shadow-color,rgb(0 0 0/0.15)));--tw-drop-shadow:drop-shadow(var(--drop-shadow-lg));filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-md{--tw-drop-shadow-size:drop-shadow(0 3px 3px var(--tw-drop-shadow-color,rgb(0 0 0/0.12)));--tw-drop-shadow:drop-shadow(var(--drop-shadow-md));filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-sm{--tw-drop-shadow-size:drop-shadow(0 1px 2px var(--tw-drop-shadow-color,rgb(0 0 0/0.15)));--tw-drop-shadow:drop-shadow(var(--drop-shadow-sm));filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.drop-shadow-xl{--tw-drop-shadow-size:drop-shadow(0 9px 7px var(--tw-drop-shadow-color,rgb(0 0 0/0.1)));--tw-drop-shadow:drop-shadow(var(--drop-shadow-xl));filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.invert{--tw-invert:invert(100%);filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,)}.backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md));backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,)}.backdrop-filter{backdrop-filter:var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-300{--tw-duration:300ms;transition-duration:300ms}.duration-400{--tw-duration:400ms;transition-duration:400ms}.duration-500{--tw-duration:500ms;transition-duration:500ms}.duration-700{--tw-duration:700ms;transition-duration:700ms}.duration-1000{--tw-duration:1000ms;transition-duration:1000ms}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.select-none{-webkit-user-select:none;user-select:none}.group-hover\:w-full{&:is(:where(.group):hover *){@media (hover:hover){width:100%}}}.group-hover\:scale-110{&:is(:where(.group):hover *){@media (hover:hover){--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x) var(--tw-scale-y)}}}.group-hover\:border-dungeon-gold\/50{&:is(:where(.group):hover *){@media (hover:hover){border-color:color-mix(in srgb,#d4af37 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 50%,transparent)}}}}.group-hover\:text-dungeon-gold{&:is(:where(.group):hover *){@media (hover:hover){color:var(--color-dungeon-gold)}}}.group-hover\:text-dungeon-paper{&:is(:where(.group):hover *){@media (hover:hover){color:var(--color-dungeon-paper)}}}.group-hover\:opacity-70{&:is(:where(.group):hover *){@media (hover:hover){opacity:70%}}}.group-hover\:opacity-100{&:is(:where(.group):hover *){@media (hover:hover){opacity:100%}}}.hover\:z-10{&:hover{@media (hover:hover){z-index:10}}}.hover\:z-50{&:hover{@media (hover:hover){z-index:50}}}.hover\:translate-x-1{&:hover{@media (hover:hover){--tw-translate-x:calc(var(--spacing) * 1);translate:var(--tw-translate-x) var(--tw-translate-y)}}}.hover\:-translate-y-2{&:hover{@media (hover:hover){--tw-translate-y:calc(var(--spacing) * -2);translate:var(--tw-translate-x) var(--tw-translate-y)}}}.hover\:-translate-y-4{&:hover{@media (hover:hover){--tw-translate-y:calc(var(--spacing) * -4);translate:var(--tw-translate-x) var(--tw-translate-y)}}}.hover\:scale-105{&:hover{@media (hover:hover){--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x) var(--tw-scale-y)}}}.hover\:scale-110{&:hover{@media (hover:hover){--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x) var(--tw-scale-y)}}}.hover\:scale-\[1\.02\]{&:hover{@media (hover:hover){scale:1.02}}}.hover\:border-amber-400{&:hover{@media (hover:hover){border-color:var(--color-amber-400)}}}.hover\:border-dungeon-gold{&:hover{@media (hover:hover){border-color:var(--color-dungeon-gold)}}}.hover\:border-dungeon-gold\/40{&:hover{@media (hover:hover){border-color:color-mix(in srgb,#d4af37 40%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 40%,transparent)}}}}.hover\:border-dungeon-gold\/50{&:hover{@media (hover:hover){border-color:color-mix(in srgb,#d4af37 50%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 50%,transparent)}}}}.hover\:border-dungeon-gold\/60{&:hover{@media (hover:hover){border-color:color-mix(in srgb,#d4af37 60%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 60%,transparent)}}}}.hover\:border-gray-400{&:hover{@media (hover:hover){border-color:var(--color-gray-400)}}}.hover\:border-red-600{&:hover{@media (hover:hover){border-color:var(--color-red-600)}}}.hover\:border-white\/20{&:hover{@media (hover:hover){border-color:color-mix(in srgb,#fff 20%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-white) 20%,transparent)}}}}.hover\:bg-\[\#352a40\]{&:hover{@media (hover:hover){background-color:#352a40}}}.hover\:bg-amber-900\/20{&:hover{@media (hover:hover){background-color:color-mix(in srgb,oklch(41.4% 0.112 45.904) 20%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-amber-900) 20%,transparent)}}}}.hover\:bg-dungeon-brown{&:hover{@media (hover:hover){background-color:var(--color-dungeon-brown)}}}.hover\:bg-dungeon-brown\/30{&:hover{@media (hover:hover){background-color:color-mix(in srgb,#2c1a0e 30%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-brown) 30%,transparent)}}}}.hover\:bg-dungeon-brown\/40{&:hover{@media (hover:hover){background-color:color-mix(in srgb,#2c1a0e 40%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-brown) 40%,transparent)}}}}.hover\:bg-dungeon-gold\/10{&:hover{@media (hover:hover){background-color:color-mix(in srgb,#d4af37 10%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-dungeon-gold) 10%,transparent)}}}}.hover\:bg-gray-800{&:hover{@media (hover:hover){background-color:var(--color-gray-800)}}}.hover\:bg-red-900\/80{&:hover{@media (hover:hover){background-color:color-mix(in srgb,oklch(39.6% 0.141 25.723) 80%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-red-900) 80%,transparent)}}}}.hover\:bg-red-950\/30{&:hover{@media (hover:hover){background-color:color-mix(in srgb,oklch(25.8% 0.092 26.042) 30%,transparent);@supports (color:color-mix(in lab,red,red)){background-color:color-mix(in oklab,var(--color-red-950) 30%,transparent)}}}}.hover\:text-amber-200{&:hover{@media (hover:hover){color:var(--color-amber-200)}}}.hover\:text-dungeon-gold{&:hover{@media (hover:hover){color:var(--color-dungeon-gold)}}}.hover\:text-dungeon-gold\/90{&:hover{@media (hover:hover){color:color-mix(in srgb,#d4af37 90%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-dungeon-gold) 90%,transparent)}}}}.hover\:text-dungeon-paper{&:hover{@media (hover:hover){color:var(--color-dungeon-paper)}}}.hover\:text-red-500{&:hover{@media (hover:hover){color:var(--color-red-500)}}}.hover\:text-white\/80{&:hover{@media (hover:hover){color:color-mix(in srgb,#fff 80%,transparent);@supports (color:color-mix(in lab,red,red)){color:color-mix(in oklab,var(--color-white) 80%,transparent)}}}}.hover\:shadow-\[0_0_12px_rgba\(212\,175\,55\,0\.08\)\]{&:hover{@media (hover:hover){--tw-shadow:0 0 12px var(--tw-shadow-color,rgba(212,175,55,0.08));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}}.hover\:shadow-\[0_0_15px_rgba\(212\,175\,55\,0\.1\)\]{&:hover{@media (hover:hover){--tw-shadow:0 0 15px var(--tw-shadow-color,rgba(212,175,55,0.1));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}}.focus\:border-dungeon-gold{&:focus{border-color:var(--color-dungeon-gold)}}.focus\:border-dungeon-gold\/60{&:focus{border-color:color-mix(in srgb,#d4af37 60%,transparent);@supports (color:color-mix(in lab,red,red)){border-color:color-mix(in oklab,var(--color-dungeon-gold) 60%,transparent)}}}.focus\:ring-1{&:focus{--tw-ring-shadow:var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\:ring-dungeon-gold\/50{&:focus{--tw-ring-color:color-mix(in srgb,#d4af37 50%,transparent);@supports (color:color-mix(in lab,red,red)){--tw-ring-color:color-mix(in oklab,var(--color-dungeon-gold) 50%,transparent)}}}.focus\:outline-none{&:focus{--tw-outline-style:none;outline-style:none}}.active\:scale-95{&:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.active\:scale-\[0\.98\]{&:active{scale:0.98}}.disabled\:cursor-not-allowed{&:disabled{cursor:not-allowed}}.disabled\:opacity-30{&:disabled{opacity:30%}}.disabled\:opacity-40{&:disabled{opacity:40%}}.disabled\:opacity-50{&:disabled{opacity:50%}}.sm\:grid-cols-2{@media (width >= 40rem){grid-template-columns:repeat(2,minmax(0,1fr))}}.sm\:grid-cols-4{@media (width >= 40rem){grid-template-columns:repeat(4,minmax(0,1fr))}}.md\:top-\[5\%\]{@media (width >= 48rem){top:5%}}.md\:right-\[3\%\]{@media (width >= 48rem){right:3%}}.md\:bottom-\[22\%\]{@media (width >= 48rem){bottom:22%}}.md\:left-\[6\%\]{@media (width >= 48rem){left:6%}}.md\:translate-y-32{@media (width >= 48rem){--tw-translate-y:calc(var(--spacing) * 32);translate:var(--tw-translate-x) var(--tw-translate-y)}}.md\:grid-cols-2{@media (width >= 48rem){grid-template-columns:repeat(2,minmax(0,1fr))}}.md\:grid-cols-3{@media (width >= 48rem){grid-template-columns:repeat(3,minmax(0,1fr))}}.md\:grid-cols-5{@media (width >= 48rem){grid-template-columns:repeat(5,minmax(0,1fr))}}.md\:p-10{@media (width >= 48rem){padding:calc(var(--spacing) * 10)}}.md\:px-12{@media (width >= 48rem){padding-inline:calc(var(--spacing) * 12)}}.md\:pl-24{@media (width >= 48rem){padding-left:calc(var(--spacing) * 24)}}.md\:text-2xl{@media (width >= 48rem){font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}}.md\:text-6xl{@media (width >= 48rem){font-size:var(--text-6xl);line-height:var(--tw-leading,var(--text-6xl--line-height))}}.md\:text-8xl{@media (width >= 48rem){font-size:var(--text-8xl);line-height:var(--tw-leading,var(--text-8xl--line-height))}}}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes shimmer{0%{background-position:-1000px 0}100%{background-position:1000px 0}}@keyframes deal{0%{transform:translateY(100px) scale(0.5);opacity:0}100%{transform:translateY(0) scale(1);opacity:1}}@keyframes clashLeft{0%{transform:translateX(-200px) scale(0.8);opacity:0}40%{transform:translateX(-250px) scale(0.9);opacity:1}100%{transform:translateX(0) scale(1);opacity:1}}@keyframes clashRight{0%{transform:translateX(200px) scale(0.8);opacity:0}40%{transform:translateX(250px) scale(0.9);opacity:1}100%{transform:translateX(0) scale(1);opacity:1}}@keyframes shatter{0%{transform:scale(1);filter:brightness(2)}30%{transform:scale(1.2) rotate(15deg);filter:brightness(3) sepia(1) hue-rotate(-50deg);opacity:0.8}100%{transform:scale(1.5) rotate(45deg);opacity:0;filter:brightness(0)}}@keyframes shake{10%,90%{transform:translate3d(-2px,0,0)}20%,80%{transform:translate3d(4px,0,0)}30%,50%,70%{transform:translate3d(-6px,0,0)}40%,60%{transform:translate3d(6px,0,0)}}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:#14111a}::-webkit-scrollbar-thumb{background:#2a2535;border-radius:4px;border:1px solid #3a3545}::-webkit-scrollbar-thumb:hover{background:#3a3545}.custom-scrollbar::-webkit-scrollbar{width:6px}.custom-scrollbar::-webkit-scrollbar-track{background:#0a0a0c}.glass-panel{background:rgba(18,14,24,0.8);backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 4px 30px rgba(0,0,0,0.6)}.scanlines{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,rgba(255,255,255,0),rgba(255,255,255,0) 50%,rgba(0,0,0,0.1) 50%,rgba(0,0,0,0.1));background-size:100% 4px;pointer-events:none;z-index:9999;opacity:0.15}body{background-color:#0a0a10;color:#eaddcf;margin:0;padding:0;overflow:hidden}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0px}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:0.5}}@keyframes bounce{0%,100%{transform:translateY(-25%);animation-timing-function:cubic-bezier(0.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,0.2,1)}}@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,::before,::after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial}}}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>