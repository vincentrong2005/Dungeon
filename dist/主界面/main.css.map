{"version":3,"file":"main.css","mappings":"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","sources":["src://tavern_helper_template/src/‰∏ªÁïåÈù¢/components/CombatView.vue","src://tavern_helper_template/src/‰∏ªÁïåÈù¢/components/GameView.vue","src://tavern_helper_template/src/‰∏ªÁïåÈù¢/App.vue","src://tavern_helper_template/<no source>","src://tavern_helper_template/node_modules/.pnpm/tailwindcss@4.2.0/node_modules/tailwindcss/index.css","src://tavern_helper_template/src/‰∏ªÁïåÈù¢/styles.css"],"sourcesContent":["<template>\n  <div\n    class=\"combat-root w-full h-full bg-[#1a1a22] text-dungeon-paper font-ui relative overflow-hidden select-none\"\n    :class=\"screenShake ? 'animate-shake' : ''\"\n    :style=\"combatRootStyle\"\n  >\n    <!-- Background -->\n    <div class=\"absolute inset-0 z-0\">\n      <!-- Dynamic background image -->\n      <img\n        v-if=\"bgImageUrl\"\n        :src=\"bgImageUrl\"\n        class=\"absolute inset-0 w-full h-full object-cover\"\n        alt=\"\"\n        @error=\"onBgError\"\n      />\n      <!-- Fallback gradient -->\n      <div class=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_30%,_rgba(40,35,50,0.5),_#0e0e14_90%)]\"></div>\n      <!-- Darken overlay for readability -->\n      <div class=\"absolute inset-0 bg-black/40\"></div>\n    </div>\n    <div\n      class=\"absolute inset-0 opacity-20 z-0 mix-blend-overlay bg-[length:200px] bg-repeat\"\n      style=\"background-image: url('https://www.transparenttextures.com/patterns/dark-matter.png')\"\n    ></div>\n\n    <!-- Top Left: Settings -->\n    <div class=\"absolute top-4 left-4 z-50 pointer-events-auto flex flex-col gap-2\">\n      <button\n        class=\"w-10 h-10 bg-[#252030]/90 border border-white/10 rounded-xl text-dungeon-gold flex items-center justify-center hover:bg-[#352a40] hover:border-white/20 active:scale-95 transition-all shadow-lg\"\n        @click=\"settingsOpen = !settingsOpen\"\n      >\n        <Settings2 class=\"size-5\" />\n        <span class=\"sr-only\">ËÆæÁΩÆ</span>\n      </button>\n      <button\n        class=\"w-10 h-10 bg-[#252030]/90 border border-white/10 rounded-xl text-dungeon-gold flex items-center justify-center hover:bg-[#352a40] hover:border-white/20 active:scale-95 transition-all shadow-lg\"\n        @click=\"emit('openDeck')\"\n      >\n        <Scroll class=\"size-5\" />\n        <span class=\"sr-only\">Âç°ÁªÑ</span>\n      </button>\n      <button\n        class=\"w-10 h-10 bg-[#252030]/90 border border-white/10 rounded-xl text-dungeon-gold flex items-center justify-center hover:bg-[#352a40] hover:border-white/20 active:scale-95 transition-all shadow-lg\"\n        @click=\"emit('openRelics')\"\n      >\n        <Box class=\"size-5\" />\n        <span class=\"sr-only\">Áâ©ÂìÅ</span>\n      </button>\n      <div\n        v-if=\"settingsOpen\"\n        class=\"mt-1 w-52 bg-[#1a1520]/95 border border-white/10 rounded-xl p-3 text-xs text-dungeon-paper shadow-xl backdrop-blur-md\"\n      >\n        <label class=\"flex items-center gap-2 cursor-pointer select-none\">\n          <input v-model=\"battleSpeedUp\" type=\"checkbox\" class=\"accent-dungeon-gold\" />\n          <span>ÊàòÊñóÂä†ÈÄüÔºà2xÔºâ</span>\n        </label>\n      </div>\n    </div>\n\n    <!-- Top Center: Turn Counter -->\n    <div class=\"absolute top-4 left-1/2 -translate-x-1/2 z-40 pointer-events-none\">\n      <div class=\"flex flex-col items-center\">\n        <span class=\"text-xs text-white/60 tracking-widest\">ÂõûÂêà</span>\n        <span class=\"text-lg font-heading font-bold text-white/90\">{{ combatState.turn }}</span>\n      </div>\n    </div>\n\n    <!-- Battlefield Layer -->\n    <div class=\"absolute inset-0 z-10 pointer-events-none\">\n      <!-- Enemy Position: Top Right -->\n      <div class=\"absolute top-[3%] right-[2%] md:top-[5%] md:right-[3%] w-96 h-[32rem] flex flex-col items-center justify-end group transition-transform duration-1000\">\n        <!-- Enemy Intent Card -->\n        <div\n          v-if=\"combatState.enemyIntentCard\"\n          class=\"absolute -left-48 top-8\"\n        >\n          <div class=\"relative\">\n            <div class=\"absolute -top-5 left-0 text-amber-200/80 text-[10px] px-2 py-0.5 rounded\">\n              ÊïåÊñπÊÑèÂõæ\n            </div>\n            <div class=\"rotate-[-3deg] scale-90 shadow-[0_0_20px_rgba(200,120,0,0.15)]\">\n              <DungeonCard :card=\"combatState.enemyIntentCard\" is-enemy disabled />\n            </div>\n          </div>\n        </div>\n\n        <!-- Enemy Dice -->\n        <div v-if=\"!showClashAnimation\" class=\"absolute -left-24 bottom-20 z-20 animate-float\">\n          <DungeonDice :value=\"displayEnemyDice\" :rolling=\"isRolling\" color=\"red\" size=\"md\" />\n        </div>\n\n        <!-- Enemy Portrait -->\n        <div class=\"relative w-full h-full\">\n          <div\n            class=\"absolute bottom-4 left-1/2 -translate-x-1/2 w-64 h-80 flex items-end justify-center overflow-hidden\"\n          >\n            <!-- Placeholder icon (shown when portrait fails to load) -->\n            <Skull v-if=\"enemyPortraitError\" class=\"w-48 h-48 text-red-900/20 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\" />\n            <!-- Enemy portrait image -->\n            <img\n              v-else\n              :src=\"enemyPortraitUrl\"\n              class=\"w-full h-full object-contain object-bottom\"\n              alt=\"enemy portrait\"\n              @error=\"enemyPortraitError = true\"\n            />\n          </div>\n        </div>\n\n        <!-- Enemy Status Bar -->\n        <div class=\"relative overflow-visible mt-3 w-72 bg-[#18141e]/90 border border-white/8 p-3 rounded-xl shadow-lg backdrop-blur-sm z-10\">\n          <div class=\"flex justify-between text-sm text-white/90 font-bold mb-1.5\">\n            <span>{{ enemyDisplayName }}</span>\n          </div>\n          <div class=\"pointer-events-none absolute inset-0 z-30 overflow-visible\">\n            <div\n              v-for=\"popup in floatingNumbersFor('enemy')\"\n              :key=\"popup.id\"\n              class=\"combat-float-number absolute text-xl font-extrabold tracking-wide\"\n              :class=\"popup.colorClass\"\n              :style=\"{\n                left: `calc(50% + ${popup.leftOffset}px)`,\n                top: `${popup.topOffset}px`,\n                animationDuration: `${popup.duration}ms`,\n              }\"\n            >\n              {{ popup.text }}\n            </div>\n          </div>\n          <!-- Armor Shield -->\n          <div v-if=\"enemyArmor > 0 || enemyPoisonAmount > 0\" class=\"flex items-center gap-3 mb-1\">\n            <div v-if=\"enemyArmor > 0\" class=\"flex items-center gap-1\">\n              <span class=\"text-[10px] text-yellow-400\">üõ°Ô∏è</span>\n              <span class=\"text-[10px] text-yellow-300 font-bold\">{{ enemyArmor }}</span>\n            </div>\n            <div v-if=\"enemyPoisonAmount > 0\" class=\"flex items-center gap-1\">\n              <span class=\"text-[10px] text-green-400\">‚ò†</span>\n              <span class=\"text-[10px] text-green-300 font-bold\">{{ enemyPoisonAmount }}</span>\n            </div>\n          </div>\n          <!-- HP Bar -->\n          <div class=\"flex items-center gap-2 mb-1.5\">\n            <span class=\"text-[10px] text-[#ff6666] font-bold w-6\">HP</span>\n            <div class=\"relative flex-1 h-2.5 bg-[#1a0a0a] rounded-full overflow-hidden border border-red-900/20\">\n              <div\n                class=\"absolute inset-y-0 left-0 z-10 bg-gradient-to-r from-[#cc2200] to-[#ee3311] rounded-full transition-all duration-500\"\n                :style=\"withTransition({ width: `${enemyStats.maxHp > 0 ? (enemyStats.hp / enemyStats.maxHp) * 100 : 0}%` }, 500)\"\n              ></div>\n              <div\n                class=\"absolute inset-y-0 left-0 z-20 bg-green-600/75 rounded-full transition-all duration-500 poison-wave-bar\"\n                :style=\"withTransition({ width: `${enemyPoisonAmountPercent}%` }, 500)\"\n              ></div>\n            </div>\n            <span class=\"text-[10px] text-white/70 w-14 text-right\">{{ enemyStats.hp }}/{{ enemyStats.maxHp }}</span>\n          </div>\n          <!-- MP Bar -->\n          <div class=\"flex items-center gap-2 mb-1.5\">\n            <span class=\"text-[10px] text-[#55aaff] font-bold w-6\">MP</span>\n            <div class=\"flex-1 h-2 bg-[#0a0a1a] rounded-full overflow-hidden border border-blue-900/20\">\n              <div\n                class=\"h-full bg-gradient-to-r from-[#0066cc] to-[#0088ee] rounded-full transition-all duration-500\"\n                :style=\"withTransition({ width: `${Math.min((enemyStats.mp / 20) * 100, 100)}%` }, 500)\"\n              ></div>\n            </div>\n            <span class=\"text-[10px] text-white/60 w-14 text-right\">{{ enemyStats.mp }}</span>\n          </div>\n          <!-- Dice Range -->\n          <div class=\"flex items-center gap-2 mb-1\">\n            <span class=\"text-[10px] text-gray-400 font-bold w-6\">üé≤</span>\n            <span class=\"text-[10px] text-red-300\">{{ enemyStats.minDice }} ~ {{ enemyStats.maxDice }}</span>\n          </div>\n          <!-- Buffs/Debuffs -->\n          <div v-if=\"enemyVisibleEffects.length > 0\" class=\"flex flex-wrap gap-1 mt-1\">\n            <span\n              v-for=\"(eff, i) in enemyVisibleEffects\"\n              :key=\"i\"\n              class=\"text-[9px] px-1.5 py-0.5 rounded-full border font-bold\"\n              :class=\"effectPillClass(eff.polarity)\"\n              :title=\"getEffectDescription(eff.type)\"\n            >\n              {{ getEffectName(eff.type) }}\n              <template v-if=\"eff.stacks > 1\">x{{ eff.stacks }}</template>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Player Position: Bottom Left -->\n      <div class=\"absolute bottom-[18%] left-[3%] md:bottom-[22%] md:left-[6%] w-64 h-80 flex flex-col items-center justify-end z-20 translate-y-28 md:translate-y-32\">\n        <!-- Player Dice -->\n        <div v-if=\"!showClashAnimation\" class=\"absolute -top-24 left-[140%] -translate-x-1/2 z-20 animate-float\" style=\"animation-delay: 1s\">\n          <DungeonDice :value=\"displayPlayerDice\" :rolling=\"isRolling\" color=\"gold\" size=\"md\" />\n        </div>\n\n        <!-- Player Portrait -->\n        <div class=\"relative w-full h-full\">\n          <div\n            class=\"absolute bottom-0 left-1/2 -translate-x-1/2 w-64 h-80 flex items-end justify-center overflow-hidden\"\n          >\n            <!-- Placeholder glow (shown when portrait fails to load) -->\n            <div v-if=\"playerPortraitError\" class=\"size-20 bg-dungeon-gold/15 blur-2xl rounded-full absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\"></div>\n            <!-- Player portrait image -->\n            <img\n              v-else\n              :src=\"playerPortraitUrl\"\n              class=\"w-full h-full object-contain object-bottom\"\n              alt=\"player portrait\"\n              @error=\"playerPortraitError = true\"\n            />\n          </div>\n        </div>\n\n        <!-- Player Status Bar -->\n        <div class=\"relative overflow-visible mt-2 w-60 bg-[#18141e]/90 border border-white/8 p-2.5 rounded-xl shadow-xl backdrop-blur-sm z-10\">\n          <div class=\"flex justify-between text-xs text-white/80 font-bold mb-1.5\">\n            <span>ÂÜíÈô©ËÄÖ</span>\n          </div>\n          <div class=\"pointer-events-none absolute inset-0 z-30 overflow-visible\">\n            <div\n              v-for=\"popup in floatingNumbersFor('player')\"\n              :key=\"popup.id\"\n              class=\"combat-float-number absolute text-xl font-extrabold tracking-wide\"\n              :class=\"popup.colorClass\"\n              :style=\"{\n                left: `calc(50% + ${popup.leftOffset}px)`,\n                top: `${popup.topOffset}px`,\n                animationDuration: `${popup.duration}ms`,\n              }\"\n            >\n              {{ popup.text }}\n            </div>\n          </div>\n          <!-- Armor Shield -->\n          <div v-if=\"playerArmor > 0 || playerPoisonAmount > 0\" class=\"flex items-center gap-3 mb-1\">\n            <div v-if=\"playerArmor > 0\" class=\"flex items-center gap-1\">\n              <span class=\"text-[10px] text-yellow-400\">üõ°Ô∏è</span>\n              <span class=\"text-[10px] text-yellow-300 font-bold\">{{ playerArmor }}</span>\n            </div>\n            <div v-if=\"playerPoisonAmount > 0\" class=\"flex items-center gap-1\">\n              <span class=\"text-[10px] text-green-400\">‚ò†</span>\n              <span class=\"text-[10px] text-green-300 font-bold\">{{ playerPoisonAmount }}</span>\n            </div>\n          </div>\n          <!-- HP Bar -->\n          <div class=\"flex items-center gap-2 mb-1.5\">\n            <span class=\"text-[10px] text-[#ff6666] font-bold w-6\">HP</span>\n            <div class=\"relative flex-1 h-2.5 bg-[#1a0a0a] rounded-full overflow-hidden border border-red-900/20\">\n              <div\n                class=\"absolute inset-y-0 left-0 z-10 bg-gradient-to-r from-[#cc2200] to-[#ee3311] rounded-full transition-all duration-500\"\n                :style=\"withTransition({ width: `${playerStats.maxHp > 0 ? (playerStats.hp / playerStats.maxHp) * 100 : 0}%` }, 500)\"\n              ></div>\n              <div\n                class=\"absolute inset-y-0 left-0 z-20 bg-green-600/75 rounded-full transition-all duration-500 poison-wave-bar\"\n                :style=\"withTransition({ width: `${playerPoisonAmountPercent}%` }, 500)\"\n              ></div>\n            </div>\n            <span class=\"text-[10px] text-white/70 w-14 text-right\">{{ playerStats.hp }}/{{ playerStats.maxHp }}</span>\n          </div>\n          <!-- MP Bar -->\n          <div class=\"flex items-center gap-2 mb-1.5\">\n            <span class=\"text-[10px] text-[#55aaff] font-bold w-6\">MP</span>\n            <div class=\"flex-1 h-2 bg-[#0a0a1a] rounded-full overflow-hidden border border-blue-900/20\">\n              <div\n                class=\"h-full bg-gradient-to-r from-[#0066cc] to-[#0088ee] rounded-full transition-all duration-500\"\n                :style=\"withTransition({ width: `${Math.min((playerStats.mp / 20) * 100, 100)}%` }, 500)\"\n              ></div>\n            </div>\n            <span class=\"text-[10px] text-white/60 w-14 text-right\">{{ playerStats.mp }}</span>\n          </div>\n          <!-- Dice Range -->\n          <div class=\"flex items-center gap-2 mb-1\">\n            <span class=\"text-[10px] text-gray-400 font-bold w-6\">üé≤</span>\n            <span class=\"text-[10px] text-dungeon-gold\">{{ playerStats.minDice }} ~ {{ playerStats.maxDice }}</span>\n          </div>\n          <!-- Buffs/Debuffs -->\n          <div v-if=\"playerVisibleEffects.length > 0\" class=\"flex flex-wrap gap-1 mt-1\">\n            <span\n              v-for=\"(eff, i) in playerVisibleEffects\"\n              :key=\"i\"\n              class=\"text-[9px] px-1.5 py-0.5 rounded-full border font-bold\"\n              :class=\"effectPillClass(eff.polarity)\"\n              :title=\"getEffectDescription(eff.type)\"\n            >\n              {{ getEffectName(eff.type) }}\n              <template v-if=\"eff.stacks > 1\">x{{ eff.stacks }}</template>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- UI Layer (HUD) -->\n    <div class=\"absolute inset-0 z-30 flex flex-col pointer-events-none\">\n      <!-- Center: Clash Zone -->\n      <div class=\"flex-1 flex items-center justify-center relative\">\n        <!-- Clash Animation Stage -->\n        <div v-if=\"showClashAnimation\" class=\"relative w-full h-64 flex items-center justify-center z-50\">\n          <!-- Player Dice Flying In -->\n          <div\n            class=\"absolute right-1/2 mr-[-0.5rem] transition-all duration-300\"\n            :class=\"shatteringTarget === 'player' || shatteringTarget === 'both' ? 'animate-shatter' : 'animate-clash-left'\"\n            :style=\"transitionStyle(300)\"\n          >\n            <DungeonDice\n              :value=\"displayPlayerDice\"\n              :rolling=\"false\"\n              color=\"gold\"\n              size=\"lg\"\n            />\n          </div>\n\n          <!-- Enemy Dice Flying In -->\n          <div\n            class=\"absolute left-1/2 ml-[-0.5rem] transition-all duration-300\"\n            :class=\"shatteringTarget === 'enemy' || shatteringTarget === 'both' ? 'animate-shatter' : 'animate-clash-right'\"\n            :style=\"transitionStyle(300)\"\n          >\n            <DungeonDice\n              :value=\"displayEnemyDice\"\n              :rolling=\"false\"\n              color=\"red\"\n              size=\"lg\"\n            />\n          </div>\n        </div>\n\n      </div>\n\n      <!-- Bottom Bar: Hand & Piles -->\n      <div\n        class=\"pointer-events-auto min-h-[200px] w-full flex items-end justify-center pb-6 px-4 space-x-4 relative\"\n      >\n        <!-- Center: Hand Cards -->\n        <div class=\"flex space-x-4 items-end mb-2 z-40\">\n          <div\n            v-for=\"(card, idx) in combatState.playerHand\"\n            :key=\"handCardKey(card)\"\n            class=\"transition-all duration-500 origin-bottom\"\n            :class=\"handCardClass(card)\"\n            :style=\"transitionStyle(500)\"\n            @mouseenter=\"handlePlayerCardHoverStart(card)\"\n            @mouseleave=\"handlePlayerCardHoverEnd\"\n            @touchstart.passive=\"handlePlayerCardTouchStart(card)\"\n            @touchend=\"handlePlayerCardTouchEnd\"\n            @touchcancel=\"handlePlayerCardTouchEnd\"\n          >\n            <DungeonCard\n              :card=\"card\"\n              :disabled=\"combatState.phase !== CombatPhase.PLAYER_INPUT && combatState.playerSelectedCard !== card\"\n              @click=\"handleCardSelect(card, idx)\"\n            />\n          </div>\n        </div>\n\n        <!-- Right Corner: Skip + Deck/Discard -->\n        <div class=\"absolute right-6 bottom-6 flex flex-col items-end gap-2.5 z-50\">\n          <button\n            class=\"h-8 px-5 bg-[#252030]/90 border border-white/15 rounded-lg text-xs text-white/80 hover:border-amber-400 hover:text-amber-200 active:scale-95 transition-all disabled:opacity-40 disabled:cursor-not-allowed\"\n            :disabled=\"combatState.phase !== CombatPhase.PLAYER_INPUT\"\n            @click=\"handleSkipTurn\"\n          >\n            Ë∑≥ËøáÂõûÂêà\n          </button>\n\n          <div class=\"flex space-x-3\">\n            <div class=\"relative group\">\n              <button\n                class=\"w-14 h-14 bg-[#252030]/90 border border-white/10 rounded-xl flex flex-col items-center justify-center hover:border-dungeon-gold active:scale-95 transition-all shadow-lg\"\n                @click=\"overlayOpen = 'deck'\"\n              >\n                <Layers class=\"size-5 text-dungeon-gold\" />\n                <span class=\"text-[9px] text-white/40 mt-0.5\">{{ combatState.playerDeck.length }}</span>\n              </button>\n              <div\n                class=\"absolute -top-8 left-1/2 -translate-x-1/2 bg-black px-2 py-1 rounded text-[10px] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\"\n              >\n                ÁâåÂ∫ì\n              </div>\n            </div>\n\n            <div class=\"relative group\">\n              <button\n                class=\"w-14 h-14 bg-[#252030]/90 border border-white/10 rounded-xl flex flex-col items-center justify-center hover:border-gray-400 active:scale-95 transition-all shadow-lg\"\n                @click=\"overlayOpen = 'discard'\"\n              >\n                <Trash2 class=\"size-5 text-gray-400\" />\n                <span class=\"text-[9px] text-white/40 mt-0.5\">{{ combatState.discardPile.length }}</span>\n              </button>\n              <div\n                class=\"absolute -top-8 left-1/2 -translate-x-1/2 bg-black px-2 py-1 rounded text-[10px] whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\"\n              >\n                ÂºÉÁâåÂ†Ü\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Log Feed Overlay: top-right, below parent \"ÈÄÄÂá∫ÊàòÊñó\" button -->\n      <div class=\"absolute right-0 top-14 z-40 pointer-events-auto select-none\">\n        <div class=\"flex items-start\">\n          <button\n            class=\"h-7 px-2 rounded-l-lg border border-r-0 border-white/10 bg-[#18141e]/90 text-[10px] text-white/50 hover:text-white/80 transition-colors\"\n            :title=\"logsCollapsed ? 'Â±ïÂºÄÊó•Âøó' : 'ÊäòÂè†Êó•Âøó'\"\n            @click=\"logsCollapsed = !logsCollapsed\"\n          >\n            {{ logsCollapsed ? 'Êó•Âøó ‚óÄ' : 'Êó•Âøó ‚ñ∂' }}\n          </button>\n          <div\n            v-if=\"!logsCollapsed\"\n            class=\"w-80 max-h-44 overflow-y-auto space-y-1 border border-r-0 border-white/10 bg-[#18141e]/90 backdrop-blur-sm p-1 text-[10px] font-mono text-gray-300\"\n          >\n            <!-- eslint-disable-next-line vue/no-v-html -->\n            <div\n              v-for=\"(l, i) in combatState.logs\"\n              :key=\"i\"\n              class=\"bg-black/60 p-1 rounded border-l-2 border-gray-700\"\n              v-html=\"l\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      v-if=\"battleResultBanner\"\n      class=\"absolute inset-0 z-[70] flex items-center justify-center pointer-events-none\"\n    >\n      <div\n        class=\"px-12 py-5 rounded-2xl border-2 text-5xl md:text-6xl font-heading tracking-[0.2em] drop-shadow-[0_0_30px_rgba(0,0,0,0.9)] animate-pulse backdrop-blur-md\"\n        :class=\"battleResultBanner === 'win'\n          ? 'bg-emerald-950/70 border-emerald-400/60 text-emerald-300'\n          : 'bg-red-950/70 border-red-500/60 text-red-300'\"\n      >\n        {{ battleResultBanner === 'win' ? 'ËÉúÂà©' : 'Ë¥•Âåó' }}\n      </div>\n    </div>\n\n    <!-- Deck/Discard Overlay -->\n    <div\n      v-if=\"overlayOpen\"\n      class=\"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-8\"\n      @click=\"overlayOpen = null\"\n    >\n      <div\n        class=\"bg-[#18141e] border border-white/10 p-6 rounded-2xl max-w-2xl w-full max-h-[80%] flex flex-col relative shadow-2xl\"\n        @click.stop\n      >\n        <div class=\"flex justify-between items-center mb-4 border-b border-dungeon-brown pb-2\">\n          <h3 class=\"font-heading text-xl text-dungeon-gold\">\n            {{ overlayOpen === 'deck' ? 'ÂΩìÂâçÁâåÂ∫ì' : 'ÂºÉÁâåÂ†Ü' }}\n          </h3>\n          <button @click=\"overlayOpen = null\">\n            <XIcon class=\"size-6 hover:text-red-500\" />\n          </button>\n        </div>\n        <div class=\"overflow-y-auto grid grid-cols-4 gap-4 p-2\">\n          <div\n            v-for=\"(card, i) in overlayOpen === 'deck' ? combatState.playerDeck : combatState.discardPile\"\n            :key=\"i\"\n            class=\"scale-75 origin-top-left\"\n          >\n            <DungeonCard :card=\"card\" disabled />\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Box, Layers, Scroll, Settings2, Skull, Trash2, X as XIcon } from 'lucide-vue-next';\nimport { applyDamageToEntity, calculateFinalDamage, calculateFinalPoint, consumeColdAfterDealingDamage, triggerSwarmReviveIfNeeded } from '../battle/algorithms';\nimport { EFFECT_REGISTRY, applyEffect, getEffectStacks, processOnTurnEnd, processOnTurnStart, reduceEffectStacks, removeEffect } from '../battle/effects';\nimport { getEnemyByName } from '../battle/enemyRegistry';\nimport { useGameStore } from '../gameStore';\nimport { type CardData, type CombatState, type EffectPolarity, type EffectType, type EnemyAIContext, type EntityStats, CardType, CombatPhase, EffectType as ET } from '../types';\nimport DungeonCard from './DungeonCard.vue';\nimport DungeonDice from './DungeonDice.vue';\n\nconst props = withDefaults(defineProps<{\n  initialPlayerStats: EntityStats;\n  enemyName: string;\n  playerDeck: CardData[];\n  testStartAt999?: boolean;\n}>(), {\n  testStartAt999: false,\n});\n\nconst emit = defineEmits<{\n  endCombat: [win: boolean, finalStats: EntityStats];\n  openDeck: [];\n  openRelics: [];\n}>();\n\n// --- Enemy Loading ---\nconst enemyDef = getEnemyByName(props.enemyName);\nconst enemyDisplayName = enemyDef?.name ?? props.enemyName;\n\n// --- Portrait URLs ---\nconst playerPortraitUrl = 'https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/user/%E7%AB%8B%E7%BB%98.png';\nconst enemyPortraitUrl = computed(() => `https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E9%AD%94%E7%89%A9/${encodeURIComponent(enemyDisplayName)}.png`);\nconst playerPortraitError = ref(false);\nconst enemyPortraitError = ref(false);\n\n// --- Dynamic Background ---\nconst gameStore = useGameStore();\nconst bgIsLordFallback = ref(false);\nconst bgImageError = ref(false);\n\nconst HF_BASE = 'https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E8%83%8C%E6%99%AF';\nconst currentArea = computed(() => (gameStore.statData._ÂΩìÂâçÂå∫Âüü as string) || '');\nconst currentRoomType = computed(() => (gameStore.statData._ÂΩìÂâçÊàøÈó¥Á±ªÂûã as string) || '');\nconst bgImageUrl = computed(() => {\n  if (!currentArea.value || bgImageError.value) return '';\n  const isLord = currentRoomType.value === 'È¢Ü‰∏ª' && !bgIsLordFallback.value;\n  const suffix = isLord ? `${currentArea.value}_È¢Ü‰∏ª` : currentArea.value;\n  return `${HF_BASE}/${encodeURIComponent(suffix)}.png`;\n});\nfunction onBgError() {\n  if (currentRoomType.value === 'È¢Ü‰∏ª' && !bgIsLordFallback.value) {\n    bgIsLordFallback.value = true; // fallback to normal area bg\n  } else {\n    bgImageError.value = true; // give up, show gradient\n  }\n}\n\n// AI flags ‚Äî mutable state for enemy AI decisions (e.g. hasUsedHeal)\nconst aiFlags = reactive<Record<string, any>>({});\n\n// --- State ---\nconst cloneEntityStats = (stats: EntityStats): EntityStats => ({\n  ...stats,\n  effects: stats.effects.map((eff) => ({\n    ...eff,\n    restrictedTypes: eff.restrictedTypes ? [...eff.restrictedTypes] : undefined,\n  })),\n});\n\nconst normalizeTestStartStats = (stats: EntityStats): EntityStats => {\n  const cloned = cloneEntityStats(stats);\n  if (!props.testStartAt999) return cloned;\n  return { ...cloned, hp: 999, maxHp: 999, mp: 999 };\n};\n\nconst playerStats = ref<EntityStats>(\n  normalizeTestStartStats(props.initialPlayerStats),\n);\nconst enemyStats = ref<EntityStats>(\n  normalizeTestStartStats(\n    enemyDef\n      ? enemyDef.stats\n      : { hp: 1, maxHp: 1, mp: 0, minDice: 1, maxDice: 1, effects: [] },\n  ),\n);\n\n// --- Effect display helpers ---\nconst getEffectName = (type: EffectType): string => {\n  return EFFECT_REGISTRY[type]?.name ?? String(type);\n};\nconst getEffectDescription = (type: EffectType): string => {\n  return EFFECT_REGISTRY[type]?.description ?? '';\n};\nconst effectPillClass = (polarity: EffectPolarity): string => {\n  switch (polarity) {\n    case 'buff':    return 'bg-green-900/60 border-green-500/40 text-green-300';\n    case 'debuff':  return 'bg-red-900/60 border-red-500/40 text-red-300';\n    case 'trait':   return 'bg-gray-800/60 border-gray-500/40 text-gray-300';\n    case 'mixed':   return 'bg-purple-900/60 border-purple-500/40 text-purple-300';\n    case 'special': return 'bg-yellow-900/60 border-yellow-500/40 text-yellow-300';\n    default:        return 'bg-gray-800/60 border-gray-500/40 text-gray-300';\n  }\n};\n\n// --- Armor computed ---\nconst playerArmor = computed(() => {\n  const eff = playerStats.value.effects.find(e => e.type === ET.ARMOR);\n  return eff?.stacks ?? 0;\n});\nconst enemyArmor = computed(() => {\n  const eff = enemyStats.value.effects.find(e => e.type === ET.ARMOR);\n  return eff?.stacks ?? 0;\n});\nconst playerPoisonAmount = computed(() => {\n  const eff = playerStats.value.effects.find(e => e.type === ET.POISON_AMOUNT);\n  return eff?.stacks ?? 0;\n});\nconst enemyPoisonAmount = computed(() => {\n  const eff = enemyStats.value.effects.find(e => e.type === ET.POISON_AMOUNT);\n  return eff?.stacks ?? 0;\n});\nconst playerPoisonAmountPercent = computed(() => {\n  if (playerStats.value.maxHp <= 0) return 0;\n  return Math.max(0, Math.min((playerPoisonAmount.value / playerStats.value.maxHp) * 100, 100));\n});\nconst enemyPoisonAmountPercent = computed(() => {\n  if (enemyStats.value.maxHp <= 0) return 0;\n  return Math.max(0, Math.min((enemyPoisonAmount.value / enemyStats.value.maxHp) * 100, 100));\n});\nconst playerVisibleEffects = computed(() => playerStats.value.effects.filter(\n  e => e.type !== ET.ARMOR && e.type !== ET.POISON_AMOUNT,\n));\nconst enemyVisibleEffects = computed(() => enemyStats.value.effects.filter(\n  e => e.type !== ET.ARMOR && e.type !== ET.POISON_AMOUNT,\n));\n\nconst cloneCardForBattle = (card: CardData): CardData => ({\n  ...card,\n  calculation: { ...card.calculation },\n  damageLogic: { ...card.damageLogic },\n  traits: { ...card.traits },\n  cardEffects: card.cardEffects.map((ce) => ({\n    ...ce,\n    restrictedTypes: ce.restrictedTypes ? [...ce.restrictedTypes] : undefined,\n    cleanseTypes: ce.cleanseTypes ? [...ce.cleanseTypes] : undefined,\n  })),\n});\nconst toBattleDeck = (cards: CardData[]) => cards.map(cloneCardForBattle);\n\nconst enemyDeck = enemyDef ? toBattleDeck(enemyDef.deck) : [];\n\n// dummy card to prevent crash if enemy has no cards\nconst PASS_CARD: CardData = {\n  id: 'pass', name: 'Ë∑≥Ëøá', type: CardType.FUNCTION, category: 'Âü∫Á°Ä', manaCost: 0,\n  calculation: { multiplier: 0, addition: 0 }, damageLogic: { mode: 'fixed', value: 0 },\n  traits: { combo: false, reroll: 'none', draw: false }, cardEffects: [], description: 'Êó†Ë°åÂä®'\n};\n\nconst combatState = ref<CombatState>({\n  turn: 1,\n  phase: CombatPhase.TURN_START,\n  actionsRemaining: 1,\n  playerBaseDice: 1,\n  enemyBaseDice: 1,\n  playerHand: [],\n  playerDeck: toBattleDeck(props.playerDeck).sort(() => Math.random() - 0.5),\n  discardPile: [],\n  enemyDeck: [...enemyDeck],\n  enemyDiscard: [],\n  enemyIntentCard: null,\n  enemyPredictedPoint: 0,\n  playerSelectedCard: null,\n  lastPlayedCard: null,\n  logs: [`ÊàòÊñóÂºÄÂßãÔºÅÈÅ≠ÈÅá‰∫Ü <span class=\"text-red-500 font-bold\">${enemyDisplayName}</span>`],\n});\n\nconst isRolling = ref(false);\nconst showClashAnimation = ref(false);\nconst shatteringTarget = ref<'player' | 'enemy' | 'both' | null>(null);\nconst screenShake = ref(false);\nconst overlayOpen = ref<'deck' | 'discard' | null>(null);\nconst settingsOpen = ref(false);\nconst battleSpeedUp = ref(false);\nconst logsCollapsed = ref(true);\nconst battleResultBanner = ref<'win' | 'lose' | null>(null);\nconst endCombatPending = ref(false);\n\ntype BattleSide = 'player' | 'enemy';\ntype FloatingNumberKind = 'physical' | 'magic' | 'shield' | 'heal' | 'mana';\n\ninterface FloatingNumberEntry {\n  id: number;\n  side: BattleSide;\n  text: string;\n  colorClass: string;\n  leftOffset: number;\n  topOffset: number;\n  duration: number;\n}\n\nconst SPEED_SETTING_KEY = 'dungeon.combat.speed_up';\nconst speedMultiplier = computed(() => (battleSpeedUp.value ? 2 : 1));\nconst combatRootStyle = computed(() => ({ '--combat-speed-multiplier': String(speedMultiplier.value) }));\nconst floatingNumbers = ref<FloatingNumberEntry[]>([]);\nconst previewPlayerDice = ref<number | null>(null);\nconst previewEnemyDice = ref<number | null>(null);\nconst displayPlayerDice = computed(() => previewPlayerDice.value ?? combatState.value.playerBaseDice);\nconst displayEnemyDice = computed(() => previewEnemyDice.value ?? combatState.value.enemyBaseDice);\nlet hoverPreviewTimer: ReturnType<typeof setTimeout> | null = null;\nlet floatingNumberId = 0;\nlet handCardKeySeed = 0;\nconst handCardKeys = new WeakMap<CardData, string>();\n\n// Default relic modifiers (no relics yet)\nconst NO_RELIC_MOD = { globalMultiplier: 1, globalAddition: 0 };\n\n// --- Helpers ---\nconst scaleDuration = (ms: number) => Math.max(60, Math.floor(ms / speedMultiplier.value));\nconst wait = (ms: number) => new Promise<void>((resolve) => setTimeout(resolve, scaleDuration(ms)));\nconst transitionStyle = (ms: number) => ({ transitionDuration: `${scaleDuration(ms)}ms` });\nconst withTransition = (style: Record<string, string>, ms: number) => ({\n  ...style,\n  transitionDuration: `${scaleDuration(ms)}ms`,\n});\n\nconst floatingColors: Record<FloatingNumberKind, string> = {\n  physical: 'text-red-400 drop-shadow-[0_0_8px_rgba(248,113,113,0.85)]',\n  magic: 'text-red-400 drop-shadow-[0_0_8px_rgba(248,113,113,0.85)]',\n  shield: 'text-gray-300 drop-shadow-[0_0_8px_rgba(209,213,219,0.85)]',\n  heal: 'text-green-400 drop-shadow-[0_0_8px_rgba(74,222,128,0.85)]',\n  mana: 'text-blue-400 drop-shadow-[0_0_8px_rgba(96,165,250,0.85)]',\n};\n\nconst floatingNumbersFor = (side: BattleSide) => floatingNumbers.value.filter((entry) => entry.side === side);\nconst handCardKey = (card: CardData) => {\n  let key = handCardKeys.get(card);\n  if (!key) {\n    handCardKeySeed += 1;\n    key = `hand-${handCardKeySeed}`;\n    handCardKeys.set(card, key);\n  }\n  return key;\n};\n\nconst resolveTargetSide = (source: BattleSide, target: 'self' | 'enemy') => {\n  if (target === 'self') return source;\n  return source === 'player' ? 'enemy' : 'player';\n};\n\nconst consumeChargeOnRoll = (stats: EntityStats, label: string, rolled: number) => {\n  const chargeStacks = getEffectStacks(stats, ET.CHARGE);\n  if (chargeStacks <= 0) return rolled;\n  removeEffect(stats, ET.CHARGE);\n  const boosted = Math.max(0, Math.floor(rolled + chargeStacks));\n  log(`<span class=\"text-cyan-300\">${label}[ËìÑÂäõ] +${chargeStacks}ÔºåÂéüÂßãÈ™∞Â≠ê ${rolled} ‚Üí ${boosted}</span>`);\n  return boosted;\n};\n\nconst clearDicePreview = () => {\n  previewPlayerDice.value = null;\n  previewEnemyDice.value = null;\n  if (hoverPreviewTimer) {\n    clearTimeout(hoverPreviewTimer);\n    hoverPreviewTimer = null;\n  }\n};\n\nconst getCardFinalPoint = (source: 'player' | 'enemy', card: CardData, baseDice: number) => {\n  const attacker = source === 'player' ? playerStats.value : enemyStats.value;\n  const defender = source === 'player' ? enemyStats.value : playerStats.value;\n\n  let finalPoint = calculateFinalPoint({\n    baseDice,\n    card,\n    entityEffects: attacker.effects,\n    relicModifiers: NO_RELIC_MOD,\n  });\n\n  // Âç°Áâå‰∏ìÂ±ûÁÇπÊï∞‰øÆÊ≠£ÔºöÊïåÊñπÊØèÊúâ2Â±ÇÁáÉÁÉßÔºåÁÇπÊï∞+1\n  if (card.id === 'burn_inferno_judgement') {\n    finalPoint += Math.floor(getEffectStacks(defender, ET.BURN) / 2);\n  }\n\n  return Math.max(0, Math.floor(finalPoint));\n};\n\nconst getCardPreviewPoint = (source: 'player' | 'enemy', card: CardData, baseDice: number) => {\n  return getCardFinalPoint(source, card, baseDice);\n};\n\nconst handlePlayerCardHoverStart = (card: CardData) => {\n  if (combatState.value.phase !== CombatPhase.PLAYER_INPUT) return;\n  previewPlayerDice.value = getCardPreviewPoint('player', card, combatState.value.playerBaseDice);\n};\n\nconst handlePlayerCardHoverEnd = () => {\n  previewPlayerDice.value = null;\n};\n\nconst handlePlayerCardTouchStart = (card: CardData) => {\n  if (combatState.value.phase !== CombatPhase.PLAYER_INPUT) return;\n  if (hoverPreviewTimer) clearTimeout(hoverPreviewTimer);\n  hoverPreviewTimer = setTimeout(() => {\n    previewPlayerDice.value = getCardPreviewPoint('player', card, combatState.value.playerBaseDice);\n  }, 260);\n};\n\nconst handlePlayerCardTouchEnd = () => {\n  if (hoverPreviewTimer) {\n    clearTimeout(hoverPreviewTimer);\n    hoverPreviewTimer = null;\n  }\n  previewPlayerDice.value = null;\n};\n\nconst pushFloatingNumber = (side: BattleSide, value: number, kind: FloatingNumberKind, sign: '+' | '-' = '+') => {\n  const amount = Math.max(0, Math.floor(value));\n  if (amount <= 0) return;\n\n  const id = ++floatingNumberId;\n  // Extend popup lifetime by ~50% for better readability.\n  const duration = scaleDuration(1350);\n  floatingNumbers.value.push({\n    id,\n    side,\n    text: `${sign}${amount}`,\n    colorClass: floatingColors[kind],\n    leftOffset: Math.floor((Math.random() - 0.5) * 120),\n    topOffset: 24 + Math.floor(Math.random() * 20),\n    duration,\n  });\n\n  setTimeout(() => {\n    floatingNumbers.value = floatingNumbers.value.filter((entry) => entry.id !== id);\n  }, duration);\n};\n\nconst log = (msg: string) => {\n  combatState.value.logs = [msg, ...combatState.value.logs].slice(0, 5);\n};\n\nonMounted(() => {\n  battleSpeedUp.value = localStorage.getItem(SPEED_SETTING_KEY) === '1';\n});\nwatch(battleSpeedUp, (enabled) => {\n  localStorage.setItem(SPEED_SETTING_KEY, enabled ? '1' : '0');\n});\n\nconst drawCards = (count: number, currentDeck: CardData[], currentDiscard: CardData[]) => {\n  let deck = [...currentDeck];\n  let discard = [...currentDiscard];\n  const drawn: CardData[] = [];\n\n  for (let i = 0; i < count; i++) {\n    if (deck.length === 0) {\n      if (discard.length === 0) break;\n      deck = [...discard].sort(() => Math.random() - 0.5);\n      discard = [];\n      log('<span class=\"text-yellow-500\">ÂºÉÁâåÂ†ÜÂ∑≤Ê¥óÂÖ•ÁâåÂ∫ì„ÄÇ</span>');\n    }\n    const card = deck.pop();\n    if (card) drawn.push(card);\n  }\n  return { drawn, newDeck: deck, newDiscard: discard };\n};\n\nconst handCardClass = (card: CardData) => {\n  const selected = combatState.value.playerSelectedCard;\n  const isSelected = selected === card;\n  const isNotSelected = selected && !isSelected;\n  const isActionPhase = combatState.value.phase === CombatPhase.PLAYER_INPUT;\n\n  return [\n    isSelected ? '-translate-y-12 scale-110 z-50 ring-2 ring-dungeon-gold rounded-lg shadow-[0_0_30px_#d4af37]' : '',\n    isNotSelected ? 'opacity-30 scale-90 translate-y-8 grayscale' : 'hover:scale-110 hover:-translate-y-4 hover:z-50',\n    !isActionPhase && !isSelected ? 'opacity-50 grayscale cursor-not-allowed' : 'cursor-pointer',\n  ];\n};\n\n// --- Enemy AI Card Selection ---\nfunction selectEnemyCard(): CardData {\n  // Áú©Êôï‰∏≠ÁöÑÊïåÊñπÊú¨ÂõûÂêàÁõ¥Êé•Ë∑≥Ëøá\n  if (getEffectStacks(enemyStats.value, ET.STUN) > 0) {\n    log('<span class=\"text-gray-400\">ÊïåÊñπÂ§Ñ‰∫éÁú©ÊôïÔºåË∑≥ËøáÂõûÂêà„ÄÇ</span>');\n    return PASS_CARD;\n  }\n\n  if (combatState.value.enemyDeck.length === 0) {\n    if (combatState.value.enemyDiscard.length === 0) return PASS_CARD; // Fallback\n    combatState.value.enemyDeck = [...combatState.value.enemyDiscard].sort(() => Math.random() - 0.5);\n    combatState.value.enemyDiscard = [];\n  }\n\n  if (enemyDef) {\n    // Use the enemy's custom AI logic\n    const ctx: EnemyAIContext = {\n      enemyStats: enemyStats.value,\n      playerStats: playerStats.value,\n      deck: combatState.value.enemyDeck,\n      turn: combatState.value.turn,\n      flags: aiFlags,\n    };\n    return enemyDef.selectCard(ctx);\n  }\n\n  // Fallback: random selection (should never happen with proper registry)\n  const idx = Math.floor(Math.random() * combatState.value.enemyDeck.length);\n  return combatState.value.enemyDeck[idx]!;\n}\n\n// --- Phase Management ---\n\nconst startTurn = () => {\n  if (endCombatPending.value) return;\n  clearDicePreview();\n  combatState.value.phase = CombatPhase.DRAW_PHASE;\n  combatState.value.playerSelectedCard = null;\n  combatState.value.enemyIntentCard = null;\n  isRolling.value = true;\n  shatteringTarget.value = null;\n  showClashAnimation.value = false;\n\n  setTimeout(() => {\n    if (endCombatPending.value) return;\n    const pRawRoll = Math.floor(Math.random() * (playerStats.value.maxDice - playerStats.value.minDice + 1)) + playerStats.value.minDice;\n    const eRawRoll = Math.floor(Math.random() * (enemyStats.value.maxDice - enemyStats.value.minDice + 1)) + enemyStats.value.minDice;\n    const pRoll = consumeChargeOnRoll(playerStats.value, 'ÊàëÊñπ', pRawRoll);\n    const eRoll = consumeChargeOnRoll(enemyStats.value, 'ÊïåÊñπ', eRawRoll);\n\n    isRolling.value = false;\n    combatState.value.playerBaseDice = pRoll;\n    combatState.value.enemyBaseDice = eRoll;\n    combatState.value.phase = CombatPhase.DRAW_PHASE;\n    log(`Êé∑È™∞ÁªìÊûúÔºöÊàëÊñπ [${pRoll}] vs ÊïåÊñπ [${eRoll}]`);\n  }, scaleDuration(1500));\n};\n\n// Watch for INIT phase\nwatch(\n  () => combatState.value.phase,\n  (phase) => {\n     if (endCombatPending.value) return;\n     if (phase === CombatPhase.TURN_START) {\n      // Process turn-start effects (poison, burn, mana spring, etc.)\n      if (combatState.value.turn > 1) {\n        for (const [side, label, stats] of [['player', 'ÊàëÊñπ', playerStats], ['enemy', 'ÊïåÊñπ', enemyStats]] as const) {\n          const result = processOnTurnStart(stats.value);\n          let turnStartLogs = result.logs;\n          // ÁáÉÁÉß‰º§ÂÆ≥ÂçïÁã¨ÊèêÁ§∫ÔºåÂπ∂ÊîØÊåÅÁªìÁïåÊäµÊå°‰∏ÄÊ¨°ÈùûÁúüÂÆû‰º§ÂÆ≥\n          const burnLog = result.logs.find((entry) => entry.includes('[ÁáÉÁÉß]'));\n          if (burnLog) {\n            const burnMatch = burnLog.match(/ÊçüÂ§±\\s+(\\d+)\\s+ÁÇπÁîüÂëΩ/);\n            const burnDamage = burnMatch ? Number(burnMatch[1]) : 0;\n            if (burnDamage > 0 && getEffectStacks(stats.value, ET.BARRIER) > 0) {\n              reduceEffectStacks(stats.value, ET.BARRIER, 1);\n              result.hpChange += burnDamage;\n              turnStartLogs = result.logs.filter((entry) => entry !== burnLog);\n              log(`<span class=\"text-gray-400 text-[9px]\">${label}: [ÁªìÁïå] ÊäµÊå°‰∫Ü ${burnDamage} ÁÇπÁáÉÁÉß‰º§ÂÆ≥„ÄÇ</span>`);\n            } else if (burnDamage > 0) {\n              pushFloatingNumber(side, burnDamage, 'magic', '-');\n            }\n          }\n\n          if (result.hpChange !== 0) {\n            const hpBefore = stats.value.hp;\n            stats.value.hp = Math.max(0, Math.min(stats.value.maxHp, stats.value.hp + result.hpChange));\n            const hpDelta = stats.value.hp - hpBefore;\n            if (hpDelta > 0) {\n              pushFloatingNumber(side, hpDelta, 'heal', '+');\n            }\n          }\n          if (result.mpChange !== 0) {\n            const mpBefore = stats.value.mp;\n            stats.value.mp = Math.max(0, stats.value.mp + result.mpChange);\n            const mpDelta = stats.value.mp - mpBefore;\n            if (mpDelta > 0) {\n              pushFloatingNumber(side, mpDelta, 'mana', '+');\n            }\n          }\n          if (result.trueDamage > 0) stats.value.hp = Math.max(0, stats.value.hp - result.trueDamage);\n          const reviveResult = triggerSwarmReviveIfNeeded(stats.value);\n          for (const reviveLog of reviveResult.logs) {\n            log(`<span class=\"text-violet-300 text-[9px]\">${label}: ${reviveLog}</span>`);\n          }\n          for (const l of turnStartLogs) {\n            log(`<span class=\"text-gray-400 text-[9px]\">${label}: ${l}</span>`);\n          }\n        }\n      }\n      setTimeout(() => {\n        if (endCombatPending.value) return;\n        startTurn();\n      }, scaleDuration(1000));\n    }\n  },\n  { immediate: true },\n);\n\n// Watch for DRAW_PHASE\nwatch(\n  [() => combatState.value.phase, isRolling],\n  ([phase, rolling]) => {\n    if (endCombatPending.value) return;\n    if (phase === CombatPhase.DRAW_PHASE && !rolling) {\n      // Use enemy AI to select card\n      const eCard = selectEnemyCard();\n      const { drawn, newDeck, newDiscard } = drawCards(3, combatState.value.playerDeck, combatState.value.discardPile);\n\n      combatState.value.enemyIntentCard = eCard;\n      combatState.value.playerHand = drawn;\n      combatState.value.playerDeck = newDeck;\n      combatState.value.discardPile = newDiscard;\n      combatState.value.phase = CombatPhase.PLAYER_INPUT;\n    }\n  },\n);\n\n// Handle Card Select\nconst handleCardSelect = (card: CardData, handIdx: number) => {\n  if (combatState.value.phase !== CombatPhase.PLAYER_INPUT) return;\n  if (handIdx < 0 || handIdx >= combatState.value.playerHand.length) return;\n  if (combatState.value.playerHand[handIdx] !== card) return;\n\n  if (card.type === CardType.MAGIC) {\n    if (playerStats.value.mp < card.manaCost) {\n      log('<span class=\"text-red-400\">È≠îÂäõ‰∏çË∂≥ÔºÅ</span>');\n      return;\n    }\n    playerStats.value.mp -= card.manaCost;\n  }\n\n  // Âá∫ÁâåÂêéÁ´ãÂç≥Á¶ªÂºÄÊâãÁâåÔºàÂç°Áâå‚ÄúÊ∂àÂ§±‚ÄùÔºâÔºåÂπ∂ËøõÂÖ•ÂºÉÁâåÂ†Ü\n  const [played] = combatState.value.playerHand.splice(handIdx, 1);\n  if (!played) return;\n  clearDicePreview();\n  combatState.value.discardPile.push(played);\n  combatState.value.playerSelectedCard = played;\n  combatState.value.phase = CombatPhase.RESOLUTION;\n};\n\nconst handleSkipTurn = () => {\n  if (combatState.value.phase !== CombatPhase.PLAYER_INPUT) return;\n  if (!combatState.value.enemyIntentCard) return;\n\n  clearDicePreview();\n  combatState.value.playerSelectedCard = PASS_CARD;\n  combatState.value.phase = CombatPhase.RESOLUTION;\n  log('<span class=\"text-gray-400\">‰Ω†ÈÄâÊã©‰∫ÜË∑≥ËøáÂΩìÂâçÂõûÂêà„ÄÇ</span>');\n};\n\n// Clashable check\nconst isClashable = (t1: CardType, t2: CardType): boolean => {\n  if (t1 === CardType.PHYSICAL && t2 === CardType.PHYSICAL) return true;\n  if (t1 === CardType.MAGIC && t2 === CardType.MAGIC) return true;\n  if (t1 === CardType.DODGE && (t2 === CardType.PHYSICAL || t2 === CardType.MAGIC)) return true;\n  if (t2 === CardType.DODGE && (t1 === CardType.PHYSICAL || t1 === CardType.MAGIC)) return true;\n  return false;\n};\n\n// Resolution\nconst resolveCombat = async (pCard: CardData, eCard: CardData, pDice: number, eDice: number) => {\n  let resolvedEnemyCard = eCard;\n  if (resolvedEnemyCard.type === CardType.MAGIC && resolvedEnemyCard.id !== PASS_CARD.id) {\n    if (enemyStats.value.mp >= resolvedEnemyCard.manaCost) {\n      enemyStats.value.mp -= resolvedEnemyCard.manaCost;\n    } else {\n      resolvedEnemyCard = PASS_CARD;\n      log('<span class=\"text-gray-400\">ÊïåÊñπÈ≠îÂäõ‰∏çË∂≥ÔºåÊú¨ÂõûÂêàËßÜ‰∏∫Ë∑≥Ëøá„ÄÇ</span>');\n    }\n  }\n\n  const shouldClash = isClashable(pCard.type, resolvedEnemyCard.type);\n  const playerSkippedTurn = pCard.id === PASS_CARD.id;\n  const enemySkippedTurn = resolvedEnemyCard.id === PASS_CARD.id;\n  const pClashPoint = getCardPreviewPoint('player', pCard, pDice);\n  const eClashPoint = getCardPreviewPoint('enemy', resolvedEnemyCard, eDice);\n\n  const clearBurnForSide = (side: 'player' | 'enemy', reason: string) => {\n    const target = side === 'player' ? playerStats.value : enemyStats.value;\n    const label = side === 'player' ? 'ÊàëÊñπ' : 'ÊïåÊñπ';\n    const burnStacks = getEffectStacks(target, ET.BURN);\n    if (burnStacks <= 0) return;\n    removeEffect(target, ET.BURN);\n    log(`<span class=\"text-orange-300\">${reason} ${label}ÁáÉÁÉßÊ∏ÖÁ©∫Ôºà${burnStacks}Â±ÇÔºâ„ÄÇ</span>`);\n  };\n\n  if (enemySkippedTurn) {\n    clearBurnForSide('player', 'ÊïåÊñπË∑≥ËøáÂõûÂêà„ÄÇ');\n  }\n  if (playerSkippedTurn) {\n    clearBurnForSide('enemy', 'ÊàëÊñπË∑≥ËøáÂõûÂêà„ÄÇ');\n  }\n\n  let pSuccess = true;\n  let eSuccess = true;\n  let resultMsg = '';\n  let clashWinner: 'player' | 'enemy' | 'tie' | null = null;\n\n  if (shouldClash) {\n    previewPlayerDice.value = pClashPoint;\n    previewEnemyDice.value = eClashPoint;\n    showClashAnimation.value = true;\n    await wait(600);\n\n    screenShake.value = true;\n    setTimeout(() => (screenShake.value = false), scaleDuration(500));\n\n    if (pCard.type === resolvedEnemyCard.type) {\n      if (pClashPoint > eClashPoint) {\n        eSuccess = false;\n        clashWinner = 'player';\n        resultMsg = 'ÊãºÁÇπËÉúÂà©ÔºÅ';\n      } else if (eClashPoint > pClashPoint) {\n        pSuccess = false;\n        clashWinner = 'enemy';\n        resultMsg = 'ÊãºÁÇπÂ§±Ë¥•ÔºÅ';\n      } else {\n        pSuccess = false;\n        eSuccess = false;\n        clashWinner = 'tie';\n        resultMsg = 'ÂäøÂùáÂäõÊïåÔºÅ';\n      }\n    } else if (pCard.type === CardType.DODGE) {\n      if (eClashPoint > pClashPoint) {\n        eSuccess = false;\n        clashWinner = 'player';\n        resultMsg = 'Èó™ÈÅøÊàêÂäüÔºÅ';\n      } else {\n        pSuccess = false;\n        clashWinner = 'enemy';\n        resultMsg = 'Èó™ÈÅøÂ§±Ë¥•ÔºÅ';\n      }\n    } else if (resolvedEnemyCard.type === CardType.DODGE) {\n      if (pClashPoint > eClashPoint) {\n        pSuccess = false;\n        clashWinner = 'enemy';\n        resultMsg = 'ÊîªÂáªË¢´Èó™ÈÅøÔºÅ';\n      } else {\n        eSuccess = false;\n        clashWinner = 'player';\n        resultMsg = 'ÊïåÊñπÈó™ÈÅøÂ§±Ë¥•ÔºÅ';\n      }\n    }\n\n    if (clashWinner === 'player') shatteringTarget.value = 'enemy';\n    else if (clashWinner === 'enemy') shatteringTarget.value = 'player';\n    else if (clashWinner === 'tie') {\n      shatteringTarget.value = 'both';\n    }\n\n    if (resultMsg) {\n      log(`<span class=\"text-gray-300\">${resultMsg}</span>`);\n    }\n\n    if (clashWinner === 'player') {\n      clearBurnForSide('player', 'ÊãºÁÇπËÉúÂà©„ÄÇ');\n    } else if (clashWinner === 'enemy') {\n      clearBurnForSide('enemy', 'ÊãºÁÇπËÉúÂà©„ÄÇ');\n    }\n\n    await wait(650);\n    showClashAnimation.value = false;\n    clearDicePreview();\n  } else {\n    await wait(500);\n    log('<span class=\"text-gray-400\">ÂèåÊñπÂç°Áâå‰∫í‰∏çÂπ≤Êâ∞ÔºåÁõ¥Êé•ÁªìÁÆó„ÄÇ</span>');\n    pSuccess = true;\n    eSuccess = true;\n  }\n\n  // Execution Phase ‚Äî use algorithms.ts for proper damage calculation\n  const executeCard = (source: 'player' | 'enemy', card: CardData, baseDice: number) => {\n    const attacker = source === 'player' ? playerStats.value : enemyStats.value;\n    const defender = source === 'player' ? enemyStats.value : playerStats.value;\n    const label = source === 'player' ? 'ÊàëÊñπ' : 'ÊïåÊñπ';\n    const defenderSide = source === 'player' ? 'enemy' : 'player';\n\n    // Calculate final point for this card\n    const finalPoint = getCardFinalPoint(source, card, baseDice);\n\n    const syncCurrentPointForUi = () => {\n      if (card.type !== CardType.FUNCTION || card.id === PASS_CARD.id) return;\n      const nextPoint = Math.max(0, Math.floor(finalPoint));\n      if (source === 'player') {\n        if (combatState.value.playerBaseDice !== nextPoint) {\n          combatState.value.playerBaseDice = nextPoint;\n          log(`<span class=\"text-dungeon-gold/80\">ÊàëÊñπÂΩìÂâçÁÇπÊï∞Ë∞ÉÊï¥‰∏∫ ${nextPoint}</span>`);\n        }\n      } else if (combatState.value.enemyBaseDice !== nextPoint) {\n        combatState.value.enemyBaseDice = nextPoint;\n      }\n    };\n\n    const applyCardEffects = () => {\n      let hasEffect = false;\n\n      for (const ce of card.cardEffects) {\n        const targetKey = ce.target ?? 'self';\n        const targetEntity = targetKey === 'self' ? attacker : defender;\n        const targetSide = resolveTargetSide(source, targetKey);\n\n        if (ce.kind === 'heal') {\n          const healAmount = ce.valueMode === 'point_scale'\n            ? Math.floor(finalPoint * (ce.scale ?? 1))\n            : Math.floor(ce.fixedValue ?? 0);\n          const beforeHp = targetEntity.hp;\n          targetEntity.hp = Math.min(targetEntity.maxHp, targetEntity.hp + healAmount);\n          const actualHeal = targetEntity.hp - beforeHp;\n          if (actualHeal > 0) {\n            pushFloatingNumber(targetSide, actualHeal, 'heal', '+');\n          }\n          log(`<span class=\"text-green-400\">${label}„Äê${card.name}„ÄëÂõûÂ§ç‰∫Ü ${healAmount} ÁÇπÁîüÂëΩ</span>`);\n          hasEffect = true;\n        } else if (ce.kind === 'apply_buff') {\n          const stacks = ce.valueMode === 'point_scale'\n            ? Math.floor(finalPoint * (ce.scale ?? 1))\n            : Math.floor(ce.fixedValue ?? 1);\n          applyEffect(targetEntity, ce.effectType!, stacks, {\n            restrictedTypes: ce.restrictedTypes,\n            source: card.id,\n            lockDecayThisTurn: ce.effectType === ET.BIND,\n          });\n          if (ce.effectType === ET.ARMOR) {\n            pushFloatingNumber(targetSide, stacks, 'shield', '+');\n          }\n          log(`<span class=\"text-yellow-400\">${label}„Äê${card.name}„ÄëËé∑Âæó‰∫Ü ${stacks} Â±Ç${EFFECT_REGISTRY[ce.effectType!]?.name ?? ce.effectType}</span>`);\n          hasEffect = true;\n        } else if (ce.kind === 'restore_mana') {\n          const restoreAmount = ce.valueMode === 'point_scale'\n            ? Math.floor(finalPoint * (ce.scale ?? 1))\n            : Math.floor(ce.fixedValue ?? 0);\n          const beforeMp = targetEntity.mp;\n          targetEntity.mp = Math.max(0, targetEntity.mp + restoreAmount);\n          const actualRestore = targetEntity.mp - beforeMp;\n          if (actualRestore > 0) {\n            pushFloatingNumber(targetSide, actualRestore, 'mana', '+');\n          }\n          log(`<span class=\"text-blue-400\">${label}„Äê${card.name}„ÄëÂõûÂ§ç‰∫Ü ${restoreAmount} ÁÇπÈ≠îÂäõ</span>`);\n          hasEffect = true;\n        } else if (ce.kind === 'cleanse') {\n          const cleanseTargets = ce.cleanseTypes && ce.cleanseTypes.length > 0\n            ? ce.cleanseTypes\n            : targetEntity.effects.map((eff) => eff.type);\n          for (const et of cleanseTargets) {\n            removeEffect(targetEntity, et);\n          }\n          log(`<span class=\"text-cyan-300\">${label}„Äê${card.name}„ÄëÊ∏ÖÈô§‰∫ÜË¥üÈù¢ÊïàÊûú</span>`);\n          hasEffect = true;\n        }\n      }\n\n      return hasEffect;\n    };\n\n    if (card.type === CardType.FUNCTION) {\n      if (card.id === 'burn_char_convert') {\n        const burned = getEffectStacks(attacker, ET.BURN);\n        syncCurrentPointForUi();\n        if (burned > 0) {\n          removeEffect(attacker, ET.BURN);\n          attacker.mp += burned;\n          pushFloatingNumber(source, burned, 'mana', '+');\n          log(`<span class=\"text-blue-400\">${label}„Äê${card.name}„ÄëÊ∏ÖÈô§‰∫Ü ${burned} Â±ÇÁáÉÁÉßÂπ∂ÂõûÂ§ç‰∫Ü ${burned} ÁÇπÈ≠îÂäõ</span>`);\n        } else {\n          log(`<span class=\"text-gray-400\">${label}„Äê${card.name}„ÄëÊú™Ê£ÄÊµãÂà∞ÁáÉÁÉßÂ±ÇÊï∞</span>`);\n        }\n        return;\n      }\n\n      // Process card effects (heal, apply_buff, restore_mana, cleanse)\n      syncCurrentPointForUi();\n      const hasEffect = applyCardEffects();\n      if (!hasEffect) {\n        // Fallback for special function cards (e.g. MP recovery)\n        if (card.id === 'c5') {\n          attacker.mp += 5;\n          pushFloatingNumber(source, 5, 'mana', '+');\n        }\n        log(`${label}‰ΩøÁî®‰∫Ü„Äê${card.name}„Äë`);\n      }\n    } else if (card.type !== CardType.DODGE) {\n      const burnStacksOnDefender = getEffectStacks(defender, ET.BURN);\n      const baseHitCount = Math.max(1, Math.floor(card.hitCount ?? 1));\n      const extraHitCount = card.id === 'enemy_moth_swarm_burst'\n        ? Math.max(0, getEffectStacks(attacker, ET.SWARM))\n        : 0;\n      const totalHitCount = baseHitCount + extraHitCount;\n\n      if (totalHitCount > 1) {\n        log(`<span class=\"text-violet-300\">${label}„Äê${card.name}„ÄëËøõË°å ${totalHitCount} ÊÆµÊîªÂáª</span>`);\n      }\n\n      for (let hit = 0; hit < totalHitCount; hit++) {\n        // Attack card: calculate damage through the full pipeline\n        let cardForCalculation = card;\n        const customDamage =\n          card.id === 'burn_scorch_wind'\n            ? Math.floor(finalPoint * 0.5) + burnStacksOnDefender\n            : card.id === 'burn_detonation'\n              ? Math.floor(burnStacksOnDefender)\n              : null;\n\n        if (customDamage !== null) {\n          cardForCalculation = {\n            ...card,\n            damageLogic: { mode: 'fixed', value: Math.floor(customDamage) },\n          };\n        }\n\n        const { damage, logs: dmgLogs } = calculateFinalDamage({\n          finalPoint,\n          card: cardForCalculation,\n          attackerEffects: attacker.effects,\n          defenderEffects: defender.effects,\n          relicModifiers: NO_RELIC_MOD,\n        });\n        const { actualDamage, logs: applyLogs } = applyDamageToEntity(defender, damage, false);\n        const hitPrefix = totalHitCount > 1 ? `Á¨¨${hit + 1}ÊÆµ` : '';\n        log(`${label}„Äê${card.name}„Äë${hitPrefix}ÁÇπÊï∞${finalPoint}ÔºåÈÄ†Êàê <span class=\"text-red-400 font-bold\">${actualDamage}</span> ÁÇπ‰º§ÂÆ≥`);\n        if (actualDamage > 0) {\n          const damageKind: FloatingNumberKind = card.type === CardType.MAGIC ? 'magic' : 'physical';\n          pushFloatingNumber(defenderSide, actualDamage, damageKind, '-');\n        }\n\n        const coldLogs = consumeColdAfterDealingDamage(attacker, actualDamage);\n        for (const coldLog of coldLogs) {\n          log(`<span class=\"text-sky-300 text-[9px]\">${label}: ${coldLog}</span>`);\n        }\n\n        for (const dl of [...dmgLogs, ...applyLogs]) {\n          log(`<span class=\"text-gray-500 text-[9px]\">${dl}</span>`);\n        }\n        if (defender.hp <= 0) break;\n      }\n\n      // ÊîªÂáªÁâåÁªìÁÆóÂêéÂêåÊ†∑Ëß¶ÂèëÈôÑÂ∏¶ÊïàÊûúÔºàÁáÉÁÉß„ÄÅÊòì‰º§Á≠âÔºâ\n      applyCardEffects();\n    }\n  };\n\n  interface ActionEntry {\n    source: 'player' | 'enemy';\n    card: CardData;\n    type: CardType;\n    baseDice: number;\n  }\n\n  const queue: ActionEntry[] = [];\n  let deferredEnemyAction: ActionEntry | null = null;\n  if (pSuccess) queue.push({ source: 'player', card: pCard, type: pCard.type, baseDice: pDice });\n  if (eSuccess) {\n    const enemyAction: ActionEntry = { source: 'enemy', card: resolvedEnemyCard, type: resolvedEnemyCard.type, baseDice: eDice };\n    if (pCard.traits.combo) {\n      // ËøûÂáªËøáÁ®ã‰∏≠ÔºåÊïåÊñπË°åÂä®Âª∂ÂêéÂà∞‚ÄúËøûÂáªÁªìÊùü‚ÄùÊó∂ÂÜçÁªìÁÆó‰∏ÄÊ¨°\n      deferredEnemyAction = enemyAction;\n    } else {\n      queue.push(enemyAction);\n    }\n  }\n\n  const typePriority = (t: CardType) => {\n    if (t === CardType.FUNCTION) return 3;\n    if (t === CardType.MAGIC) return 2;\n    if (t === CardType.PHYSICAL) return 1;\n    return 0;\n  };\n\n  queue.sort((a, b) => typePriority(b.type) - typePriority(a.type));\n\n  for (const action of queue) {\n    executeCard(action.source, action.card, action.baseDice);\n    await wait(500);\n  }\n\n  // ËøûÂáªÔºöÊú¨Ê¨°ÊâìÂá∫ÂêéÔºåËã•Â∏¶ draw ÂàôË°•ÊäΩ 1 Âº†ÔºõÂπ∂ÂÖÅËÆ∏ÁªßÁª≠‰ªéÂâ©‰ΩôÊâãÁâåÂá∫Áâå\n  if (pCard.traits.combo) {\n    if (pCard.traits.draw) {\n      const { drawn, newDeck, newDiscard } = drawCards(1, combatState.value.playerDeck, combatState.value.discardPile);\n      combatState.value.playerDeck = newDeck;\n      combatState.value.discardPile = newDiscard;\n      combatState.value.playerHand = [...combatState.value.playerHand, ...drawn];\n    }\n\n    if (combatState.value.playerHand.length > 0 && playerStats.value.hp > 0 && enemyStats.value.hp > 0) {\n      combatState.value.playerSelectedCard = null;\n      combatState.value.phase = CombatPhase.PLAYER_INPUT;\n      log('<span class=\"text-dungeon-gold/80\">ËøûÂáªËß¶ÂèëÔºöÂèØÁªßÁª≠Âá∫Áâå</span>');\n      return;\n    }\n\n    // ËøûÂáªÊó†Ê≥ïÁªßÁª≠Êó∂ÔºåÂÜçË°•ÁªìÁÆó‰∏ÄÊ¨°ÊïåÊñπË°åÂä®\n    if (deferredEnemyAction && playerStats.value.hp > 0 && enemyStats.value.hp > 0) {\n      executeCard(deferredEnemyAction.source, deferredEnemyAction.card, deferredEnemyAction.baseDice);\n      await wait(500);\n    }\n  }\n\n  if (playerStats.value.hp <= 0 || enemyStats.value.hp <= 0) return;\n\n  // End-of-turn effect processing (armor halving, stun clear, etc.)\n  const pEndLogs = processOnTurnEnd(playerStats.value);\n  const eEndLogs = processOnTurnEnd(enemyStats.value);\n  for (const l of [...pEndLogs, ...eEndLogs]) {\n    log(`<span class=\"text-gray-500 text-[9px]\">${l}</span>`);\n  }\n\n  // Cleanup\n  combatState.value.discardPile = [...combatState.value.discardPile, ...combatState.value.playerHand];\n  combatState.value.playerHand = [];\n  combatState.value.turn += 1;\n  combatState.value.phase = CombatPhase.TURN_START;\n};\n\n// Watch for RESOLUTION phase\nwatch(\n  () => combatState.value.phase,\n  (phase) => {\n    if (endCombatPending.value) return;\n    if (\n      phase === CombatPhase.RESOLUTION &&\n      combatState.value.playerSelectedCard &&\n      combatState.value.enemyIntentCard &&\n      !showClashAnimation.value\n    ) {\n      resolveCombat(\n        combatState.value.playerSelectedCard,\n        combatState.value.enemyIntentCard,\n        combatState.value.playerBaseDice,\n        combatState.value.enemyBaseDice,\n      );\n    }\n  },\n);\n\n// Win/Lose check\nwatch(\n  [() => playerStats.value.hp, () => enemyStats.value.hp],\n  ([pHp, eHp]) => {\n    if (endCombatPending.value) return;\n\n    let win: boolean | null = null;\n    if (pHp <= 0) win = false;\n    else if (eHp <= 0) win = true;\n    if (win === null) return;\n\n    endCombatPending.value = true;\n    battleResultBanner.value = win ? 'win' : 'lose';\n    combatState.value.phase = win ? CombatPhase.WIN : CombatPhase.LOSE;\n    setTimeout(() => {\n      emit('endCombat', win!, playerStats.value);\n    }, scaleDuration(1200));\n  },\n);\n</script>\n\n<style scoped>\n.combat-float-number {\n  animation-name: combat-float-up;\n  animation-timing-function: ease-out;\n  animation-fill-mode: forwards;\n  line-height: 1;\n}\n\n@keyframes combat-float-up {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, 0) scale(0.85);\n  }\n  15% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n    transform: translate(-50%, -42px) scale(1.05);\n  }\n}\n\n.combat-root :deep(.animate-float) {\n  animation-duration: calc(6s / var(--combat-speed-multiplier));\n}\n\n.combat-root :deep(.animate-clash-left),\n.combat-root :deep(.animate-clash-right),\n.combat-root :deep(.animate-shatter) {\n  animation-duration: calc(0.6s / var(--combat-speed-multiplier));\n}\n\n.combat-root :deep(.animate-shake) {\n  animation-duration: calc(0.5s / var(--combat-speed-multiplier));\n}\n\n.poison-wave-bar {\n  background-image:\n    linear-gradient(180deg, rgba(16, 185, 129, 0.28), rgba(22, 163, 74, 0.8)),\n    repeating-linear-gradient(\n      -25deg,\n      rgba(255, 255, 255, 0.18) 0px,\n      rgba(255, 255, 255, 0.18) 10px,\n      rgba(255, 255, 255, 0) 10px,\n      rgba(255, 255, 255, 0) 20px\n    );\n  background-size: 100% 100%, 220% 100%;\n  background-position: 0 0, 0 0;\n  animation: poison-wave-slide calc(2.1s / var(--combat-speed-multiplier)) linear infinite;\n}\n\n@keyframes poison-wave-slide {\n  from {\n    background-position: 0 0, 0 0;\n  }\n  to {\n    background-position: 0 0, 220% 0;\n  }\n}\n</style>\n","<template>\n  <div\n    class=\"w-full h-screen bg-[#050505] font-body text-dungeon-paper overflow-hidden relative\"\n  >\n    <!-- Dynamic Background -->\n    <div class=\"absolute inset-0 z-0\">\n      <img\n        v-if=\"bgImageUrl\"\n        :src=\"bgImageUrl\"\n        class=\"absolute inset-0 w-full h-full object-cover\"\n        alt=\"\"\n        @error=\"onBgError\"\n      />\n      <div class=\"absolute inset-0\" :style=\"{ backgroundColor: `rgba(0,0,0,${bgOverlayOpacity})` }\"></div>\n    </div>\n\n    <!-- Sidebar: Individual Icons Top-Left (no back button, settings already has exit) -->\n    <div class=\"absolute top-6 left-6 z-50 flex flex-col space-y-4\">\n      <SidebarIcon :icon=\"MapIcon\" label=\"Âú∞Âõæ\" tooltip-side=\"right\" :active=\"activeModal === 'map'\" @click=\"activeModal = 'map'\" />\n      <SidebarIcon :icon=\"Scroll\" label=\"Âç°ÁªÑ\" tooltip-side=\"right\" :active=\"activeModal === 'deck'\" @click=\"activeModal = 'deck'\" />\n      <SidebarIcon :icon=\"Box\" label=\"Áâ©ÂìÅ\" tooltip-side=\"right\" :active=\"activeModal === 'relics'\" @click=\"activeModal = 'relics'\" />\n      <SidebarIcon\n        :icon=\"SettingsIcon\"\n        label=\"ËÆæÁΩÆ\"\n        tooltip-side=\"right\"\n        :active=\"activeModal === 'settings'\"\n        @click=\"activeModal = 'settings'\"\n      />\n    </div>\n\n    <!-- Sidebar: Right side icons (top right) -->\n    <div class=\"absolute top-4 right-4 z-50 flex items-center gap-2\">\n      <!-- Fullscreen (small) -->\n      <button\n        class=\"w-8 h-8 rounded flex items-center justify-center\n               bg-dungeon-dark/60 border border-dungeon-brown/50 text-dungeon-gold-dim\n               hover:bg-dungeon-brown hover:text-dungeon-gold hover:border-dungeon-gold/50\n               transition-all duration-300\"\n        title=\"ÂÖ®Â±èÊ®°Âºè\"\n        @click=\"toggleFullScreen\"\n      >\n        <Maximize class=\"size-4\" />\n      </button>\n    </div>\n\n    <!-- Right sidebar: save/load only (reroll & edit moved into panel) -->\n    <div class=\"absolute top-14 right-4 z-50 flex flex-col space-y-4\">\n      <SidebarIcon\n        :icon=\"BookOpen\"\n        label=\"ËØªÊ°£\"\n        tooltip-side=\"left\"\n        :active=\"gameStore.isSaveLoadOpen\"\n        @click=\"openSaveLoad\"\n      />\n      <SidebarIcon\n        :icon=\"FileText\"\n        label=\"ÂèòÈáèÊõ¥Êñ∞\"\n        tooltip-side=\"left\"\n        :active=\"isVariableUpdateOpen\"\n        @click=\"openVariableUpdate\"\n      />\n    </div>\n\n    <!-- Main Content Area -->\n    <div class=\"h-full w-full flex flex-col items-center\">\n      <div\n        class=\"w-full flex flex-col pt-2 pb-2 px-4 md:px-12 md:pl-24 transition-all duration-300 h-full\"\n        :style=\"{ maxWidth: textSettings.containerWidth + 'px' }\"\n      >\n        <!-- Story Text Area -->\n        <div\n          class=\"flex-1 bg-dungeon-dark/80 border border-dungeon-brown rounded-t-lg shadow-2xl backdrop-blur-sm p-6 md:p-10 overflow-y-auto min-h-0 custom-scrollbar relative\"\n        >\n          <!-- Decorative Corners -->\n          <div class=\"absolute top-2 left-2 w-4 h-4 border-t border-l border-dungeon-gold/30\"></div>\n          <div class=\"absolute top-2 right-2 w-4 h-4 border-t border-r border-dungeon-gold/30\"></div>\n\n          <!-- Loading Indicator -->\n          <div v-if=\"gameStore.isGenerating\" class=\"flex items-center gap-3 mb-4\">\n            <div class=\"flex gap-1\">\n              <span class=\"w-2 h-2 bg-dungeon-gold rounded-full animate-bounce\" style=\"animation-delay: 0s\"></span>\n              <span class=\"w-2 h-2 bg-dungeon-gold rounded-full animate-bounce\" style=\"animation-delay: 0.2s\"></span>\n              <span class=\"w-2 h-2 bg-dungeon-gold rounded-full animate-bounce\" style=\"animation-delay: 0.4s\"></span>\n            </div>\n            <span class=\"text-dungeon-gold/60 font-ui text-sm\">Ê≠£Âú®ÁîüÊàê...</span>\n          </div>\n\n          <!-- Edit Mode -->\n          <div v-if=\"gameStore.isEditing\" class=\"flex flex-col h-full\">\n            <textarea\n              v-model=\"gameStore.editingText\"\n              class=\"flex-1 w-full bg-[#1a0f08] border border-dungeon-brown text-dungeon-paper rounded p-4 resize-none focus:outline-none focus:border-dungeon-gold focus:ring-1 focus:ring-dungeon-gold/50 font-ui custom-scrollbar\"\n              :style=\"{\n                fontSize: textSettings.fontSize + 'px',\n                lineHeight: textSettings.lineHeight,\n                fontFamily: textSettings.fontFamily,\n              }\"\n            ></textarea>\n            <!-- Edit Actions -->\n            <div class=\"flex justify-end gap-3 mt-4\">\n              <button\n                class=\"px-5 py-2 text-sm font-ui text-gray-400 border border-gray-700 rounded\n                       hover:bg-gray-800 transition-colors\"\n                @click=\"gameStore.cancelEdit()\"\n              >\n                ÂèñÊ∂à\n              </button>\n              <button\n                class=\"px-5 py-2 text-sm font-ui text-dungeon-gold border border-dungeon-gold/40 rounded\n                       hover:bg-dungeon-gold/10 transition-colors\n                       shadow-[0_0_8px_rgba(212,175,55,0.15)]\"\n                @click=\"gameStore.saveEdit()\"\n              >\n                Á°ÆËÆ§Êõ¥Êîπ\n              </button>\n            </div>\n          </div>\n\n          <!-- Normal View (not editing) -->\n          <template v-else>\n            <!-- Story Content -->\n            <div\n              class=\"prose prose-invert max-w-none prose-p:text-dungeon-paper tracking-wide\"\n              :style=\"{\n                fontSize: textSettings.fontSize + 'px',\n                lineHeight: textSettings.lineHeight,\n                fontFamily: textSettings.fontFamily,\n              }\"\n            >\n              <!-- Streaming text (during generation) -->\n              <p v-if=\"gameStore.isGenerating && gameStore.streamingText\" class=\"whitespace-pre-wrap text-dungeon-paper/60\">\n                {{ gameStore.streamingText }}\n              </p>\n              <!-- Final main text -->\n              <p v-else class=\"whitespace-pre-wrap\">{{ displayText }}</p>\n            </div>\n\n            <!-- Options Section -->\n            <div v-if=\"!gameStore.isGenerating && (gameStore.options.length > 0 || gameStore.hasOptionE || gameStore.hasLeave)\" class=\"mt-8 flex flex-col space-y-3\">\n              <div\n                class=\"h-[1px] w-full bg-gradient-to-r from-transparent via-dungeon-gold/20 to-transparent mb-2\"\n              ></div>\n\n              <!-- A-D Normal Options -->\n              <button\n                v-for=\"(option, i) in gameStore.options\"\n                :key=\"'opt-' + i\"\n                class=\"w-full text-left px-5 py-3 bg-dungeon-dark/60 hover:bg-dungeon-brown/40\n                       text-dungeon-paper/80 hover:text-dungeon-paper\n                       rounded border border-dungeon-brown/50 hover:border-dungeon-gold/40\n                       font-ui text-sm tracking-wide\n                       transition-all duration-300\n                       hover:shadow-[0_0_12px_rgba(212,175,55,0.08)]\n                       hover:translate-x-1\"\n                @click=\"handleOptionClick(option)\"\n              >\n                {{ option }}\n              </button>\n\n              <!-- E Option: Special Room Action Button -->\n              <button\n                v-if=\"gameStore.hasOptionE && specialOptionConfig\"\n                class=\"w-full text-center px-6 py-4 rounded-lg border-2 font-heading text-base tracking-wider\n                       transition-all duration-400 hover:scale-[1.02] active:scale-[0.98]\"\n                :style=\"{\n                  backgroundColor: specialOptionConfig.bgColor,\n                  borderColor: specialOptionConfig.borderColor,\n                  color: specialOptionConfig.textColor,\n                  boxShadow: `0 0 20px ${specialOptionConfig.glowColor}, inset 0 1px 0 rgba(255,255,255,0.1)`,\n                }\"\n                @click=\"handleSpecialOption\"\n              >\n                <span class=\"text-xl mr-2\">{{ specialOptionConfig.icon }}</span>\n                {{ specialOptionConfig.label }}\n              </button>\n\n              <!-- [Leave] Portal System -->\n              <div v-if=\"gameStore.hasLeave && portalChoices.length > 0\" class=\"mt-4\">\n                <div class=\"text-center text-dungeon-gold/40 text-xs font-ui tracking-widest uppercase mb-3\">\n                  ‚îÄ‚îÄ‚îÄ ‰º†ÈÄÅÈó® ‚îÄ‚îÄ‚îÄ\n                </div>\n                <div class=\"flex justify-center gap-4\">\n                  <button\n                    v-for=\"(portal, i) in portalChoices\"\n                    :key=\"'portal-' + i\"\n                    class=\"portal-btn group relative flex flex-col items-center justify-center\n                           w-24 h-24 rounded-lg border-2 backdrop-blur-sm\n                           transition-all duration-500 hover:scale-110\n                           active:scale-95\"\n                    :style=\"{\n                      backgroundColor: portal.bgColor,\n                      borderColor: portal.borderColor,\n                      boxShadow: `0 0 15px ${portal.glowColor}, 0 0 30px ${portal.glowColor}40`,\n                    }\"\n                    @click=\"handlePortalClick(portal)\"\n                  >\n                    <!-- Portal glow ring -->\n                    <div\n                      class=\"absolute inset-0 rounded-lg opacity-50 group-hover:opacity-100 transition-opacity duration-500\"\n                      :style=\"{ boxShadow: `inset 0 0 20px ${portal.glowColor}60` }\"\n                    ></div>\n                    <!-- Portal icon -->\n                    <span class=\"text-2xl mb-1 relative z-10 drop-shadow-lg\">{{ portal.icon }}</span>\n                    <!-- Portal label -->\n                    <span\n                      class=\"text-[10px] font-ui tracking-wide relative z-10 text-center leading-tight\"\n                      :style=\"{ color: portal.textColor }\"\n                    >{{ portal.label }}</span>\n                    <!-- Animated ring -->\n                    <div\n                      class=\"absolute inset-1 rounded-md border border-dashed opacity-30 group-hover:opacity-70\n                             animate-[spin_8s_linear_infinite] transition-opacity\"\n                      :style=\"{ borderColor: portal.borderColor }\"\n                    ></div>\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <!-- Error Display -->\n            <div v-if=\"gameStore.error\" class=\"mt-6 p-4 bg-red-950/30 border border-red-900/50 rounded text-red-300 font-ui text-sm\">\n              {{ gameStore.error }}\n            </div>\n          </template>\n        </div>\n\n        <!-- Input Area -->\n        <div class=\"bg-[#0f0f0f] border-x border-b border-dungeon-brown rounded-b-lg p-4 flex items-center space-x-4 shrink-0\">\n          <div class=\"flex-1 relative\">\n            <input\n              v-model=\"inputText\"\n              type=\"text\"\n              :disabled=\"gameStore.isGenerating\"\n              :placeholder=\"gameStore.isGenerating ? 'Á≠âÂæÖÂõûÂ§ç‰∏≠...' : 'ËæìÂÖ•‰Ω†ÁöÑË°åÂä®...'\"\n              class=\"w-full bg-[#1a0f08] border border-dungeon-brown text-dungeon-paper px-4 py-3 rounded focus:outline-none focus:border-dungeon-gold focus:ring-1 focus:ring-dungeon-gold/50 font-ui placeholder-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              @keydown.enter=\"handleSendInput\"\n            />\n          </div>\n          <button\n            class=\"p-3 bg-[#1a0f08] border border-dungeon-gold/30 hover:bg-dungeon-brown hover:border-dungeon-gold text-dungeon-gold rounded transition-all disabled:opacity-30 disabled:cursor-not-allowed\"\n            :disabled=\"gameStore.isGenerating\"\n            @click=\"handleSendInput\"\n          >\n            <Send class=\"size-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Player Status HUD (Bottom Left) - Collapsible -->\n    <div class=\"absolute bottom-6 left-6 z-50 flex flex-col gap-2 select-none\">\n      <!-- Toggle Button -->\n      <button\n        class=\"w-10 h-10 rounded-lg flex items-center justify-center\n               bg-dungeon-dark/90 border border-dungeon-gold/30 text-dungeon-gold-dim\n               hover:bg-dungeon-brown hover:text-dungeon-gold hover:border-dungeon-gold/50\n               transition-all duration-300 shadow-lg backdrop-blur-md\"\n        :title=\"isStatusOpen ? 'Êî∂Ëµ∑Áä∂ÊÄÅÊ†è' : 'Â±ïÂºÄÁä∂ÊÄÅÊ†è'\"\n        @click=\"isStatusOpen = !isStatusOpen\"\n      >\n        <component :is=\"isStatusOpen ? ChevronDown : Activity\" class=\"size-5\" />\n      </button>\n\n      <!-- Expandable Status Panel -->\n      <Transition name=\"status-slide\">\n        <div\n          v-if=\"isStatusOpen\"\n          class=\"relative p-4 bg-dungeon-dark/90 border border-dungeon-gold/30 rounded-xl backdrop-blur-md shadow-[0_0_30px_rgba(0,0,0,0.8)]\"\n        >\n          <!-- Decorative Elements -->\n          <div class=\"absolute -top-1 -left-1 size-2 bg-dungeon-gold rotate-45 border border-black\"></div>\n          <div class=\"absolute -bottom-1 -right-1 size-2 bg-dungeon-gold rotate-45 border border-black\"></div>\n          <div class=\"absolute top-0 inset-x-0 h-[1px] bg-gradient-to-r from-transparent via-dungeon-gold/50 to-transparent\"></div>\n\n          <!-- HP & MP: Container-fill style -->\n          <div class=\"flex items-end gap-4 mb-3\">\n            <!-- HP Heart Container -->\n            <div class=\"flex flex-col items-center gap-1\">\n              <div class=\"stat-container-heart\" :title=\"`HP: ${displayHp}/${displayMaxHp}`\">\n                <svg viewBox=\"0 0 64 64\" class=\"w-14 h-14\">\n                  <defs>\n                    <clipPath id=\"heartClip\">\n                      <path d=\"M32 56 C32 56, 6 40, 6 22 C6 12, 14 4, 24 4 C28 4, 31 6, 32 9 C33 6, 36 4, 40 4 C50 4, 58 12, 58 22 C58 40, 32 56, 32 56Z\" />\n                    </clipPath>\n                    <filter id=\"hpGlow\">\n                      <feGaussianBlur stdDeviation=\"2\" result=\"glow\" />\n                      <feMerge>\n                        <feMergeNode in=\"glow\" />\n                        <feMergeNode in=\"SourceGraphic\" />\n                      </feMerge>\n                    </filter>\n                    <linearGradient id=\"hpGradient\" x1=\"0\" y1=\"1\" x2=\"0\" y2=\"0\">\n                      <stop offset=\"0%\" stop-color=\"#8a0e0e\" />\n                      <stop offset=\"50%\" stop-color=\"#cc2222\" />\n                      <stop offset=\"100%\" stop-color=\"#ee4444\" />\n                    </linearGradient>\n                  </defs>\n                  <!-- Heart outline (dark) -->\n                  <path\n                    d=\"M32 56 C32 56, 6 40, 6 22 C6 12, 14 4, 24 4 C28 4, 31 6, 32 9 C33 6, 36 4, 40 4 C50 4, 58 12, 58 22 C58 40, 32 56, 32 56Z\"\n                    fill=\"#1a0808\"\n                    stroke=\"#5c1a1a\"\n                    stroke-width=\"1.5\"\n                  />\n                  <!-- Fill level (clipped to heart) -->\n                  <g clip-path=\"url(#heartClip)\">\n                    <rect\n                      x=\"0\"\n                      :y=\"64 - (hpPercent / 100) * 60\"\n                      width=\"64\"\n                      :height=\"(hpPercent / 100) * 60\"\n                      fill=\"url(#hpGradient)\"\n                      filter=\"url(#hpGlow)\"\n                      class=\"transition-all duration-700 ease-out\"\n                    />\n                  </g>\n                  <!-- Highlight -->\n                  <ellipse cx=\"22\" cy=\"18\" rx=\"5\" ry=\"4\" fill=\"rgba(255,255,255,0.12)\" transform=\"rotate(-20,22,18)\" />\n                </svg>\n              </div>\n              <span class=\"text-[10px] font-ui text-dungeon-paper/80 tracking-wide\">\n                <span class=\"text-[#cc3333] font-bold\">{{ displayHp }}</span>\n                <span class=\"text-gray-600\">/{{ displayMaxHp }}</span>\n              </span>\n            </div>\n\n            <!-- MP Crystal Container -->\n            <div class=\"flex flex-col items-center gap-1\">\n              <div class=\"stat-container-mana\" :title=\"`MP: ${displayMp}`\">\n                <svg viewBox=\"0 0 64 64\" class=\"w-14 h-14\">\n                  <defs>\n                    <clipPath id=\"manaClip\">\n                      <path d=\"M32 4 L54 24 L32 60 L10 24 Z\" />\n                    </clipPath>\n                    <filter id=\"mpGlow\">\n                      <feGaussianBlur stdDeviation=\"2\" result=\"glow\" />\n                      <feMerge>\n                        <feMergeNode in=\"glow\" />\n                        <feMergeNode in=\"SourceGraphic\" />\n                      </feMerge>\n                    </filter>\n                    <linearGradient id=\"mpGradient\" x1=\"0\" y1=\"1\" x2=\"0\" y2=\"0\">\n                      <stop offset=\"0%\" stop-color=\"#1a1a8a\" />\n                      <stop offset=\"50%\" stop-color=\"#3344cc\" />\n                      <stop offset=\"100%\" stop-color=\"#5566ee\" />\n                    </linearGradient>\n                  </defs>\n                  <!-- Crystal outline -->\n                  <path\n                    d=\"M32 4 L54 24 L32 60 L10 24 Z\"\n                    fill=\"#080818\"\n                    stroke=\"#1a1a5c\"\n                    stroke-width=\"1.5\"\n                  />\n                  <!-- Fill level -->\n                  <g clip-path=\"url(#manaClip)\">\n                    <rect\n                      x=\"0\"\n                      :y=\"64 - (mpPercent / 100) * 60\"\n                      width=\"64\"\n                      :height=\"(mpPercent / 100) * 60\"\n                      fill=\"url(#mpGradient)\"\n                      filter=\"url(#mpGlow)\"\n                      class=\"transition-all duration-700 ease-out\"\n                    />\n                  </g>\n                  <!-- Highlight -->\n                  <polygon points=\"26,14 32,8 38,14 32,20\" fill=\"rgba(255,255,255,0.1)\" />\n                </svg>\n              </div>\n              <span class=\"text-[10px] font-ui text-dungeon-paper/80 tracking-wide\">\n                <span class=\"text-blue-400 font-bold\">{{ displayMp }}</span>\n              </span>\n            </div>\n          </div>\n\n          <!-- Divider -->\n          <div class=\"my-2 h-[1px] w-full bg-gradient-to-r from-transparent via-dungeon-gold/20 to-transparent\"></div>\n\n          <!-- Dice Range Row -->\n          <div class=\"flex items-center justify-between px-1 mb-2\">\n            <div class=\"flex items-center gap-2 text-dungeon-paper/70\">\n              <Dices class=\"size-4 text-dungeon-gold-dim drop-shadow-sm\" />\n              <span class=\"font-ui text-sm tracking-wide\">\n                <span class=\"text-dungeon-paper font-bold\">{{ displayMinDice }}</span>\n                <span class=\"text-gray-500\">~</span>\n                <span class=\"text-dungeon-paper font-bold\">{{ displayMaxDice }}</span>\n              </span>\n            </div>\n            <span class=\"text-[10px] text-[#5c3a21] uppercase tracking-widest font-bold\">Dice</span>\n          </div>\n\n          <!-- Gold Row -->\n          <div class=\"flex items-center justify-between px-1\">\n            <div class=\"flex items-center gap-2 text-dungeon-gold\">\n              <Coins class=\"size-4 drop-shadow-sm\" />\n              <span\n                class=\"font-heading text-lg tracking-wider text-transparent bg-clip-text bg-gradient-to-b from-[#f9e6a0] to-dungeon-gold-dim drop-shadow-sm\"\n              >\n                {{ displayGold }}\n              </span>\n            </div>\n            <span class=\"text-[10px] text-[#5c3a21] uppercase tracking-widest font-bold\">Gold</span>\n          </div>\n        </div>\n      </Transition>\n    </div>\n\n    <!-- Modals -->\n    <DungeonModal title=\"Âú∞Áâ¢Âú∞Âõæ\" :is-open=\"activeModal === 'map'\" @close=\"activeModal = null\">\n      <div\n        class=\"w-full h-64 bg-[#1a0f08] border border-dungeon-gold/20 flex items-center justify-center rounded\"\n      >\n        <span class=\"font-heading text-dungeon-gold/30 text-2xl\">MAP_RENDER_TARGET</span>\n      </div>\n    </DungeonModal>\n\n    <DungeonModal title=\"Á¨¶ÊñáÂç°ÁªÑ\" :is-open=\"activeModal === 'deck'\" @close=\"activeModal = null\">\n      <div v-if=\"resolvedDeck.length > 0\" class=\"grid grid-cols-3 gap-8 overflow-y-auto max-h-[60%] p-4\">\n        <div v-for=\"(card, i) in resolvedDeck\" :key=\"i\" class=\"hover:scale-105 transition-transform flex justify-center\">\n          <DungeonCard :card=\"card\" disabled />\n        </div>\n      </div>\n      <div v-else class=\"flex flex-col items-center justify-center py-12 gap-4\">\n        <Scroll class=\"size-12 text-dungeon-gold/20\" />\n        <span class=\"font-ui text-dungeon-paper/40 text-sm\">Âç°ÁªÑ‰∏∫Á©∫ ‚Äî Â∞öÊú™Ë£ÖÂ§áÊäÄËÉΩÂç°</span>\n      </div>\n    </DungeonModal>\n\n    <DungeonModal title=\"Âú£ÈÅóÁâ©\" :is-open=\"activeModal === 'relics'\" @close=\"activeModal = null\">\n      <div v-if=\"relicEntries.length > 0\" class=\"grid grid-cols-4 sm:grid-cols-6 gap-1 p-2 overflow-y-auto max-h-[60%]\">\n        <div\n          v-for=\"relic in relicEntries\"\n          :key=\"relic.name\"\n          class=\"relative flex flex-col items-center p-1\"\n          :title=\"relic.name\"\n        >\n          <div class=\"relative\">\n            <Box class=\"size-8 text-dungeon-gold/70\" />\n            <span class=\"absolute -bottom-1 -right-3 font-ui text-dungeon-gold/80 text-[10px] bg-dungeon-dark/70 border border-dungeon-brown/30 rounded px-0.5 leading-tight\">x{{ relic.count }}</span>\n          </div>\n          <span class=\"font-heading text-dungeon-gold text-[10px] text-center mt-0.5 leading-tight truncate w-full\">{{ relic.name }}</span>\n        </div>\n      </div>\n      <div v-else class=\"flex flex-col items-center justify-center py-12 gap-4\">\n        <Box class=\"size-12 text-dungeon-gold/20\" />\n        <span class=\"font-ui text-dungeon-paper/40 text-sm\">Â∞öÊú™Ëé∑ÂæóÂú£ÈÅóÁâ©</span>\n      </div>\n    </DungeonModal>\n\n    <!-- Settings Modal -->\n    <DungeonModal title=\"Á≥ªÁªüËÆæÁΩÆ\" :is-open=\"activeModal === 'settings'\" @close=\"activeModal = null\">\n      <div class=\"flex flex-col space-y-6 w-full max-w-lg mx-auto\">\n        <!-- Text Display Settings Section -->\n        <div>\n          <h3 class=\"font-heading text-dungeon-gold text-sm tracking-widest mb-4 uppercase\">Ê≠£ÊñáÊòæÁ§∫</h3>\n          <div class=\"space-y-4\">\n            <!-- Font Size -->\n            <div class=\"flex items-center justify-between\">\n              <label class=\"text-dungeon-paper/70 text-sm font-ui\">Â≠ó‰ΩìÂ§ßÂ∞è</label>\n              <div class=\"flex items-center gap-2\">\n                <button class=\"w-7 h-7 rounded border border-dungeon-brown text-dungeon-gold-dim hover:border-dungeon-gold hover:text-dungeon-gold text-sm\" @click=\"textSettings.fontSize = Math.max(12, textSettings.fontSize - 1)\">‚àí</button>\n                <span class=\"text-dungeon-paper font-ui text-sm w-10 text-center\">{{ textSettings.fontSize }}px</span>\n                <button class=\"w-7 h-7 rounded border border-dungeon-brown text-dungeon-gold-dim hover:border-dungeon-gold hover:text-dungeon-gold text-sm\" @click=\"textSettings.fontSize = Math.min(28, textSettings.fontSize + 1)\">+</button>\n              </div>\n            </div>\n\n            <!-- Line Height -->\n            <div class=\"flex items-center justify-between\">\n              <label class=\"text-dungeon-paper/70 text-sm font-ui\">Ë°åÈó¥Ë∑ù</label>\n              <div class=\"flex items-center gap-2\">\n                <button class=\"w-7 h-7 rounded border border-dungeon-brown text-dungeon-gold-dim hover:border-dungeon-gold hover:text-dungeon-gold text-sm\" @click=\"textSettings.lineHeight = Math.max(1.2, +(textSettings.lineHeight - 0.1).toFixed(1))\">‚àí</button>\n                <span class=\"text-dungeon-paper font-ui text-sm w-10 text-center\">{{ textSettings.lineHeight }}</span>\n                <button class=\"w-7 h-7 rounded border border-dungeon-brown text-dungeon-gold-dim hover:border-dungeon-gold hover:text-dungeon-gold text-sm\" @click=\"textSettings.lineHeight = Math.min(3.0, +(textSettings.lineHeight + 0.1).toFixed(1))\">+</button>\n              </div>\n            </div>\n\n            <!-- Font Family -->\n            <div class=\"flex items-center justify-between\">\n              <label class=\"text-dungeon-paper/70 text-sm font-ui\">Â≠ó‰ΩìÊ†∑Âºè</label>\n              <select\n                v-model=\"textSettings.fontFamily\"\n                class=\"bg-[#1a0f08] border border-dungeon-brown text-dungeon-paper text-sm px-3 py-1.5 rounded focus:outline-none focus:border-dungeon-gold font-ui\"\n              >\n                <option value=\"'Cinzel', serif\">Cinzel (ÈªòËÆ§)</option>\n                <option value=\"'Inter', sans-serif\">Inter</option>\n                <option value=\"'MedievalSharp', cursive\">MedievalSharp</option>\n                <option value=\"serif\">Serif</option>\n                <option value=\"sans-serif\">Sans-serif</option>\n                <option value=\"'Microsoft YaHei', sans-serif\">ÂæÆËΩØÈõÖÈªë</option>\n                <option value=\"'SimSun', serif\">ÂÆã‰Ωì</option>\n                <option value=\"'KaiTi', serif\">Ê•∑‰Ωì</option>\n              </select>\n            </div>\n\n            <!-- Container Width -->\n            <div class=\"flex items-center justify-between\">\n              <label class=\"text-dungeon-paper/70 text-sm font-ui\">Ê≠£ÊñáÊ°ÜÂÆΩÂ∫¶</label>\n              <div class=\"flex items-center gap-2\">\n                <input\n                  v-model.number=\"textSettings.containerWidth\"\n                  type=\"range\"\n                  min=\"600\"\n                  max=\"1600\"\n                  step=\"50\"\n                  class=\"w-28 accent-dungeon-gold\"\n                />\n                <span class=\"text-dungeon-paper font-ui text-sm w-14 text-center\">{{ textSettings.containerWidth }}px</span>\n              </div>\n            </div>\n\n            <!-- Background Clarity -->\n            <div class=\"flex items-center justify-between\">\n              <label class=\"text-dungeon-paper/70 text-sm font-ui\">ËÉåÊôØÊ∏ÖÊô∞Â∫¶</label>\n              <div class=\"flex items-center gap-2\">\n                <input\n                  v-model.number=\"bgOverlayOpacity\"\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"0.8\"\n                  step=\"0.05\"\n                  class=\"w-28 accent-dungeon-gold\"\n                />\n                <span class=\"text-dungeon-paper font-ui text-sm w-14 text-center\">{{ Math.round((1 - bgOverlayOpacity) * 100) }}%</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"h-[1px] w-full bg-dungeon-gold/20\"></div>\n\n        <!-- System Section -->\n        <div>\n          <h3 class=\"font-heading text-dungeon-gold text-sm tracking-widest mb-4 uppercase\">Á≥ªÁªü</h3>\n          <div class=\"grid grid-cols-2 gap-4\">\n            <button\n              class=\"p-3 border border-dungeon-gold/30 hover:bg-dungeon-brown text-dungeon-gold text-sm rounded\"\n              @click=\"toggleFullScreen\"\n            >\n              ÂàáÊç¢ÂÖ®Â±èÊ®°Âºè\n            </button>\n            <button\n              class=\"p-3 border border-red-900/50 hover:bg-red-950/30 text-red-500 text-sm rounded\"\n              @click=\"$emit('backToSplash')\"\n            >\n              ÈÄÄÂá∫Âà∞Ê†áÈ¢ò\n            </button>\n            <button\n              class=\"p-3 border border-amber-600/40 hover:bg-amber-900/20 text-amber-400 text-sm rounded col-span-2\"\n              @click=\"openCombatTestBuilder\"\n            >\n              ‚öî ËøõÂÖ•ÊàòÊñóÊµãËØï\n            </button>\n          </div>\n        </div>\n      </div>\n    </DungeonModal>\n\n    <!-- Combat Test Builder Modal -->\n    <DungeonModal title=\"ÊàòÊñóÊµãËØïÈÖçÁΩÆ\" :is-open=\"activeModal === 'combatTestBuilder'\" @close=\"activeModal = null\">\n      <div class=\"flex flex-col gap-4 w-full max-w-4xl\">\n        <template v-if=\"combatTestStep === 'deck'\">\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"font-heading text-dungeon-gold text-sm tracking-widest uppercase\">Ê≠•È™§1ÔºöÁªÑÂª∫Âç°ÁªÑÔºà9Âº†Ôºâ</h3>\n            <span class=\"text-xs font-ui text-dungeon-paper/70\">{{ selectedTestDeck.length }}/9</span>\n          </div>\n\n          <div class=\"grid grid-cols-2 md:grid-cols-3 gap-4 p-3 rounded border border-dungeon-brown/60 bg-dungeon-dark/50\">\n            <button\n              v-for=\"entry in selectedTestDeckCards\"\n              :key=\"`selected-card-${entry.idx}`\"\n              class=\"hover:scale-105 transition-transform flex flex-col items-center rounded border border-dungeon-gold/20 bg-[#1a0f08]/50 p-2\"\n              :title=\"'ÁÇπÂáªÁßªÈô§'\"\n              @click=\"removeCardFromTestDeck(entry.idx)\"\n            >\n              <DungeonCard :card=\"entry.card\" disabled />\n              <span class=\"mt-1 text-[10px] text-red-300/90\">ÁÇπÂáªÁßªÈô§</span>\n            </button>\n            <div\n              v-for=\"idx in Math.max(0, 9 - selectedTestDeck.length)\"\n              :key=\"`empty-slot-${idx}`\"\n              class=\"min-h-[260px] rounded border border-dungeon-brown/40 bg-black/20 text-dungeon-paper/30 text-xs flex items-center justify-center\"\n            >\n              Á©∫‰Ωç\n            </div>\n          </div>\n\n          <div class=\"max-h-[42vh] overflow-y-auto rounded border border-dungeon-brown/60 bg-dungeon-dark/40 p-3 custom-scrollbar\">\n            <div class=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              <button\n                v-for=\"card in allCardsForTest\"\n                :key=\"`all-card-${card.id}`\"\n                class=\"hover:scale-105 transition-transform flex flex-col items-center rounded border border-dungeon-brown/40 bg-[#1a0f08]/50 p-2 disabled:opacity-40 disabled:cursor-not-allowed\"\n                :disabled=\"selectedTestDeck.length >= 9\"\n                @click=\"addCardToTestDeck(card.name)\"\n              >\n                <DungeonCard :card=\"card\" disabled />\n                <span class=\"mt-1 text-[10px] text-dungeon-gold/80\">ÁÇπÂáªÂä†ÂÖ•</span>\n              </button>\n            </div>\n          </div>\n\n          <div class=\"flex justify-end gap-3\">\n            <button\n              class=\"px-4 py-2 rounded border border-dungeon-brown text-dungeon-paper/70 hover:border-dungeon-gold/50\"\n              @click=\"activeModal = null\"\n            >\n              ÂèñÊ∂à\n            </button>\n            <button\n              class=\"px-4 py-2 rounded border border-dungeon-gold/40 text-dungeon-gold hover:bg-dungeon-brown disabled:opacity-40 disabled:cursor-not-allowed\"\n              :disabled=\"selectedTestDeck.length !== 9\"\n              @click=\"confirmCombatTestDeck\"\n            >\n              ‰∏ã‰∏ÄÊ≠•ÔºöÈÄâÊã©È≠îÁâ©\n            </button>\n          </div>\n        </template>\n\n        <template v-else>\n          <div class=\"flex items-center justify-between\">\n            <h3 class=\"font-heading text-dungeon-gold text-sm tracking-widest uppercase\">Ê≠•È™§2ÔºöÈÄâÊã©È≠îÁâ©</h3>\n            <span class=\"text-xs font-ui text-dungeon-paper/70\">Â∑≤ÈÄâÂç°ÁªÑ: 9Âº†</span>\n          </div>\n\n          <div class=\"max-h-[42vh] overflow-y-auto rounded border border-dungeon-brown/60 bg-dungeon-dark/40 p-2 custom-scrollbar\">\n            <div class=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n              <button\n                v-for=\"enemyName in allEnemyNamesForTest\"\n                :key=\"`enemy-${enemyName}`\"\n                class=\"text-left px-3 py-2 rounded border text-xs transition-colors\"\n                :class=\"selectedTestEnemy === enemyName\n                  ? 'border-dungeon-gold bg-dungeon-brown/60 text-dungeon-gold'\n                  : 'border-dungeon-brown/60 bg-[#1a0f08] text-dungeon-paper hover:border-dungeon-gold/60'\"\n                @click=\"selectedTestEnemy = enemyName\"\n              >\n                {{ enemyName }}\n              </button>\n            </div>\n          </div>\n\n          <label class=\"flex items-center gap-2 px-3 py-2 rounded border border-dungeon-brown/60 bg-dungeon-dark/40 text-sm text-dungeon-paper/80\">\n            <input v-model=\"combatTestStartAt999\" type=\"checkbox\" class=\"accent-amber-500\" />\n            <span>Êú¨Âú∫ÊµãËØïÂêØÁî® 999 ÂºÄÂ±ÄÔºàÊïåÊàëÂèåÊñπ HP/MP=999Ôºâ</span>\n          </label>\n\n          <div class=\"flex justify-between gap-3\">\n            <button\n              class=\"px-4 py-2 rounded border border-dungeon-brown text-dungeon-paper/70 hover:border-dungeon-gold/50\"\n              @click=\"combatTestStep = 'deck'\"\n            >\n              ËøîÂõûÊîπÂç°ÁªÑ\n            </button>\n            <button\n              class=\"px-4 py-2 rounded border border-amber-600/40 text-amber-400 hover:bg-amber-900/20 disabled:opacity-40 disabled:cursor-not-allowed\"\n              :disabled=\"!selectedTestEnemy\"\n              @click=\"confirmCombatTestEnemyAndStart\"\n            >\n              ÂºÄÂßãÊàòÊñóÊµãËØï\n            </button>\n          </div>\n        </template>\n      </div>\n    </DungeonModal>\n\n    <!-- Save/Load Panel -->\n    <SaveLoadPanel\n      :is-open=\"gameStore.isSaveLoadOpen\"\n      :entries=\"gameStore.saveEntries\"\n      @close=\"gameStore.isSaveLoadOpen = false\"\n    />\n\n    <!-- Variable Update Viewer -->\n    <DungeonModal title=\"ÂèòÈáèÊõ¥Êñ∞\" :is-open=\"isVariableUpdateOpen\" @close=\"isVariableUpdateOpen = false\">\n      <div\n        v-if=\"gameStore.variableUpdateText\"\n        class=\"custom-scrollbar border-dungeon-brown/50 bg-dungeon-dark/60 max-h-[60vh]\n               overflow-y-auto rounded border p-4\"\n      >\n        <pre class=\"text-dungeon-paper/80 font-ui text-sm break-words whitespace-pre-wrap\">{{ gameStore.variableUpdateText }}</pre>\n      </div>\n      <div v-else class=\"text-dungeon-paper/60 font-ui py-8 text-center text-sm\">\n        ÂΩìÂâçÊ•ºÂ±ÇÊ≤°ÊúâÊ£ÄÊµãÂà∞ÂèòÈáèÊõ¥Êñ∞Ê†áÁ≠æÔºà&lt;UpdateVariable&gt; Êàñ &lt;update&gt;Ôºâ„ÄÇ\n      </div>\n    </DungeonModal>\n\n    <!-- Combat Overlay -->\n    <Transition name=\"combat-fade\">\n      <div v-if=\"showCombat\" class=\"absolute inset-0 z-[100] bg-black\">\n        <CombatView\n          class=\"w-full h-full\"\n          :enemy-name=\"combatEnemyName\"\n          :player-deck=\"resolvedDeck\"\n          :test-start-at-999=\"combatTestStartAt999CurrentBattle\"\n          :initial-player-stats=\"{\n            hp: displayHp,\n            maxHp: displayMaxHp,\n            mp: displayMp,\n            minDice: displayMinDice || 1,\n            maxDice: displayMaxDice || 6,\n            effects: [{ type: EffectType.MANA_SPRING, stacks: 1, polarity: 'buff' as const }],\n          }\"\n          @end-combat=\"handleCombatEnd\"\n          @open-deck=\"activeModal = 'deck'\"\n          @open-relics=\"activeModal = 'relics'\"\n        />\n        <!-- Exit combat button -->\n        <button\n          class=\"absolute top-4 right-4 z-[110] px-4 py-2 bg-red-950/80 border border-red-700/50 text-red-300 text-sm rounded-lg\n                 hover:bg-red-900/80 hover:border-red-600 transition-all backdrop-blur-sm\"\n          @click=\"showCombat = false\"\n        >\n          ‚úï ÈÄÄÂá∫ÊàòÊñó\n        </button>\n      </div>\n    </Transition>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n    Activity,\n    BookOpen,\n    Box,\n    ChevronDown,\n    Coins,\n    Dices,\n    FileText,\n    Map as MapIcon,\n    Maximize,\n    Scroll,\n    Send,\n    Settings as SettingsIcon,\n} from 'lucide-vue-next';\nimport { getAllCards, resolveCardNames } from '../battle/cardRegistry';\nimport { getAllEnemyNames, getEnemyByName } from '../battle/enemyRegistry';\nimport { toggleFullScreen } from '../fullscreen';\nimport { useGameStore } from '../gameStore';\nimport { type CardData, EffectType } from '../types';\nimport CombatView from './CombatView.vue';\nimport DungeonCard from './DungeonCard.vue';\nimport DungeonModal from './DungeonModal.vue';\nimport SaveLoadPanel from './SaveLoadPanel.vue';\n\ndefineEmits<{\n  backToSplash: [];\n}>();\n\nconst SidebarIcon = defineComponent({\n  props: {\n    icon: { type: Object, required: true },\n    active: { type: Boolean, default: false },\n    label: { type: String, default: '' },\n    tooltipSide: { type: String, default: 'right' },\n  },\n  emits: ['click'],\n  setup(props, { emit }) {\n    return () =>\n      h(\n        'button',\n        {\n          class: [\n            'w-12 h-12 rounded-lg flex items-center justify-center transition-all duration-300 shadow-lg border relative group',\n            props.active\n              ? 'bg-dungeon-gold text-black border-dungeon-paper shadow-[0_0_15px_#d4af37]'\n              : 'bg-[#1a0f08] text-dungeon-gold-dim border-dungeon-brown hover:bg-dungeon-brown hover:text-dungeon-gold hover:border-dungeon-gold/50',\n          ],\n          onClick: () => emit('click'),\n        },\n        [\n          h(props.icon as any, { class: 'size-6' }),\n          props.label\n            ? h(\n                'div',\n                {\n                  class: [\n                    'absolute bg-black/90 text-dungeon-paper text-xs px-2 py-1 rounded border border-dungeon-brown opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50 pointer-events-none',\n                    props.tooltipSide === 'left' ? 'right-14' : 'left-14',\n                  ],\n                },\n                props.label,\n              )\n            : null,\n        ],\n      );\n  },\n});\n\nconst gameStore = useGameStore();\nconst activeModal = ref<string | null>(null);\nconst inputText = ref('');\nconst isVariableUpdateOpen = ref(false);\nconst isStatusOpen = ref(true);\nconst showCombat = ref(false);\nconst combatEnemyName = ref('');\nconst combatTestStep = ref<'deck' | 'enemy'>('deck');\nconst selectedTestDeck = ref<string[]>([]);\nconst selectedTestEnemy = ref('');\nconst combatTestStartAt999 = ref(false);\nconst combatTestStartAt999CurrentBattle = ref(false);\n\n// --- Dynamic Background ---\nconst bgIsLordFallback = ref(false);\nconst bgImageError = ref(false);\nconst HF_BG_BASE = 'https://huggingface.co/datasets/Vin05/AI-Gallery/resolve/main/%E5%9C%B0%E7%89%A2/%E8%83%8C%E6%99%AF';\nconst bgArea = computed(() => (gameStore.statData._ÂΩìÂâçÂå∫Âüü as string) || '');\nconst bgRoomType = computed(() => (gameStore.statData._ÂΩìÂâçÊàøÈó¥Á±ªÂûã as string) || '');\nconst bgImageUrl = computed(() => {\n  if (!bgArea.value || bgImageError.value) return '';\n  const isLord = bgRoomType.value === 'È¢Ü‰∏ª' && !bgIsLordFallback.value;\n  const suffix = isLord ? `${bgArea.value}_È¢Ü‰∏ª` : bgArea.value;\n  return `${HF_BG_BASE}/${encodeURIComponent(suffix)}.png`;\n});\nfunction onBgError() {\n  if (bgRoomType.value === 'È¢Ü‰∏ª' && !bgIsLordFallback.value) {\n    bgIsLordFallback.value = true;\n  } else {\n    bgImageError.value = true;\n  }\n}\n\nconst BG_OPACITY_KEY = 'dungeon.bg_overlay_opacity';\nconst bgOverlayOpacity = ref(parseFloat(localStorage.getItem(BG_OPACITY_KEY) ?? '0.5'));\nwatch(bgOverlayOpacity, (v) => localStorage.setItem(BG_OPACITY_KEY, String(v)));\n\nconst allCardsForTest = computed(() => getAllCards().filter(card => card.category !== 'Êïå‰∫∫'));\nconst cardByNameForTest = computed(() => {\n  const map = new Map<string, CardData>();\n  for (const card of allCardsForTest.value) {\n    map.set(card.name, card);\n  }\n  return map;\n});\nconst selectedTestDeckCards = computed(() =>\n  selectedTestDeck.value\n    .map((cardName, idx) => ({ idx, card: cardByNameForTest.value.get(cardName) }))\n    .filter((entry): entry is { idx: number; card: CardData } => entry.card !== undefined),\n);\nconst allEnemyNamesForTest = computed(() => getAllEnemyNames());\n\n// ‚îÄ‚îÄ Resolved deck from MVU _ÊäÄËÉΩ via card registry ‚îÄ‚îÄ\nconst resolvedDeck = computed<CardData[]>(() => {\n  const skills: string[] = gameStore.statData._ÊäÄËÉΩ ?? [];\n  return resolveCardNames(skills.filter((s) => s !== ''));\n});\n\n// ‚îÄ‚îÄ Resolved relics from MVU _Âú£ÈÅóÁâ© ‚îÄ‚îÄ\n// Format: { relicName: count } e.g. { \"Âú£ÊùØ\": 2, \"ÊØíËçØ\": 3 }\nconst relicEntries = computed(() => {\n  const raw: Record<string, number> = gameStore.statData._Âú£ÈÅóÁâ© ?? {};\n  return Object.entries(raw)\n    .filter(([name, count]) => name && count > 0)\n    .map(([name, count]) => ({ name, count }));\n});\n\n// ‚îÄ‚îÄ Text display settings (reactive, persisted) ‚îÄ‚îÄ\nconst textSettings = reactive({\n  fontSize: 21,\n  lineHeight: 2.0,\n  fontFamily: \"'Cinzel', serif\",\n  containerWidth: 1300,\n});\n\n// ‚îÄ‚îÄ Computed display values from MVU stat_data ‚îÄ‚îÄ\nconst displayText = computed(() =>\n  gameStore.mainText || 'Ê≠£Âú®Á≠âÂæÖÂÜíÈô©ÂºÄÂßã...\\n\\nËæìÂÖ•‰Ω†ÁöÑË°åÂä®ÊàñÈÄâÊã©‰∏Ä‰∏™ÈÄâÈ°πÊù•ÂºÄÂßãÊ∏∏Êàè„ÄÇ',\n);\n\n// HP: _Ë°ÄÈáè / _Ë°ÄÈáè‰∏äÈôê, HP ‰∏çËÉΩË∂ÖËøá‰∏äÈôê\nconst displayHp = computed(() => {\n  const hp = gameStore.statData._Ë°ÄÈáè ?? 10;\n  const maxHp = gameStore.statData._Ë°ÄÈáè‰∏äÈôê ?? 10;\n  return Math.min(hp, maxHp);\n});\nconst displayMaxHp = computed(() => gameStore.statData._Ë°ÄÈáè‰∏äÈôê ?? 10);\n\n// MP: _È≠îÈáè only, no max variable. Visual cap at 20.\nconst displayMp = computed(() => gameStore.statData._È≠îÈáè ?? 1);\n\n// Gold\nconst displayGold = computed(() => gameStore.statData._ÈáëÂ∏Å ?? 0);\n\n// Dice range\nconst displayMinDice = computed(() => gameStore.statData.$ÊúÄÂ∞èÁÇπÊï∞ ?? 0);\nconst displayMaxDice = computed(() => gameStore.statData.$ÊúÄÂ§ßÁÇπÊï∞ ?? 0);\n\nconst hpPercent = computed(() => {\n  const max = displayMaxHp.value;\n  return max > 0 ? Math.min((displayHp.value / max) * 100, 100) : 100;\n});\n\n// MP visual fill: cap at 20 for display\nconst mpPercent = computed(() => {\n  const mp = displayMp.value;\n  const visualMax = 20;\n  return Math.min((mp / visualMax) * 100, 100);\n});\n\n// ‚îÄ‚îÄ Actions ‚îÄ‚îÄ\nconst handleSendInput = () => {\n  if (!inputText.value.trim() || gameStore.isGenerating) return;\n  gameStore.sendAction(inputText.value);\n  inputText.value = '';\n};\n\nconst handleOptionClick = (option: string) => {\n  if (gameStore.isGenerating) return;\n  // Strip the \"A. \" / \"B. \" / etc. prefix, paste content into input box\n  const stripped = option.replace(/^[A-D]\\.\\s*/i, '');\n  inputText.value = stripped;\n};\n\n// ‚îÄ‚îÄ Room type config for E option ‚îÄ‚îÄ\ninterface RoomConfig {\n  label: string;\n  icon: string;\n  bgColor: string;\n  borderColor: string;\n  textColor: string;\n  glowColor: string;\n}\n\nconst ROOM_TYPE_CONFIG: Record<string, RoomConfig> = {\n  'ÊàòÊñóÊàø': { label: 'ÊàòÊñó', icon: '‚öî', bgColor: 'rgba(185,28,28,0.25)', borderColor: '#dc2626', textColor: '#fca5a5', glowColor: '#dc262680' },\n  'È¢Ü‰∏ªÊàø': { label: 'ÊàòÊñó', icon: '‚öî', bgColor: 'rgba(185,28,28,0.3)',  borderColor: '#ef4444', textColor: '#fca5a5', glowColor: '#ef444480' },\n  'ÂÆùÁÆ±Êàø': { label: 'ÊâìÂºÄÂÆùÁÆ±', icon: 'üì¶', bgColor: 'rgba(161,98,7,0.25)',  borderColor: '#eab308', textColor: '#fde68a', glowColor: '#eab30880' },\n  'ÂïÜÂ∫óÊàø': { label: 'ÊâìÂºÄÂïÜÂ∫ó', icon: 'üõí', bgColor: 'rgba(21,128,61,0.25)', borderColor: '#22c55e', textColor: '#bbf7d0', glowColor: '#22c55e80' },\n  'Ê∏©Ê≥âÊàø': { label: 'Ê∏ÖÈô§ËØÖÂíí', icon: 'üíß', bgColor: 'rgba(8,145,178,0.25)',  borderColor: '#06b6d4', textColor: '#a5f3fc', glowColor: '#06b6d480' },\n  'Á•ûÂÉèÊàø': { label: 'ËÜúÊãú', icon: 'üôè', bgColor: 'rgba(126,34,206,0.25)', borderColor: '#a855f7', textColor: '#e9d5ff', glowColor: '#a855f780' },\n};\n\n// E option: no button for ‰∫ã‰ª∂Êàø / Èô∑Èò±Êàø\nconst specialOptionConfig = computed<RoomConfig | null>(() => {\n  if (!gameStore.hasOptionE) return null;\n  const roomType = gameStore.statData._ÂΩìÂâçÊàøÈó¥Á±ªÂûã as string;\n  if (!roomType) return null;\n  if (roomType === '‰∫ã‰ª∂Êàø' || roomType === 'Èô∑Èò±Êàø') return null;\n  return ROOM_TYPE_CONFIG[roomType] ?? null;\n});\n\nconst handleSpecialOption = () => {\n  toastr.info('ÂäüËÉΩÂºÄÂèë‰∏≠...');\n};\n\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n//  [Leave] Portal System ‚Äî Floor/Area Logic\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\nconst FLOOR_MAP: Record<string, string[]> = {\n  'Á¨¨‰∏ÄÂ±Ç': ['È≠îÂ•≥ÁöÑÂ∞èÁ™ù', 'Á≤òÊ∂≤‰πãÊ≤º', 'ÂèëÊÉÖËø∑ÈõæÊ£ÆÊûó', 'Âñ∑Á≤æÊ≥âÁúº', 'Ëß¶ÊâãËèåÁ™ü', 'ËÇâÊ¨≤È£ü‰∫∫Ëä±ÂúÉ'],\n  'Á¨¨‰∫åÂ±Ç': ['Á¶ÅÂøåÂõæ‰π¶È¶Ü', 'ÂëªÂêüÈòÖËßàÂÆ§', 'ÂÇ¨ÊÉÖÂ¢®ÊüìÊπñ', 'ÊÄßÁôñËÆ∞ÂΩïÈ¶Ü', 'Ê∑´‰π±ÊïôËÅåÂ∑•ÂÆøËàç'],\n  'Á¨¨‰∏âÂ±Ç': ['Ê¨≤ÊúõÁõëÁã±', 'Âê∏Ë°ÄÈ¨ºÂè§Â†°', 'Ë∞ÉÊïôÂÆ°Âà§Â∫≠', 'Ëß¶ÊâãÊ∞¥Áâ¢', '‰∫∫ÂÅ∂Â∑•Âùä'],\n  'Á¨¨ÂõõÂ±Ç': ['ËôöÁ©∫ÂÆ´ÊÆø', 'Èïú‰πãËàûÂéÖ', 'ÂèåÂ≠êÂØùÂÆ´', 'Êò•Ê¢¶ÂõûÂªä', 'ÊûÅ‰πêÂÆ¥‰ºöÂéÖ'],\n  'Á¨¨‰∫îÂ±Ç': ['‰∫§Â™æÁ•≠Âùõ', 'Âú£Ê∞¥‰πãÊµ∑', 'Ëã¶‰øÆ‰πãË∑Ø', 'Á•ûË∞ïÊ∑´Á∫πÂÆ§', 'Â•≥Á•ûÁöÑ‰∫ßÊàø'],\n};\nconst FLOOR_ORDER = ['Á¨¨‰∏ÄÂ±Ç', 'Á¨¨‰∫åÂ±Ç', 'Á¨¨‰∏âÂ±Ç', 'Á¨¨ÂõõÂ±Ç', 'Á¨¨‰∫îÂ±Ç'];\n\nfunction getFloorForArea(area: string): string | null {\n  for (const [floor, areas] of Object.entries(FLOOR_MAP)) {\n    if (areas.includes(area)) return floor;\n  }\n  return null;\n}\n\nfunction getNextFloor(currentFloor: string): string | null {\n  const idx = FLOOR_ORDER.indexOf(currentFloor);\n  if (idx < 0 || idx >= FLOOR_ORDER.length - 1) return null;\n  return FLOOR_ORDER[idx + 1];\n}\n\ninterface FloorMonsterConfig {\n  common: string[];\n  uniqueByArea: Record<string, string[]>;\n}\n\n// Âü∫‰∫é EJSÈ≠îÁâ©.txt ÁöÑÊ•ºÂ±ÇÊÄ™Áâ©Ê±†ÔºõÁªìÂêàÂå∫ÂüüÊù°ÁõÆÊ†áÊ≥®ÁöÑ‚ÄúÁâπÊúâÈ≠îÁâ©‚ÄùÂª∫Á´ãÂå∫ÂüüÈôêÂà∂\nconst FLOOR_MONSTER_CONFIG: Record<string, FloorMonsterConfig> = {\n  'Á¨¨‰∏ÄÂ±Ç': {\n    common: ['Ê∏∏Ëç°Á≤òÊ∂≤ÁêÉ', 'ËçßÂÖâËõæ', 'Ê†πÈ°ªÊΩúË°åËÄÖ'],\n    uniqueByArea: {\n      'Á≤òÊ∂≤‰πãÊ≤º': ['Ê≤ºÊ≥ΩÊΩú‰ºèËÄÖ', 'ÊãüÊÄÅÊ∞îÊ≥°ÊÄ™'],\n      'ÂèëÊÉÖËø∑ÈõæÊ£ÆÊûó': ['Ëø∑ÈõæÁ≤æÊÄ™', 'Ëó§ËîìË°åËÄÖ'],\n      'Âñ∑Á≤æÊ≥âÁúº': ['Ê≥âÊ∞¥Á≤æÈ≠Ñ', 'ÊΩú‰ºèËß¶ÊâãÊÄ™'],\n      'Ëß¶ÊâãËèåÁ™ü': ['Á©¥Â±ÖËß¶Êâã'],\n      'ËÇâÊ¨≤È£ü‰∫∫Ëä±ÂúÉ': ['ÊûÅ‰πêËúúËúÇ', 'Ëä±Á≤âÂñ∑Â∞ÑËÄÖ'],\n    },\n  },\n  'Á¨¨‰∫åÂ±Ç': {\n    common: ['ÊµÆÊ∏∏‰π¶È°µ', 'Â¢®ÁóïÈº†', '‰ΩéËØ≠ÂπΩÁÅµ'],\n    uniqueByArea: {\n      'Á¶ÅÂøåÂõæ‰π¶È¶Ü': ['‰π¶È≠î', 'Â¢®Ê∞¥Âè≤Ëé±ÂßÜ'],\n      'ÂëªÂêüÈòÖËßàÂÆ§': ['Ê§ÖÂ≠êÊãüÊÄÅÊÄ™', 'Ê°åÈù¢Ëß¶Êâã'],\n      'ÂÇ¨ÊÉÖÂ¢®ÊüìÊπñ': ['Â¢®Âõ¢ÊÄ™', 'Ëß¶ÊâãÁæΩÊØõÁ¨î'],\n      'ÊÄßÁôñËÆ∞ÂΩïÈ¶Ü': ['Á™•ËßÜ‰πãÁúº', 'ÁæûËÄªÈò¥ÂΩ±'],\n      'Ê∑´‰π±ÊïôËÅåÂ∑•ÂÆøËàç': ['Â†ïËêΩÂ≠¶ËÄÖ', 'ÂÆøËàçÂπΩÁÅµ'],\n    },\n  },\n  'Á¨¨‰∏âÂ±Ç': {\n    common: ['Â∑°ÈÄªÈìÅËù†', 'ËçÜÊ£òÂåçÂåêËÄÖ', 'ÂΩ±Áâ¢‰ΩøÈ≠î'],\n    uniqueByArea: {\n      'Ê¨≤ÊúõÁõëÁã±': ['Âà∫ÈìæËõá', 'ÊÉ©ÊàíÂÇÄÂÑ°', 'ÁæûËÄªËõ≠'],\n      'Âê∏Ë°ÄÈ¨ºÂè§Â†°': ['Ë°ÄËùôËù†', 'Ë°Ä‰ªÜ', 'Ê¢¶È≠áÈ©π'],\n      'Ë∞ÉÊïôÂÆ°Âà§Â∫≠': ['ÂÆ°Âà§Ëõõ', 'ËØÅËØçËô´', 'ÂàΩÂ≠êÊâãÂÅ∂'],\n      'Ëß¶ÊâãÊ∞¥Áâ¢': ['Ê∑±Ê∏äÊ∞¥ÊØç', 'ÂØÑÁîüÊ∞¥Ëõ≠'],\n      '‰∫∫ÂÅ∂Â∑•Âùä': ['ÁºùÂêàËúòËõõ', '‰∏ùÁ∫øÂÇÄÂÑ°', 'ÊµãËØïËÄÖ'],\n    },\n  },\n  'Á¨¨ÂõõÂ±Ç': {\n    common: ['ËôöÁ©∫Ê∏∏ÂÖâ', 'Èù¢ÂÖ∑‰æç‰ªé', 'Á©∫Èó¥Ë£ÇÈöôËô´'],\n    uniqueByArea: {\n      'ËôöÁ©∫ÂÆ´ÊÆø': ['ËÇâÂ£ÅË†ïËô´'],\n      'Èïú‰πãËàûÂéÖ': ['ÈïúÂÉèÂàÜË∫´', 'Á¢éÈïúËù†'],\n      'ÂèåÂ≠êÂØùÂÆ´': ['Ê¢¶È≠áËõæ', 'ÊûïÂ§¥Á≤æ'],\n      'Êò•Ê¢¶ÂõûÂªä': ['ÁîªÊ°ÜÊçïÈ£üËÄÖ'],\n      'ÊûÅ‰πêÂÆ¥‰ºöÂéÖ': ['‰æçÂÆ¥ËÄÖ'],\n    },\n  },\n  'Á¨¨‰∫îÂ±Ç': {\n    common: ['Á•àÁ•∑ÁÉõÁÅµ', 'Âú£ÁóïËù∂', 'ÂøèÊÇîÂ§©‰Ωø'],\n    uniqueByArea: {\n      '‰∫§Â™æÁ•≠Âùõ': ['Á•≠Âè∏ÂÇÄÂÑ°', 'Á•ûÊÅ©Ëß¶Êâã'],\n      'Âú£Ê∞¥‰πãÊµ∑': ['Âú£Ê∞¥Ê∞¥ÊØç', 'Ê∑±Ê∏äÈ±ºÁæ§', 'Âú£Ê∞¥Á≤æÁÅµ'],\n      'Ëã¶‰øÆ‰πãË∑Ø': ['Êô∂‰ΩìÂà∫Áå¨', 'Ëã¶‰øÆÂπΩÁÅµ'],\n      'Á•ûË∞ïÊ∑´Á∫πÂÆ§': ['Á¨¶ÊñáÁ≤æÁÅµ', 'ÂÖâÁêÉÂÆàÂç´'],\n      'Â•≥Á•ûÁöÑ‰∫ßÊàø': ['ËÉéÂÑøÈ≠îÁâ©', 'ËÑêÂ∏¶Ëß¶Êâã'],\n    },\n  },\n};\n\n// ÂΩìÂâçËßÑÂàôÔºö70% ÊäΩÊôÆÈÄöÈ≠îÁâ©Ôºå30% ÊäΩÂå∫ÂüüÁâπÊúâÈ≠îÁâ©ÔºàËã•Â≠òÂú®Ôºâ\nconst COMMON_MONSTER_RATE_BY_FLOOR: Record<string, number> = {\n  'Á¨¨‰∏ÄÂ±Ç': 0.7,\n  'Á¨¨‰∫åÂ±Ç': 0.7,\n  'Á¨¨‰∏âÂ±Ç': 0.7,\n  'Á¨¨ÂõõÂ±Ç': 0.7,\n  'Á¨¨‰∫îÂ±Ç': 0.7,\n};\n\nfunction pickOne<T>(arr: T[]): T | null {\n  if (!arr.length) return null;\n  return arr[Math.floor(Math.random() * arr.length)]!;\n}\n\nfunction pickBattleMonsterByArea(area: string): string | null {\n  const floor = getFloorForArea(area) ?? 'Á¨¨‰∏ÄÂ±Ç';\n  const config = FLOOR_MONSTER_CONFIG[floor];\n  if (!config) return null;\n\n  const commonPool = config.common;\n  const uniquePool = config.uniqueByArea[area] ?? [];\n  const commonRate = COMMON_MONSTER_RATE_BY_FLOOR[floor] ?? 0.7;\n\n  let pool: string[] = [];\n  if (commonPool.length === 0 && uniquePool.length === 0) return null;\n  if (commonPool.length === 0) {\n    pool = uniquePool;\n  } else if (uniquePool.length === 0) {\n    pool = commonPool;\n  } else {\n    pool = Math.random() < commonRate ? commonPool : uniquePool;\n  }\n\n  return pickOne(pool);\n}\n\n// ‚îÄ‚îÄ Portal visuals ‚îÄ‚îÄ\nconst PORTAL_ROOM_TYPES = ['ÊàòÊñóÊàø', 'ÂÆùÁÆ±Êàø', 'ÂïÜÂ∫óÊàø', 'Ê∏©Ê≥âÊàø', 'Á•ûÂÉèÊàø', '‰∫ã‰ª∂Êàø', 'Èô∑Èò±Êàø'];\n\ninterface PortalVisual { icon: string; bgColor: string; borderColor: string; textColor: string; glowColor: string; }\n\nconst PORTAL_ROOM_VISUALS: Record<string, PortalVisual> = {\n  'ÊàòÊñóÊàø': { icon: '‚öîÔ∏è', bgColor: 'rgba(127,29,29,0.5)',  borderColor: '#991b1b', textColor: '#fca5a5', glowColor: '#dc2626' },\n  'ÂÆùÁÆ±Êàø': { icon: 'üíé', bgColor: 'rgba(113,63,18,0.5)',  borderColor: '#a16207', textColor: '#fde68a', glowColor: '#eab308' },\n  'ÂïÜÂ∫óÊàø': { icon: 'üè™', bgColor: 'rgba(20,83,45,0.5)',   borderColor: '#166534', textColor: '#bbf7d0', glowColor: '#22c55e' },\n  'Ê∏©Ê≥âÊàø': { icon: '‚ô®Ô∏è', bgColor: 'rgba(22,78,99,0.5)',   borderColor: '#155e75', textColor: '#a5f3fc', glowColor: '#06b6d4' },\n  'Á•ûÂÉèÊàø': { icon: 'üóø', bgColor: 'rgba(88,28,135,0.5)',  borderColor: '#7e22ce', textColor: '#e9d5ff', glowColor: '#a855f7' },\n  '‰∫ã‰ª∂Êàø': { icon: '‚ùì', bgColor: 'rgba(63,63,70,0.5)',   borderColor: '#52525b', textColor: '#d4d4d8', glowColor: '#71717a' },\n  'Èô∑Èò±Êàø': { icon: '‚ö†Ô∏è', bgColor: 'rgba(124,45,18,0.5)',  borderColor: '#9a3412', textColor: '#fed7aa', glowColor: '#ea580c' },\n  'È¢Ü‰∏ªÊàø': { icon: 'üëë', bgColor: 'rgba(127,29,29,0.6)',  borderColor: '#dc2626', textColor: '#fca5a5', glowColor: '#ef4444' },\n};\nconst AREA_PORTAL_VISUAL: PortalVisual = {\n  icon: 'üåÄ', bgColor: 'rgba(79,70,229,0.5)', borderColor: '#6366f1', textColor: '#c7d2fe', glowColor: '#818cf8',\n};\n\ninterface PortalChoice {\n  label: string;\n  roomType: string;\n  areaName?: string;\n  floorName?: string;\n  isFloorTransition: boolean;\n  icon: string;\n  bgColor: string;\n  borderColor: string;\n  textColor: string;\n  glowColor: string;\n}\n\nlet cachedPortals: PortalChoice[] = [];\nlet cachedPortalFingerprint = '';\n\nfunction shuffle<T>(arr: T[]): T[] {\n  const a = [...arr];\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}\n\nfunction generatePortals(): PortalChoice[] {\n  const currentArea = (gameStore.statData._ÂΩìÂâçÂå∫Âüü as string) || '';\n  const currentRoomType = (gameStore.statData._ÂΩìÂâçÊàøÈó¥Á±ªÂûã as string) || '';\n  const stats = (gameStore.statData.$ÁªüËÆ° as any) || {};\n  const roomsPassed: number = stats.ÂΩìÂâçÂ±ÇÂ∑≤ËøáÊàøÈó¥ ?? 0;\n\n  const isStartArea = currentArea === 'È≠îÂ•≥ÁöÑÂ∞èÁ™ù';\n  const isBossRoom = currentRoomType === 'È¢Ü‰∏ªÊàø';\n\n  // ‚îÄ‚îÄ Special: È≠îÂ•≥ÁöÑÂ∞èÁ™ù or È¢Ü‰∏ªÊàø ‚Üí next floor area portals ‚îÄ‚îÄ\n  if (isStartArea || isBossRoom) {\n    let targetFloor: string | null = null;\n    if (isStartArea) {\n      targetFloor = 'Á¨¨‰∏ÄÂ±Ç';\n    } else {\n      const currentFloor = getFloorForArea(currentArea);\n      if (currentFloor) targetFloor = getNextFloor(currentFloor);\n    }\n    if (targetFloor && FLOOR_MAP[targetFloor]) {\n      const candidates = FLOOR_MAP[targetFloor].filter(a => a !== currentArea);\n      const picked = shuffle(candidates).slice(0, 3);\n      return picked.map(areaName => ({\n        label: areaName,\n        roomType: '',\n        areaName,\n        floorName: targetFloor!,\n        isFloorTransition: true,\n        ...AREA_PORTAL_VISUAL,\n      }));\n    }\n  }\n\n  // ‚îÄ‚îÄ Boss room probability: rooms >= 5 ‚Üí (rooms - 4) * 10% ‚îÄ‚îÄ\n  if (roomsPassed >= 5) {\n    const bossChance = (roomsPassed - 4) * 0.1;\n    if (Math.random() < bossChance) {\n      const vis = PORTAL_ROOM_VISUALS['È¢Ü‰∏ªÊàø'];\n      return [{ label: 'È¢Ü‰∏ªÊàø', roomType: 'È¢Ü‰∏ªÊàø', isFloorTransition: false, ...vis }];\n    }\n  }\n\n  // ‚îÄ‚îÄ Normal: 1-3 random room portals (20%/40%/40%) ‚îÄ‚îÄ\n  const roll = Math.random();\n  const count = roll < 0.2 ? 1 : roll < 0.6 ? 2 : 3;\n  const picked = shuffle(PORTAL_ROOM_TYPES).slice(0, count);\n  return picked.map(rt => ({ label: rt, roomType: rt, isFloorTransition: false, ...PORTAL_ROOM_VISUALS[rt] }));\n}\n\n// ‰ΩøÁî®Áä∂ÊÄÅÊåáÁ∫πÂÆûÁé∞ÂìçÂ∫îÂºèÊõ¥Êñ∞ÔºöÂΩìÂå∫Âüü/ÊàøÈó¥Á±ªÂûã/hasLeave ÂèòÂåñÊó∂ÈáçÊñ∞ÁîüÊàê‰º†ÈÄÅÈó®\nconst portalChoices = computed<PortalChoice[]>(() => {\n  if (!gameStore.hasLeave) {\n    cachedPortals = [];\n    cachedPortalFingerprint = '';\n    return [];\n  }\n  // ÊûÑÂª∫Áä∂ÊÄÅÊåáÁ∫πÔºöÂå∫Âüü + ÊàøÈó¥Á±ªÂûã + ÁªüËÆ°Ôºå‰ªª‰ΩïÂèòÂåñÈÉΩÈáçÊñ∞ÁîüÊàê\n  const area = (gameStore.statData._ÂΩìÂâçÂå∫Âüü as string) || '';\n  const roomType = (gameStore.statData._ÂΩìÂâçÊàøÈó¥Á±ªÂûã as string) || '';\n  const rooms = ((gameStore.statData.$ÁªüËÆ° as any)?.ÂΩìÂâçÂ±ÇÂ∑≤ËøáÊàøÈó¥ ?? 0);\n  const fingerprint = `${area}|${roomType}|${rooms}`;\n  if (fingerprint !== cachedPortalFingerprint) {\n    cachedPortalFingerprint = fingerprint;\n    cachedPortals = generatePortals();\n  }\n  return cachedPortals;\n});\n\n// ‚îÄ‚îÄ Room type ‚Üí $ÁªüËÆ° field mapping ‚îÄ‚îÄ\nconst ROOM_STAT_KEY: Record<string, string> = {\n  'ÊàòÊñóÊàø': 'Á¥ØËÆ°ÁªèËøáÊàòÊñó', 'ÂÆùÁÆ±Êàø': 'Á¥ØËÆ°ÁªèËøáÂÆùÁÆ±', 'ÂïÜÂ∫óÊàø': 'Á¥ØËÆ°ÁªèËøáÂïÜÂ∫ó',\n  'Ê∏©Ê≥âÊàø': 'Á¥ØËÆ°ÁªèËøáÊ∏©Ê≥â', 'Á•ûÂÉèÊàø': 'Á¥ØËÆ°ÁªèËøáÁ•ûÂÉè', '‰∫ã‰ª∂Êàø': 'Á¥ØËÆ°ÁªèËøá‰∫ã‰ª∂', 'Èô∑Èò±Êàø': 'Á¥ØËÆ°ÁªèËøáÈô∑Èò±',\n};\n\nconst handlePortalClick = async (portal: PortalChoice) => {\n  if (gameStore.isGenerating) return;\n\n  if (portal.isFloorTransition) {\n    // ËÆ∞ÂΩïÂæÖÂ∫îÁî®ÂèòÈáèÔºöËøõÂÖ•Êñ∞Âå∫ÂüüÔºåÈ¶ñ‰∏™ÊàøÈó¥‰∏∫ÂÆùÁÆ±ÊàøÔºåÈáçÁΩÆÊàøÈó¥ËÆ°Êï∞\n    gameStore.setPendingPortalChanges({\n      area: portal.areaName!,\n      roomType: 'ÂÆùÁÆ±Êàø',\n      resetRoomCounter: true,\n      // Êñ∞Âå∫ÂüüÈ¶ñ‰∏™ÊàøÈó¥ÂêåÊ†∑ËÆ°ÂÖ•ÁªüËÆ°ÔºöÂÆùÁÆ±Êàø +1„ÄÅÁ¥ØËÆ°ÊÄªÊàøÈó¥ +1„ÄÅÂΩìÂ±ÇÊàøÈó¥ +1\n      incrementKeys: ['ÂΩìÂâçÂ±ÇÂ∑≤ËøáÊàøÈó¥', 'Á¥ØËÆ°Â∑≤ËøáÊàøÈó¥', 'Á¥ØËÆ°ÁªèËøáÂÆùÁÆ±'],\n      enemyName: '',\n    });\n    console.info(`[Portal] Floor transition queued ‚Üí area: ${portal.areaName}, first room: ÂÆùÁÆ±Êàø`);\n    gameStore.sendAction(`<user>ÈÄâÊã©‰∫ÜÁªßÁª≠ÂâçËøõÔºåËøõÂÖ•‰∫Ü${portal.areaName}ÁöÑÂÆùÁÆ±Êàø`);\n  } else {\n    // ËÆ∞ÂΩïÂæÖÂ∫îÁî®ÂèòÈáèÔºöËøõÂÖ•Êñ∞ÊàøÈó¥ÔºåÊõ¥Êñ∞ÁªüËÆ°\n    const incrementKeys = ['ÂΩìÂâçÂ±ÇÂ∑≤ËøáÊàøÈó¥', 'Á¥ØËÆ°Â∑≤ËøáÊàøÈó¥'];\n    const statKey = ROOM_STAT_KEY[portal.roomType];\n    if (statKey) incrementKeys.push(statKey);\n    const currentArea = (gameStore.statData._ÂΩìÂâçÂå∫Âüü as string) || '';\n    const encounterMonster = portal.roomType === 'ÊàòÊñóÊàø'\n      ? pickBattleMonsterByArea(currentArea)\n      : null;\n\n    gameStore.setPendingPortalChanges({\n      roomType: portal.roomType,\n      incrementKeys,\n      enemyName: encounterMonster ?? '',\n    });\n    console.info(`[Portal] Room transition queued ‚Üí type: ${portal.roomType}`);\n    if (portal.roomType === 'ÊàòÊñóÊàø' && encounterMonster) {\n      gameStore.sendAction(`<user>ÈÄâÊã©‰∫ÜÁªßÁª≠ÂâçËøõÔºåËøõÂÖ•‰∫Ü${portal.roomType}Âπ∂ÈÅ≠ÈÅá‰∫Ü${encounterMonster}`);\n    } else {\n      gameStore.sendAction(`<user>ÈÄâÊã©‰∫ÜÁªßÁª≠ÂâçËøõÔºåËøõÂÖ•‰∫Ü${portal.roomType}ÁöÑÊàøÈó¥`);\n    }\n  }\n};\n\n\nconst openSaveLoad = () => {\n  gameStore.loadSaveEntries();\n  gameStore.isSaveLoadOpen = !gameStore.isSaveLoadOpen;\n};\n\nconst openVariableUpdate = () => {\n  isVariableUpdateOpen.value = !isVariableUpdateOpen.value;\n};\n\n// toggleFullScreen imported from '../fullscreen'\n\n// ‚îÄ‚îÄ Combat Test ‚îÄ‚îÄ\nconst openCombatTestBuilder = () => {\n  gameStore.loadStatData();\n  const availableCardNames = new Set(allCardsForTest.value.map(c => c.name));\n  const presetDeck = Array.isArray(gameStore.statData._ÊäÄËÉΩ)\n    ? (gameStore.statData._ÊäÄËÉΩ as string[]).filter((name) => availableCardNames.has(name)).slice(0, 9)\n    : [];\n\n  selectedTestDeck.value = [...presetDeck];\n  selectedTestEnemy.value = '';\n  combatTestStartAt999.value = false;\n  combatTestStep.value = 'deck';\n  activeModal.value = 'combatTestBuilder';\n};\n\nconst addCardToTestDeck = (cardName: string) => {\n  if (selectedTestDeck.value.length >= 9) return;\n  selectedTestDeck.value.push(cardName);\n};\n\nconst removeCardFromTestDeck = (index: number) => {\n  if (index < 0 || index >= selectedTestDeck.value.length) return;\n  selectedTestDeck.value.splice(index, 1);\n};\n\nconst confirmCombatTestDeck = async () => {\n  if (selectedTestDeck.value.length !== 9) {\n    gameStore.error = 'ËØ∑ÂÖàÁªÑÊª°9Âº†ÊµãËØïÂç°ÁªÑ„ÄÇ';\n    return;\n  }\n  const ok = await gameStore.updateStatDataFields({\n    _ÊäÄËÉΩ: [...selectedTestDeck.value],\n  });\n  if (!ok) return;\n\n  if (allEnemyNamesForTest.value.length === 0) {\n    gameStore.error = 'ÂΩìÂâçÊ≤°ÊúâÂèØÁî®È≠îÁâ©ÔºåËØ∑ÂÖàÂú® enemyRegistry Ê≥®ÂÜåÊïå‰∫∫„ÄÇ';\n    return;\n  }\n  combatTestStep.value = 'enemy';\n};\n\nconst confirmCombatTestEnemyAndStart = async () => {\n  if (!selectedTestEnemy.value) {\n    gameStore.error = 'ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™È≠îÁâ©„ÄÇ';\n    return;\n  }\n  const enemyDef = getEnemyByName(selectedTestEnemy.value);\n  if (!enemyDef) {\n    gameStore.error = `Êú™Âú®Êïå‰∫∫Â∫ì‰∏≠ÊâæÂà∞„Äå${selectedTestEnemy.value}„Äç`;\n    return;\n  }\n  const ok = await gameStore.updateStatDataFields({\n    _ÂØπÊâãÂêçÁß∞: selectedTestEnemy.value,\n  });\n  if (!ok) return;\n\n  activeModal.value = null;\n  combatEnemyName.value = selectedTestEnemy.value;\n  combatTestStartAt999CurrentBattle.value = combatTestStartAt999.value;\n  showCombat.value = true;\n};\n\nconst handleCombatEnd = (win: boolean) => {\n  showCombat.value = false;\n  combatTestStartAt999CurrentBattle.value = false;\n  console.log('[Combat] Result:', win ? 'WIN' : 'LOSE');\n};\n</script>\n\n<style scoped>\n.status-slide-enter-active,\n.status-slide-leave-active {\n  transition: all 0.3s ease;\n}\n.status-slide-enter-from,\n.status-slide-leave-to {\n  opacity: 0;\n  transform: translateY(10px);\n}\n\n/* Heart container glow effect */\n.stat-container-heart {\n  filter: drop-shadow(0 0 6px rgba(180, 20, 20, 0.4));\n  transition: filter 0.3s ease;\n}\n.stat-container-heart:hover {\n  filter: drop-shadow(0 0 12px rgba(200, 30, 30, 0.7));\n}\n\n/* Mana container glow effect */\n.stat-container-mana {\n  filter: drop-shadow(0 0 6px rgba(50, 50, 200, 0.4));\n  transition: filter 0.3s ease;\n}\n.stat-container-mana:hover {\n  filter: drop-shadow(0 0 12px rgba(60, 60, 230, 0.7));\n}\n\n/* Combat overlay transition */\n.combat-fade-enter-active,\n.combat-fade-leave-active {\n  transition: opacity 0.4s ease;\n}\n.combat-fade-enter-from,\n.combat-fade-leave-to {\n  opacity: 0;\n}\n</style>\n","<template>\n  <div class=\"w-full relative\">\n    <!-- Splash Screen -->\n    <Transition name=\"scene-fade\" mode=\"out-in\">\n      <SplashScreen\n        v-if=\"appState === 'SPLASH'\"\n        key=\"splash\"\n        @start=\"startGame\"\n        @toggle-fullscreen=\"toggleFullScreen\"\n      />\n\n      <!-- Game -->\n      <GameView\n        v-else\n        key=\"game\"\n        @back-to-splash=\"appState = 'SPLASH'\"\n      />\n    </Transition>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport GameView from './components/GameView.vue';\nimport SplashScreen from './components/SplashScreen.vue';\nimport { toggleFullScreen } from './fullscreen';\nimport { useGameStore } from './gameStore';\n\nconst appState = ref<'SPLASH' | 'GAME'>('SPLASH');\nconst gameStore = useGameStore();\n\n/**\n * ÂºÄÂßãÊ∏∏ÊàèÔºöÂàùÂßãÂåñ gameStoreÔºàÂä†ËΩΩÊúÄÊñ∞Ê•ºÂ±ÇÁä∂ÊÄÅ„ÄÅMVUÔºâ\n */\nasync function startGame() {\n  appState.value = 'GAME';\n  await nextTick();\n  await gameStore.initialize();\n}\n</script>\n\n<style scoped>\n/* Scene transition: fade + subtle scale */\n.scene-fade-enter-active {\n  transition: opacity 0.8s ease, transform 0.8s ease;\n}\n.scene-fade-leave-active {\n  transition: opacity 0.5s ease, transform 0.5s ease;\n}\n.scene-fade-enter-from {\n  opacity: 0;\n  transform: scale(1.02);\n}\n.scene-fade-leave-to {\n  opacity: 0;\n  transform: scale(0.98);\n}\n</style>\n",null,"@layer theme, base, components, utilities;\n\n@layer theme {\n  @theme default {\n    --font-sans:\n      ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\",\n      \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n    --font-serif: ui-serif, Georgia, Cambria, \"Times New Roman\", Times, serif;\n    --font-mono:\n      ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\",\n      \"Courier New\", monospace;\n\n    --color-red-50: oklch(97.1% 0.013 17.38);\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-300: oklch(80.8% 0.114 19.571);\n    --color-red-400: oklch(70.4% 0.191 22.216);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-red-900: oklch(39.6% 0.141 25.723);\n    --color-red-950: oklch(25.8% 0.092 26.042);\n\n    --color-orange-50: oklch(98% 0.016 73.684);\n    --color-orange-100: oklch(95.4% 0.038 75.164);\n    --color-orange-200: oklch(90.1% 0.076 70.697);\n    --color-orange-300: oklch(83.7% 0.128 66.29);\n    --color-orange-400: oklch(75% 0.183 55.934);\n    --color-orange-500: oklch(70.5% 0.213 47.604);\n    --color-orange-600: oklch(64.6% 0.222 41.116);\n    --color-orange-700: oklch(55.3% 0.195 38.402);\n    --color-orange-800: oklch(47% 0.157 37.304);\n    --color-orange-900: oklch(40.8% 0.123 38.172);\n    --color-orange-950: oklch(26.6% 0.079 36.259);\n\n    --color-amber-50: oklch(98.7% 0.022 95.277);\n    --color-amber-100: oklch(96.2% 0.059 95.617);\n    --color-amber-200: oklch(92.4% 0.12 95.746);\n    --color-amber-300: oklch(87.9% 0.169 91.605);\n    --color-amber-400: oklch(82.8% 0.189 84.429);\n    --color-amber-500: oklch(76.9% 0.188 70.08);\n    --color-amber-600: oklch(66.6% 0.179 58.318);\n    --color-amber-700: oklch(55.5% 0.163 48.998);\n    --color-amber-800: oklch(47.3% 0.137 46.201);\n    --color-amber-900: oklch(41.4% 0.112 45.904);\n    --color-amber-950: oklch(27.9% 0.077 45.635);\n\n    --color-yellow-50: oklch(98.7% 0.026 102.212);\n    --color-yellow-100: oklch(97.3% 0.071 103.193);\n    --color-yellow-200: oklch(94.5% 0.129 101.54);\n    --color-yellow-300: oklch(90.5% 0.182 98.111);\n    --color-yellow-400: oklch(85.2% 0.199 91.936);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-600: oklch(68.1% 0.162 75.834);\n    --color-yellow-700: oklch(55.4% 0.135 66.442);\n    --color-yellow-800: oklch(47.6% 0.114 61.907);\n    --color-yellow-900: oklch(42.1% 0.095 57.708);\n    --color-yellow-950: oklch(28.6% 0.066 53.813);\n\n    --color-lime-50: oklch(98.6% 0.031 120.757);\n    --color-lime-100: oklch(96.7% 0.067 122.328);\n    --color-lime-200: oklch(93.8% 0.127 124.321);\n    --color-lime-300: oklch(89.7% 0.196 126.665);\n    --color-lime-400: oklch(84.1% 0.238 128.85);\n    --color-lime-500: oklch(76.8% 0.233 130.85);\n    --color-lime-600: oklch(64.8% 0.2 131.684);\n    --color-lime-700: oklch(53.2% 0.157 131.589);\n    --color-lime-800: oklch(45.3% 0.124 130.933);\n    --color-lime-900: oklch(40.5% 0.101 131.063);\n    --color-lime-950: oklch(27.4% 0.072 132.109);\n\n    --color-green-50: oklch(98.2% 0.018 155.826);\n    --color-green-100: oklch(96.2% 0.044 156.743);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-300: oklch(87.1% 0.15 154.449);\n    --color-green-400: oklch(79.2% 0.209 151.711);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-600: oklch(62.7% 0.194 149.214);\n    --color-green-700: oklch(52.7% 0.154 150.069);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-green-900: oklch(39.3% 0.095 152.535);\n    --color-green-950: oklch(26.6% 0.065 152.934);\n\n    --color-emerald-50: oklch(97.9% 0.021 166.113);\n    --color-emerald-100: oklch(95% 0.052 163.051);\n    --color-emerald-200: oklch(90.5% 0.093 164.15);\n    --color-emerald-300: oklch(84.5% 0.143 164.978);\n    --color-emerald-400: oklch(76.5% 0.177 163.223);\n    --color-emerald-500: oklch(69.6% 0.17 162.48);\n    --color-emerald-600: oklch(59.6% 0.145 163.225);\n    --color-emerald-700: oklch(50.8% 0.118 165.612);\n    --color-emerald-800: oklch(43.2% 0.095 166.913);\n    --color-emerald-900: oklch(37.8% 0.077 168.94);\n    --color-emerald-950: oklch(26.2% 0.051 172.552);\n\n    --color-teal-50: oklch(98.4% 0.014 180.72);\n    --color-teal-100: oklch(95.3% 0.051 180.801);\n    --color-teal-200: oklch(91% 0.096 180.426);\n    --color-teal-300: oklch(85.5% 0.138 181.071);\n    --color-teal-400: oklch(77.7% 0.152 181.912);\n    --color-teal-500: oklch(70.4% 0.14 182.503);\n    --color-teal-600: oklch(60% 0.118 184.704);\n    --color-teal-700: oklch(51.1% 0.096 186.391);\n    --color-teal-800: oklch(43.7% 0.078 188.216);\n    --color-teal-900: oklch(38.6% 0.063 188.416);\n    --color-teal-950: oklch(27.7% 0.046 192.524);\n\n    --color-cyan-50: oklch(98.4% 0.019 200.873);\n    --color-cyan-100: oklch(95.6% 0.045 203.388);\n    --color-cyan-200: oklch(91.7% 0.08 205.041);\n    --color-cyan-300: oklch(86.5% 0.127 207.078);\n    --color-cyan-400: oklch(78.9% 0.154 211.53);\n    --color-cyan-500: oklch(71.5% 0.143 215.221);\n    --color-cyan-600: oklch(60.9% 0.126 221.723);\n    --color-cyan-700: oklch(52% 0.105 223.128);\n    --color-cyan-800: oklch(45% 0.085 224.283);\n    --color-cyan-900: oklch(39.8% 0.07 227.392);\n    --color-cyan-950: oklch(30.2% 0.056 229.695);\n\n    --color-sky-50: oklch(97.7% 0.013 236.62);\n    --color-sky-100: oklch(95.1% 0.026 236.824);\n    --color-sky-200: oklch(90.1% 0.058 230.902);\n    --color-sky-300: oklch(82.8% 0.111 230.318);\n    --color-sky-400: oklch(74.6% 0.16 232.661);\n    --color-sky-500: oklch(68.5% 0.169 237.323);\n    --color-sky-600: oklch(58.8% 0.158 241.966);\n    --color-sky-700: oklch(50% 0.134 242.749);\n    --color-sky-800: oklch(44.3% 0.11 240.79);\n    --color-sky-900: oklch(39.1% 0.09 240.876);\n    --color-sky-950: oklch(29.3% 0.066 243.157);\n\n    --color-blue-50: oklch(97% 0.014 254.604);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-200: oklch(88.2% 0.059 254.128);\n    --color-blue-300: oklch(80.9% 0.105 251.813);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-700: oklch(48.8% 0.243 264.376);\n    --color-blue-800: oklch(42.4% 0.199 265.638);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-blue-950: oklch(28.2% 0.091 267.935);\n\n    --color-indigo-50: oklch(96.2% 0.018 272.314);\n    --color-indigo-100: oklch(93% 0.034 272.788);\n    --color-indigo-200: oklch(87% 0.065 274.039);\n    --color-indigo-300: oklch(78.5% 0.115 274.713);\n    --color-indigo-400: oklch(67.3% 0.182 276.935);\n    --color-indigo-500: oklch(58.5% 0.233 277.117);\n    --color-indigo-600: oklch(51.1% 0.262 276.966);\n    --color-indigo-700: oklch(45.7% 0.24 277.023);\n    --color-indigo-800: oklch(39.8% 0.195 277.366);\n    --color-indigo-900: oklch(35.9% 0.144 278.697);\n    --color-indigo-950: oklch(25.7% 0.09 281.288);\n\n    --color-violet-50: oklch(96.9% 0.016 293.756);\n    --color-violet-100: oklch(94.3% 0.029 294.588);\n    --color-violet-200: oklch(89.4% 0.057 293.283);\n    --color-violet-300: oklch(81.1% 0.111 293.571);\n    --color-violet-400: oklch(70.2% 0.183 293.541);\n    --color-violet-500: oklch(60.6% 0.25 292.717);\n    --color-violet-600: oklch(54.1% 0.281 293.009);\n    --color-violet-700: oklch(49.1% 0.27 292.581);\n    --color-violet-800: oklch(43.2% 0.232 292.759);\n    --color-violet-900: oklch(38% 0.189 293.745);\n    --color-violet-950: oklch(28.3% 0.141 291.089);\n\n    --color-purple-50: oklch(97.7% 0.014 308.299);\n    --color-purple-100: oklch(94.6% 0.033 307.174);\n    --color-purple-200: oklch(90.2% 0.063 306.703);\n    --color-purple-300: oklch(82.7% 0.119 306.383);\n    --color-purple-400: oklch(71.4% 0.203 305.504);\n    --color-purple-500: oklch(62.7% 0.265 303.9);\n    --color-purple-600: oklch(55.8% 0.288 302.321);\n    --color-purple-700: oklch(49.6% 0.265 301.924);\n    --color-purple-800: oklch(43.8% 0.218 303.724);\n    --color-purple-900: oklch(38.1% 0.176 304.987);\n    --color-purple-950: oklch(29.1% 0.149 302.717);\n\n    --color-fuchsia-50: oklch(97.7% 0.017 320.058);\n    --color-fuchsia-100: oklch(95.2% 0.037 318.852);\n    --color-fuchsia-200: oklch(90.3% 0.076 319.62);\n    --color-fuchsia-300: oklch(83.3% 0.145 321.434);\n    --color-fuchsia-400: oklch(74% 0.238 322.16);\n    --color-fuchsia-500: oklch(66.7% 0.295 322.15);\n    --color-fuchsia-600: oklch(59.1% 0.293 322.896);\n    --color-fuchsia-700: oklch(51.8% 0.253 323.949);\n    --color-fuchsia-800: oklch(45.2% 0.211 324.591);\n    --color-fuchsia-900: oklch(40.1% 0.17 325.612);\n    --color-fuchsia-950: oklch(29.3% 0.136 325.661);\n\n    --color-pink-50: oklch(97.1% 0.014 343.198);\n    --color-pink-100: oklch(94.8% 0.028 342.258);\n    --color-pink-200: oklch(89.9% 0.061 343.231);\n    --color-pink-300: oklch(82.3% 0.12 346.018);\n    --color-pink-400: oklch(71.8% 0.202 349.761);\n    --color-pink-500: oklch(65.6% 0.241 354.308);\n    --color-pink-600: oklch(59.2% 0.249 0.584);\n    --color-pink-700: oklch(52.5% 0.223 3.958);\n    --color-pink-800: oklch(45.9% 0.187 3.815);\n    --color-pink-900: oklch(40.8% 0.153 2.432);\n    --color-pink-950: oklch(28.4% 0.109 3.907);\n\n    --color-rose-50: oklch(96.9% 0.015 12.422);\n    --color-rose-100: oklch(94.1% 0.03 12.58);\n    --color-rose-200: oklch(89.2% 0.058 10.001);\n    --color-rose-300: oklch(81% 0.117 11.638);\n    --color-rose-400: oklch(71.2% 0.194 13.428);\n    --color-rose-500: oklch(64.5% 0.246 16.439);\n    --color-rose-600: oklch(58.6% 0.253 17.585);\n    --color-rose-700: oklch(51.4% 0.222 16.935);\n    --color-rose-800: oklch(45.5% 0.188 13.697);\n    --color-rose-900: oklch(41% 0.159 10.272);\n    --color-rose-950: oklch(27.1% 0.105 12.094);\n\n    --color-slate-50: oklch(98.4% 0.003 247.858);\n    --color-slate-100: oklch(96.8% 0.007 247.896);\n    --color-slate-200: oklch(92.9% 0.013 255.508);\n    --color-slate-300: oklch(86.9% 0.022 252.894);\n    --color-slate-400: oklch(70.4% 0.04 256.788);\n    --color-slate-500: oklch(55.4% 0.046 257.417);\n    --color-slate-600: oklch(44.6% 0.043 257.281);\n    --color-slate-700: oklch(37.2% 0.044 257.287);\n    --color-slate-800: oklch(27.9% 0.041 260.031);\n    --color-slate-900: oklch(20.8% 0.042 265.755);\n    --color-slate-950: oklch(12.9% 0.042 264.695);\n\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-100: oklch(96.7% 0.003 264.542);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-500: oklch(55.1% 0.027 264.364);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-gray-900: oklch(21% 0.034 264.665);\n    --color-gray-950: oklch(13% 0.028 261.692);\n\n    --color-zinc-50: oklch(98.5% 0 0);\n    --color-zinc-100: oklch(96.7% 0.001 286.375);\n    --color-zinc-200: oklch(92% 0.004 286.32);\n    --color-zinc-300: oklch(87.1% 0.006 286.286);\n    --color-zinc-400: oklch(70.5% 0.015 286.067);\n    --color-zinc-500: oklch(55.2% 0.016 285.938);\n    --color-zinc-600: oklch(44.2% 0.017 285.786);\n    --color-zinc-700: oklch(37% 0.013 285.805);\n    --color-zinc-800: oklch(27.4% 0.006 286.033);\n    --color-zinc-900: oklch(21% 0.006 285.885);\n    --color-zinc-950: oklch(14.1% 0.005 285.823);\n\n    --color-neutral-50: oklch(98.5% 0 0);\n    --color-neutral-100: oklch(97% 0 0);\n    --color-neutral-200: oklch(92.2% 0 0);\n    --color-neutral-300: oklch(87% 0 0);\n    --color-neutral-400: oklch(70.8% 0 0);\n    --color-neutral-500: oklch(55.6% 0 0);\n    --color-neutral-600: oklch(43.9% 0 0);\n    --color-neutral-700: oklch(37.1% 0 0);\n    --color-neutral-800: oklch(26.9% 0 0);\n    --color-neutral-900: oklch(20.5% 0 0);\n    --color-neutral-950: oklch(14.5% 0 0);\n\n    --color-stone-50: oklch(98.5% 0.001 106.423);\n    --color-stone-100: oklch(97% 0.001 106.424);\n    --color-stone-200: oklch(92.3% 0.003 48.717);\n    --color-stone-300: oklch(86.9% 0.005 56.366);\n    --color-stone-400: oklch(70.9% 0.01 56.259);\n    --color-stone-500: oklch(55.3% 0.013 58.071);\n    --color-stone-600: oklch(44.4% 0.011 73.639);\n    --color-stone-700: oklch(37.4% 0.01 67.558);\n    --color-stone-800: oklch(26.8% 0.007 34.298);\n    --color-stone-900: oklch(21.6% 0.006 56.043);\n    --color-stone-950: oklch(14.7% 0.004 49.25);\n\n    --color-mauve-50: oklch(98.5% 0 0);\n    --color-mauve-100: oklch(96% 0.003 325.6);\n    --color-mauve-200: oklch(92.2% 0.005 325.62);\n    --color-mauve-300: oklch(86.5% 0.012 325.68);\n    --color-mauve-400: oklch(71.1% 0.019 323.02);\n    --color-mauve-500: oklch(54.2% 0.034 322.5);\n    --color-mauve-600: oklch(43.5% 0.029 321.78);\n    --color-mauve-700: oklch(36.4% 0.029 323.89);\n    --color-mauve-800: oklch(26.3% 0.024 320.12);\n    --color-mauve-900: oklch(21.2% 0.019 322.12);\n    --color-mauve-950: oklch(14.5% 0.008 326);\n\n    --color-olive-50: oklch(98.8% 0.003 106.5);\n    --color-olive-100: oklch(96.6% 0.005 106.5);\n    --color-olive-200: oklch(93% 0.007 106.5);\n    --color-olive-300: oklch(88% 0.011 106.6);\n    --color-olive-400: oklch(73.7% 0.021 106.9);\n    --color-olive-500: oklch(58% 0.031 107.3);\n    --color-olive-600: oklch(46.6% 0.025 107.3);\n    --color-olive-700: oklch(39.4% 0.023 107.4);\n    --color-olive-800: oklch(28.6% 0.016 107.4);\n    --color-olive-900: oklch(22.8% 0.013 107.4);\n    --color-olive-950: oklch(15.3% 0.006 107.1);\n\n    --color-mist-50: oklch(98.7% 0.002 197.1);\n    --color-mist-100: oklch(96.3% 0.002 197.1);\n    --color-mist-200: oklch(92.5% 0.005 214.3);\n    --color-mist-300: oklch(87.2% 0.007 219.6);\n    --color-mist-400: oklch(72.3% 0.014 214.4);\n    --color-mist-500: oklch(56% 0.021 213.5);\n    --color-mist-600: oklch(45% 0.017 213.2);\n    --color-mist-700: oklch(37.8% 0.015 216);\n    --color-mist-800: oklch(27.5% 0.011 216.9);\n    --color-mist-900: oklch(21.8% 0.008 223.9);\n    --color-mist-950: oklch(14.8% 0.004 228.8);\n\n    --color-taupe-50: oklch(98.6% 0.002 67.8);\n    --color-taupe-100: oklch(96% 0.002 17.2);\n    --color-taupe-200: oklch(92.2% 0.005 34.3);\n    --color-taupe-300: oklch(86.8% 0.007 39.5);\n    --color-taupe-400: oklch(71.4% 0.014 41.2);\n    --color-taupe-500: oklch(54.7% 0.021 43.1);\n    --color-taupe-600: oklch(43.8% 0.017 39.3);\n    --color-taupe-700: oklch(36.7% 0.016 35.7);\n    --color-taupe-800: oklch(26.8% 0.011 36.5);\n    --color-taupe-900: oklch(21.4% 0.009 43.1);\n    --color-taupe-950: oklch(14.7% 0.004 49.3);\n\n    --color-black: #000;\n    --color-white: #fff;\n\n    --spacing: 0.25rem;\n\n    --breakpoint-sm: 40rem;\n    --breakpoint-md: 48rem;\n    --breakpoint-lg: 64rem;\n    --breakpoint-xl: 80rem;\n    --breakpoint-2xl: 96rem;\n\n    --container-3xs: 16rem;\n    --container-2xs: 18rem;\n    --container-xs: 20rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --container-xl: 36rem;\n    --container-2xl: 42rem;\n    --container-3xl: 48rem;\n    --container-4xl: 56rem;\n    --container-5xl: 64rem;\n    --container-6xl: 72rem;\n    --container-7xl: 80rem;\n\n    --text-xs: 0.75rem;\n    --text-xs--line-height: calc(1 / 0.75);\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --text-base: 1rem;\n    --text-base--line-height: calc(1.5 / 1);\n    --text-lg: 1.125rem;\n    --text-lg--line-height: calc(1.75 / 1.125);\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-2xl: 1.5rem;\n    --text-2xl--line-height: calc(2 / 1.5);\n    --text-3xl: 1.875rem;\n    --text-3xl--line-height: calc(2.25 / 1.875);\n    --text-4xl: 2.25rem;\n    --text-4xl--line-height: calc(2.5 / 2.25);\n    --text-5xl: 3rem;\n    --text-5xl--line-height: 1;\n    --text-6xl: 3.75rem;\n    --text-6xl--line-height: 1;\n    --text-7xl: 4.5rem;\n    --text-7xl--line-height: 1;\n    --text-8xl: 6rem;\n    --text-8xl--line-height: 1;\n    --text-9xl: 8rem;\n    --text-9xl--line-height: 1;\n\n    --font-weight-thin: 100;\n    --font-weight-extralight: 200;\n    --font-weight-light: 300;\n    --font-weight-normal: 400;\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --font-weight-extrabold: 800;\n    --font-weight-black: 900;\n\n    --tracking-tighter: -0.05em;\n    --tracking-tight: -0.025em;\n    --tracking-normal: 0em;\n    --tracking-wide: 0.025em;\n    --tracking-wider: 0.05em;\n    --tracking-widest: 0.1em;\n\n    --leading-tight: 1.25;\n    --leading-snug: 1.375;\n    --leading-normal: 1.5;\n    --leading-relaxed: 1.625;\n    --leading-loose: 2;\n\n    --radius-xs: 0.125rem;\n    --radius-sm: 0.25rem;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --radius-xl: 0.75rem;\n    --radius-2xl: 1rem;\n    --radius-3xl: 1.5rem;\n    --radius-4xl: 2rem;\n\n    --shadow-2xs: 0 1px rgb(0 0 0 / 0.05);\n    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n    --shadow-md:\n      0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n    --shadow-lg:\n      0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n    --shadow-xl:\n      0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n\n    --inset-shadow-2xs: inset 0 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-sm: inset 0 2px 4px rgb(0 0 0 / 0.05);\n\n    --drop-shadow-xs: 0 1px 1px rgb(0 0 0 / 0.05);\n    --drop-shadow-sm: 0 1px 2px rgb(0 0 0 / 0.15);\n    --drop-shadow-md: 0 3px 3px rgb(0 0 0 / 0.12);\n    --drop-shadow-lg: 0 4px 4px rgb(0 0 0 / 0.15);\n    --drop-shadow-xl: 0 9px 7px rgb(0 0 0 / 0.1);\n    --drop-shadow-2xl: 0 25px 25px rgb(0 0 0 / 0.15);\n\n    --text-shadow-2xs: 0px 1px 0px rgb(0 0 0 / 0.15);\n    --text-shadow-xs: 0px 1px 1px rgb(0 0 0 / 0.2);\n    --text-shadow-sm:\n      0px 1px 0px rgb(0 0 0 / 0.075), 0px 1px 1px rgb(0 0 0 / 0.075),\n      0px 2px 2px rgb(0 0 0 / 0.075);\n    --text-shadow-md:\n      0px 1px 1px rgb(0 0 0 / 0.1), 0px 1px 2px rgb(0 0 0 / 0.1),\n      0px 2px 4px rgb(0 0 0 / 0.1);\n    --text-shadow-lg:\n      0px 1px 2px rgb(0 0 0 / 0.1), 0px 3px 2px rgb(0 0 0 / 0.1),\n      0px 4px 8px rgb(0 0 0 / 0.1);\n\n    --ease-in: cubic-bezier(0.4, 0, 1, 1);\n    --ease-out: cubic-bezier(0, 0, 0.2, 1);\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n\n    --animate-spin: spin 1s linear infinite;\n    --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\n    --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n    --animate-bounce: bounce 1s infinite;\n\n    @keyframes spin {\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    @keyframes ping {\n      75%,\n      100% {\n        transform: scale(2);\n        opacity: 0;\n      }\n    }\n\n    @keyframes pulse {\n      50% {\n        opacity: 0.5;\n      }\n    }\n\n    @keyframes bounce {\n      0%,\n      100% {\n        transform: translateY(-25%);\n        animation-timing-function: cubic-bezier(0.8, 0, 1, 1);\n      }\n\n      50% {\n        transform: none;\n        animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n      }\n    }\n\n    --blur-xs: 4px;\n    --blur-sm: 8px;\n    --blur-md: 12px;\n    --blur-lg: 16px;\n    --blur-xl: 24px;\n    --blur-2xl: 40px;\n    --blur-3xl: 64px;\n\n    --perspective-dramatic: 100px;\n    --perspective-near: 300px;\n    --perspective-normal: 500px;\n    --perspective-midrange: 800px;\n    --perspective-distant: 1200px;\n\n    --aspect-video: 16 / 9;\n\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: --theme(--font-sans, initial);\n    --default-font-feature-settings: --theme(\n      --font-sans--font-feature-settings,\n      initial\n    );\n    --default-font-variation-settings: --theme(\n      --font-sans--font-variation-settings,\n      initial\n    );\n    --default-mono-font-family: --theme(--font-mono, initial);\n    --default-mono-font-feature-settings: --theme(\n      --font-mono--font-feature-settings,\n      initial\n    );\n    --default-mono-font-variation-settings: --theme(\n      --font-mono--font-variation-settings,\n      initial\n    );\n  }\n\n  /* Deprecated */\n  @theme default inline reference {\n    --blur: 8px;\n    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);\n    --drop-shadow: 0 1px 2px rgb(0 0 0 / 0.1), 0 1px 1px rgb(0 0 0 / 0.06);\n    --radius: 0.25rem;\n    --max-width-prose: 65ch;\n  }\n}\n\n@layer base {\n  /*\n  1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n  2. Remove default margins and padding\n  3. Reset all borders.\n*/\n\n  *,\n  ::after,\n  ::before,\n  ::backdrop,\n  ::file-selector-button {\n    box-sizing: border-box; /* 1 */\n    margin: 0; /* 2 */\n    padding: 0; /* 2 */\n    border: 0 solid; /* 3 */\n  }\n\n  /*\n  1. Use a consistent sensible line-height in all browsers.\n  2. Prevent adjustments of font size after orientation changes in iOS.\n  3. Use a more readable tab size.\n  4. Use the user's configured `sans` font-family by default.\n  5. Use the user's configured `sans` font-feature-settings by default.\n  6. Use the user's configured `sans` font-variation-settings by default.\n  7. Disable tap highlights on iOS.\n*/\n\n  html,\n  :host {\n    line-height: 1.5; /* 1 */\n    -webkit-text-size-adjust: 100%; /* 2 */\n    tab-size: 4; /* 3 */\n    font-family: --theme(\n      --default-font-family,\n      ui-sans-serif,\n      system-ui,\n      sans-serif,\n      \"Apple Color Emoji\",\n      \"Segoe UI Emoji\",\n      \"Segoe UI Symbol\",\n      \"Noto Color Emoji\"\n    ); /* 4 */\n    font-feature-settings: --theme(\n      --default-font-feature-settings,\n      normal\n    ); /* 5 */\n    font-variation-settings: --theme(\n      --default-font-variation-settings,\n      normal\n    ); /* 6 */\n    -webkit-tap-highlight-color: transparent; /* 7 */\n  }\n\n  /*\n  1. Add the correct height in Firefox.\n  2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n  3. Reset the default border style to a 1px solid border.\n*/\n\n  hr {\n    height: 0; /* 1 */\n    color: inherit; /* 2 */\n    border-top-width: 1px; /* 3 */\n  }\n\n  /*\n  Add the correct text decoration in Chrome, Edge, and Safari.\n*/\n\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n\n  /*\n  Remove the default font size and weight for headings.\n*/\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n\n  /*\n  Reset links to optimize for opt-in styling instead of opt-out.\n*/\n\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n\n  /*\n  Add the correct font weight in Edge and Safari.\n*/\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  /*\n  1. Use the user's configured `mono` font-family by default.\n  2. Use the user's configured `mono` font-feature-settings by default.\n  3. Use the user's configured `mono` font-variation-settings by default.\n  4. Correct the odd `em` font sizing in all browsers.\n*/\n\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: --theme(\n      --default-mono-font-family,\n      ui-monospace,\n      SFMono-Regular,\n      Menlo,\n      Monaco,\n      Consolas,\n      \"Liberation Mono\",\n      \"Courier New\",\n      monospace\n    ); /* 1 */\n    font-feature-settings: --theme(\n      --default-mono-font-feature-settings,\n      normal\n    ); /* 2 */\n    font-variation-settings: --theme(\n      --default-mono-font-variation-settings,\n      normal\n    ); /* 3 */\n    font-size: 1em; /* 4 */\n  }\n\n  /*\n  Add the correct font size in all browsers.\n*/\n\n  small {\n    font-size: 80%;\n  }\n\n  /*\n  Prevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  /*\n  1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n  2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n  3. Remove gaps between table borders by default.\n*/\n\n  table {\n    text-indent: 0; /* 1 */\n    border-color: inherit; /* 2 */\n    border-collapse: collapse; /* 3 */\n  }\n\n  /*\n  Use the modern Firefox focus style for all focusable elements.\n*/\n\n  :-moz-focusring {\n    outline: auto;\n  }\n\n  /*\n  Add the correct vertical alignment in Chrome and Firefox.\n*/\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  /*\n  Add the correct display in Chrome and Safari.\n*/\n\n  summary {\n    display: list-item;\n  }\n\n  /*\n  Make lists unstyled by default.\n*/\n\n  ol,\n  ul,\n  menu {\n    list-style: none;\n  }\n\n  /*\n  1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n  2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n      This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\n  img,\n  svg,\n  video,\n  canvas,\n  audio,\n  iframe,\n  embed,\n  object {\n    display: block; /* 1 */\n    vertical-align: middle; /* 2 */\n  }\n\n  /*\n  Constrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\n  img,\n  video {\n    max-width: 100%;\n    height: auto;\n  }\n\n  /*\n  1. Inherit font styles in all browsers.\n  2. Remove border radius in all browsers.\n  3. Remove background color in all browsers.\n  4. Ensure consistent opacity for disabled states in all browsers.\n*/\n\n  button,\n  input,\n  select,\n  optgroup,\n  textarea,\n  ::file-selector-button {\n    font: inherit; /* 1 */\n    font-feature-settings: inherit; /* 1 */\n    font-variation-settings: inherit; /* 1 */\n    letter-spacing: inherit; /* 1 */\n    color: inherit; /* 1 */\n    border-radius: 0; /* 2 */\n    background-color: transparent; /* 3 */\n    opacity: 1; /* 4 */\n  }\n\n  /*\n  Restore default font weight.\n*/\n\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n\n  /*\n  Restore indentation.\n*/\n\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n\n  /*\n  Restore space after button.\n*/\n\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n\n  /*\n  Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n*/\n\n  ::placeholder {\n    opacity: 1;\n  }\n\n  /*\n  Set the default placeholder color to a semi-transparent version of the current text color in browsers that do not\n  crash when using `color-mix(‚Ä¶)` with `currentcolor`. (https://github.com/tailwindlabs/tailwindcss/issues/17194)\n*/\n\n  @supports (not (-webkit-appearance: -apple-pay-button)) /* Not Safari */ or\n    (contain-intrinsic-size: 1px) /* Safari 17+ */ {\n    ::placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n  }\n\n  /*\n  Prevent resizing textareas horizontally by default.\n*/\n\n  textarea {\n    resize: vertical;\n  }\n\n  /*\n  Remove the inner padding in Chrome and Safari on macOS.\n*/\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  /*\n  1. Ensure date/time inputs have the same height when empty in iOS Safari.\n  2. Ensure text alignment can be changed on date/time inputs in iOS Safari.\n*/\n\n  ::-webkit-date-and-time-value {\n    min-height: 1lh; /* 1 */\n    text-align: inherit; /* 2 */\n  }\n\n  /*\n  Prevent height from changing on date/time inputs in macOS Safari when the input is set to `display: block`.\n*/\n\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n\n  /*\n  Remove excess padding from pseudo-elements in date/time inputs to ensure consistent height across browsers.\n*/\n\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n\n  ::-webkit-datetime-edit,\n  ::-webkit-datetime-edit-year-field,\n  ::-webkit-datetime-edit-month-field,\n  ::-webkit-datetime-edit-day-field,\n  ::-webkit-datetime-edit-hour-field,\n  ::-webkit-datetime-edit-minute-field,\n  ::-webkit-datetime-edit-second-field,\n  ::-webkit-datetime-edit-millisecond-field,\n  ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n\n  /*\n  Center dropdown marker shown on inputs with paired `<datalist>`s in Chrome. (https://github.com/tailwindlabs/tailwindcss/issues/18499)\n*/\n\n  ::-webkit-calendar-picker-indicator {\n    line-height: 1;\n  }\n\n  /*\n  Remove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n\n  /*\n  Correct the inability to style the border radius in iOS Safari.\n*/\n\n  button,\n  input:where([type=\"button\"], [type=\"reset\"], [type=\"submit\"]),\n  ::file-selector-button {\n    appearance: button;\n  }\n\n  /*\n  Correct the cursor style of increment and decrement buttons in Safari.\n*/\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  /*\n  Make elements with the HTML hidden attribute stay hidden by default.\n*/\n\n  [hidden]:where(:not([hidden=\"until-found\"])) {\n    display: none !important;\n  }\n}\n\n@layer utilities {\n  @tailwind utilities;\n}\n","@import 'tailwindcss';\n@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&family=MedievalSharp&display=swap');\n\n@theme {\n  --color-dungeon-dark: #0a0a0c;\n  --color-dungeon-brown: #2c1a0e;\n  --color-dungeon-gold: #d4af37;\n  --color-dungeon-gold-dim: #8a7122;\n  --color-dungeon-paper: #eaddcf;\n  --color-dungeon-blood: #660a0a;\n  --color-dungeon-magic: #4b0082;\n  --color-dungeon-action: #2e8b57;\n\n  --font-heading: 'MedievalSharp', cursive;\n  --font-body: 'Cinzel', serif;\n  --font-ui: 'Inter', sans-serif;\n\n  --animate-float: float 6s ease-in-out infinite;\n  --animate-pulse-slow: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n  --animate-shimmer: shimmer 2s linear infinite;\n  --animate-deal: deal 0.5s ease-out forwards;\n  --animate-clash-left: clashLeft 0.6s ease-in forwards;\n  --animate-clash-right: clashRight 0.6s ease-in forwards;\n  --animate-shatter: shatter 0.6s ease-out forwards;\n  --animate-shake: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n}\n\n@keyframes float {\n  0%,\n  100% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(-10px);\n  }\n}\n\n@keyframes shimmer {\n  0% {\n    background-position: -1000px 0;\n  }\n  100% {\n    background-position: 1000px 0;\n  }\n}\n\n@keyframes deal {\n  0% {\n    transform: translateY(100px) scale(0.5);\n    opacity: 0;\n  }\n  100% {\n    transform: translateY(0) scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes clashLeft {\n  0% {\n    transform: translateX(-200px) scale(0.8);\n    opacity: 0;\n  }\n  40% {\n    transform: translateX(-250px) scale(0.9);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0) scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes clashRight {\n  0% {\n    transform: translateX(200px) scale(0.8);\n    opacity: 0;\n  }\n  40% {\n    transform: translateX(250px) scale(0.9);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(0) scale(1);\n    opacity: 1;\n  }\n}\n\n@keyframes shatter {\n  0% {\n    transform: scale(1);\n    filter: brightness(2);\n  }\n  30% {\n    transform: scale(1.2) rotate(15deg);\n    filter: brightness(3) sepia(1) hue-rotate(-50deg);\n    opacity: 0.8;\n  }\n  100% {\n    transform: scale(1.5) rotate(45deg);\n    opacity: 0;\n    filter: brightness(0);\n  }\n}\n\n@keyframes shake {\n  10%,\n  90% {\n    transform: translate3d(-2px, 0, 0);\n  }\n  20%,\n  80% {\n    transform: translate3d(4px, 0, 0);\n  }\n  30%,\n  50%,\n  70% {\n    transform: translate3d(-6px, 0, 0);\n  }\n  40%,\n  60% {\n    transform: translate3d(6px, 0, 0);\n  }\n}\n\n/* Scrollbar Styling */\n::-webkit-scrollbar {\n  width: 6px;\n}\n\n::-webkit-scrollbar-track {\n  background: #14111a;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #2a2535;\n  border-radius: 4px;\n  border: 1px solid #3a3545;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #3a3545;\n}\n\n.custom-scrollbar::-webkit-scrollbar {\n  width: 6px;\n}\n\n.custom-scrollbar::-webkit-scrollbar-track {\n  background: #0a0a0c;\n}\n\n/* Glass Panel */\n.glass-panel {\n  background: rgba(18, 14, 24, 0.8);\n  backdrop-filter: blur(14px);\n  -webkit-backdrop-filter: blur(14px);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.6);\n}\n\n/* CRT Scanline Overlay */\n.scanlines {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(\n    to bottom,\n    rgba(255, 255, 255, 0),\n    rgba(255, 255, 255, 0) 50%,\n    rgba(0, 0, 0, 0.1) 50%,\n    rgba(0, 0, 0, 0.1)\n  );\n  background-size: 100% 4px;\n  pointer-events: none;\n  z-index: 9999;\n  opacity: 0.15;\n}\n\nbody {\n  background-color: #0a0a10;\n  color: #eaddcf;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n"],"names":[],"sourceRoot":""}